"use strict";(self.webpackChunklehi31=self.webpackChunklehi31||[]).push([[823],{1823:(U,p,l)=>{l.r(p),l.d(p,{CallingsModule:()=>S});var d=l(8583),c=l(1558),o=l(2690),e=l(7716),g=l(665),u=l(5046);function Z(n,s){if(1&n&&(e.ynx(0),e._UZ(1,"br"),e.TgZ(2,"span",7),e._uU(3),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.ekj("bg-primary","Needs extending"===t.status)("bg-info","Needs approval"===t.status)("bg-warning","Needs someone else"===t.status)("bg-secondary","Needs extending"===t.status)("bg-danger","Needs sustaining"===t.status)("bg-success","Needs setting apart"===t.status),e.xp6(1),e.hij(" ",t.status," ")}}let m=(()=>{class n{constructor(){this.status=null}ngOnInit(){const t=this.calling.history.find(i=>i.memberId===this.calling.member.id);this.isApproved=t.isApproved,this.accepted=t.accepted,this.sustainedDate=t.sustainedDate,this.isSetApart=t.isSetApart,this.needToRelease=t.needToRelease,this.isReleased=t.isReleased,this.status=null,t.memberId||(this.status=null),t.memberId&&null===t.isApproved&&!t.accepted&&!t.sustainedDate&&!t.isSetApart&&(this.status=u.sj.NeedsApproval),("NO"===t.isApproved&&"NO"===t.accepted&&!t.sustainedDate&&!t.isSetApart||t.isApproved&&!t.accepted&&!t.sustainedDate&&!t.isSetApart)&&(this.status=u.sj.NeedsSomeoneElse),t.isApproved&&!t.accepted&&!t.sustainedDate&&!t.isSetApart&&(this.status=u.sj.NeedsExtending),t.isApproved&&"YES"===t.accepted&&!t.sustainedDate&&!t.isSetApart&&(this.status=u.sj.NeedsSustaining),t.isApproved&&"YES"===t.accepted&&t.sustainedDate&&!t.isSetApart&&(this.status=u.sj.NeedsSettingApart)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["lehi31-calling-item"]],inputs:{calling:"calling",showDetails:"showDetails"},decls:45,vars:23,consts:[[1,"row"],[1,"col-12"],[1,"d-flex","justify-content-between"],[1,"text-bold","text-end"],[4,"ngIf"],[1,"text-muted","small"],[1,"text-muted","small","text-end"],[1,"badge"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div"),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e._uU(6),e.YNc(7,Z,4,13,"ng-container",4),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",1),e.TgZ(9,"div",2),e.TgZ(10,"div",5),e._uU(11,"Approved:"),e.qZA(),e.TgZ(12,"div",6),e._uU(13),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",1),e.TgZ(15,"div",2),e.TgZ(16,"div",5),e._uU(17,"Accepted:"),e.qZA(),e.TgZ(18,"div",6),e._uU(19),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",1),e.TgZ(21,"div",2),e.TgZ(22,"div",5),e._uU(23,"Sustained date:"),e.qZA(),e.TgZ(24,"div",6),e._uU(25),e.ALo(26,"date"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",1),e.TgZ(28,"div",2),e.TgZ(29,"div",5),e._uU(30,"Set apart:"),e.qZA(),e.TgZ(31,"div",5),e._uU(32),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",1),e.TgZ(34,"div",2),e.TgZ(35,"div",5),e._uU(36,"Needs to release:"),e.qZA(),e.TgZ(37,"div",5),e._uU(38),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",1),e.TgZ(40,"div",2),e.TgZ(41,"div",5),e._uU(42,"Released:"),e.qZA(),e.TgZ(43,"div",5),e._uU(44),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Oqu(i.calling.name),e.xp6(2),e.hij(" ",i.calling.member.givenName," "),e.xp6(1),e.Q6J("ngIf",i.status),e.xp6(1),e.ekj("collapse",!i.showDetails),e.xp6(5),e.hij(" ",null===i.isApproved?"--":"YES"===i.isApproved?"YES":"NO"," "),e.xp6(1),e.ekj("collapse",!i.showDetails),e.xp6(5),e.hij(" ",null===i.accepted?"--":"YES"===i.accepted?"YES":"NO"," "),e.xp6(1),e.ekj("collapse",!i.showDetails),e.xp6(5),e.hij(" ",i.sustainedDate&&"--"!==i.calling.member.givenName?e.lcZ(26,21,i.sustainedDate):"--"," "),e.xp6(2),e.ekj("collapse",!i.showDetails),e.xp6(5),e.hij(" ",i.sustainedDate&&"--"!==i.calling.member.givenName?i.isSetApart?"YES":"NO":"--"," "),e.xp6(1),e.ekj("collapse",!i.showDetails),e.xp6(5),e.hij(" ",i.needToRelease?"YES":"--"," "),e.xp6(1),e.ekj("collapse",!i.showDetails),e.xp6(5),e.hij(" ",i.isReleased?"YES":"--"," "))},directives:[d.O5],pipes:[d.uU],encapsulation:2}),n})();function h(n,s){if(1&n&&(e.TgZ(0,"li",32),e._UZ(1,"lehi31-calling-item",33),e.qZA()),2&n){const t=s.$implicit,i=e.oxw(5);e.xp6(1),e.Q6J("calling",t)("showDetails",i.showDetails)}}function _(n,s){if(1&n&&(e.ynx(0),e.YNc(1,h,2,2,"li",31),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngForOf",t.callings)}}function A(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",27),e.TgZ(2,"div",28),e.TgZ(3,"h5",29),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"ul",30),e.YNc(6,_,2,1,"ng-container",25),e.qZA(),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",t.name," "),e.xp6(2),e.Q6J("ngIf",t.callings.length)}}function v(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,A,7,2,"ng-container",25),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.callings.length)}}function T(n,s){if(1&n&&(e.ynx(0),e.YNc(1,v,2,1,"div",26),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.data)}}function f(n,s){1&n&&(e.ynx(0),e.TgZ(1,"div",34),e.TgZ(2,"div",28),e._uU(3,"No Callings Found"),e.qZA(),e.qZA(),e.BQk())}const C=[{path:"",component:(()=>{class n{constructor(t,i){this.activatedRoute=t,this.router=i,this.data=o.Vg,this.callingsFound=!0,this.selectedOrganization="all",this.selectedStatus="all",this.activatedRoute.queryParams.subscribe(a=>{this.selectedStatus=a.status,this.selectedOrganization=a.organization,this.updateFilters(this.selectedStatus,this.selectedOrganization)})}toggleDetails(){this.showDetails=!this.showDetails}onStatusChange(){this.updateFilters(this.selectedStatus,this.selectedOrganization)}onOrganizationChange(){this.updateFilters(this.selectedStatus,this.selectedOrganization)}updateFilters(t,i){switch(t){case"all":this.data=o.Vg;break;case"need-filling":this.data=o.Nt;break;case"need-approval":this.data=o.Zw;break;case"need-extending":this.data=o.Bo;break;case"need-someone-else":this.data=o.uB;break;case"need-sustaining":this.data=o.yl;break;case"need-set-apart":this.data=o.lX}"all"!==i&&(this.data=this.data.filter(a=>a.group===i)),this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{status:t||"all",organization:i||"all"},queryParamsHandling:"merge",skipLocationChange:!1}).then(()=>console.log("route changed")),this.checkIfCallingFound()}ngOnInit(){this.updateFilters(this.selectedStatus,this.selectedOrganization)}checkIfCallingFound(){this.callingsFound=!1,this.data.forEach(t=>{t.callings.length&&(this.callingsFound=!0)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.gz),e.Y36(c.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["lehi31-callings"]],decls:50,vars:4,consts:[[1,"row"],[1,"col-xl-8","col-lg-8","col-md-12","col-sm-12","mb-3"],[1,"d-flex","justify-content-between","mb-3"],[1,"h3","mb-0"],[1,"d-flex"],["aria-label","Filter",1,"form-select","form-select-sm","d-inline","me-2",3,"ngModel","change","ngModelChange"],["value","all","selected",""],["value","bishopric"],["value","elders-quorum"],["value","relief-society"],["value","aaronic-priesthood-quorums"],["value","young-woman"],["value","sunday-school"],["value","primary"],["value","ward-missionaries"],["value","full-time-missionaries"],["value","temple-family-history"],["value","other-callings"],["value","need-filling"],["value","need-approval"],["value","need-extending"],["value","need-someone-else"],["value","need-sustaining"],["value","need-set-apart"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"card-body"],[1,"card-title","mb-0"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[3,"calling","showDetails"],[1,"card"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h1",3),e._uU(4,"Callings"),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"select",5),e.NdJ("change",function(){return i.onOrganizationChange()})("ngModelChange",function(r){return i.selectedOrganization=r}),e.TgZ(7,"option",6),e._uU(8,"Organization - All"),e.qZA(),e.TgZ(9,"option",7),e._uU(10,"Bishopric"),e.qZA(),e.TgZ(11,"option",8),e._uU(12,"Elders Quorum"),e.qZA(),e.TgZ(13,"option",9),e._uU(14,"Relief Society"),e.qZA(),e.TgZ(15,"option",10),e._uU(16," Aaronic Priesthood Quorums "),e.qZA(),e.TgZ(17,"option",11),e._uU(18,"Young Women"),e.qZA(),e.TgZ(19,"option",12),e._uU(20,"Sunday School"),e.qZA(),e.TgZ(21,"option",13),e._uU(22,"Primary"),e.qZA(),e.TgZ(23,"option",14),e._uU(24,"Ward Missionaries"),e.qZA(),e.TgZ(25,"option",15),e._uU(26,"Full Time Missionaries"),e.qZA(),e.TgZ(27,"option",16),e._uU(28,"Temple Family History"),e.qZA(),e.TgZ(29,"option",17),e._uU(30,"Other Callings"),e.qZA(),e.qZA(),e.TgZ(31,"select",5),e.NdJ("change",function(){return i.onStatusChange()})("ngModelChange",function(r){return i.selectedStatus=r}),e.TgZ(32,"option",6),e._uU(33,"Status - All"),e.qZA(),e.TgZ(34,"option",18),e._uU(35,"Need Filling"),e.qZA(),e.TgZ(36,"option",19),e._uU(37,"Need Approval"),e.qZA(),e.TgZ(38,"option",20),e._uU(39,"Need Extending"),e.qZA(),e.TgZ(40,"option",21),e._uU(41,"Needs Someone Else"),e.qZA(),e.TgZ(42,"option",22),e._uU(43,"Need Sustaining"),e.qZA(),e.TgZ(44,"option",23),e._uU(45,"Need Set Apart"),e.qZA(),e.qZA(),e.TgZ(46,"button",24),e.NdJ("click",function(){return i.toggleDetails()}),e._uU(47," Details "),e.qZA(),e.qZA(),e.qZA(),e.YNc(48,T,2,1,"ng-container",25),e.YNc(49,f,4,0,"ng-container",25),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngModel",i.selectedOrganization),e.xp6(25),e.Q6J("ngModel",i.selectedStatus),e.xp6(17),e.Q6J("ngIf",i.callingsFound),e.xp6(1),e.Q6J("ngIf",!i.callingsFound))},directives:[g.EJ,g.JJ,g.On,g.YN,g.Kr,d.O5,d.sg,m],encapsulation:2}),n})()}];let q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[c.Bz.forChild(C)],c.Bz]}),n})(),S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez,g.u5,q]]}),n})()}}]);