import"../chunks/NZTpNUN0.js";import"../chunks/69_IOA4Y.js";import{p as $,f as aa,a as ea,aw as sa,g as a,U as m,a8 as e,s as i,c as o,e as ta,r as n,aa as _,t as ra}from"../chunks/D6GkHfO-.js";import{e as x,i as D,s as ia}from"../chunks/DYmw-k_K.js";import{c as la,a as b,f as k}from"../chunks/D8wZRsgK.js";import{a as oa}from"../chunks/ByZFmqoY.js";import{r as g}from"../chunks/DsJSLd4M.js";import{g as na,c as O}from"../chunks/C_VuHRZi.js";import{b as h}from"../chunks/6wL3GoW6.js";import{p as ca}from"../chunks/CdEA5IGF.js";import{i as da}from"../chunks/XlJfi8GN.js";import{g as ma}from"../chunks/BNcMi4Ct.js";import{L as pa}from"../chunks/BhxtCAZQ.js";var ua=k('<div role="alert"><i></i> <div> </div></div>'),fa=k('<div class="input-group"><input type="text" class="form-control" placeholder="At least 8 characters" id="password" aria-describedby="password" required/> <button type="button" class="input-group-text" aria-label="Hide password"><i class="bi bi-eye-slash"></i></button></div>'),va=k('<div class="input-group"><input type="password" class="form-control" placeholder="At least 8 characters" id="password" aria-describedby="password" required/> <button type="button" class="input-group-text" aria-label="Show password"><i class="bi bi-eye"></i></button></div>'),ba=k(`<div class="container d-flex flex-column gap-3 mt-5 mb-5 svelte-k1bqmm"><a href="/home" class="header-content d-flex align-items-center gap-2 text-decoration-none svelte-k1bqmm"><img src="/assets/logo.png" alt="logo" class="logo svelte-k1bqmm"/> <h1 class="mb-0 h4">Lehi Tolutaha</h1></a> <h2 class="h5">Create Account</h2> <p class="text-muted small">Sign up to create an account. You'll need to verify your email before logging in.</p> <!> <form class="d-flex gap-3 flex-column"><div><label for="email" class="form-label">Email address</label> <input type="email" class="form-control" placeholder="your.email@example.com" id="email" aria-describedby="email" required/></div> <div><label for="displayName" class="form-label">Display Name (Optional)</label> <input type="text" class="form-control" placeholder="John Smith" id="displayName" aria-describedby="displayName"/> <small class="text-muted">This will be shown instead of your email</small></div> <div><label for="password" class="form-label">Password</label> <!> <small class="text-muted">Minimum 8 characters</small></div> <div><label for="confirmPassword" class="form-label">Confirm Password</label> <input type="password" class="form-control" placeholder="Re-enter password" id="confirmPassword" aria-describedby="confirmPassword" required/></div> <div class="d-flex justify-content-between align-items-center"><a href="/auth/login" class="btn-link btn">Back to login</a> <button type="submit" class="btn btn-primary">Create Account</button></div></form> <div class="text-center"><small class="text-muted">Already have an account? <a href="/auth/login" class="link-primary">Sign in</a></small></div></div>`);function ga(P,U){$(U,!1);const{actions:{registerWithEmail:V}}=na();let p=m(!1),y=m(""),q=m(""),d=m(""),w=m(""),A=m(!1),c=m(""),f=m("error");const R=async()=>{if(e(p,!0),e(c,""),e(f,"error"),!a(y)||!a(d)||!a(w)){e(c,"Email, password, and password confirmation are required"),e(p,!1);return}if(a(d)!==a(w)){e(c,"Passwords do not match"),e(p,!1);return}if(a(d).length<8){e(c,"Password must be at least 8 characters"),e(p,!1);return}const t=await V(a(y),a(d),a(q));t.success?(e(f,"success"),e(c,"Account created! Please check your email to verify your account."),setTimeout(()=>{ma("/auth/login?verified=pending")},3e3)):(e(f,"error"),e(c,t.error||"Registration failed"),e(p,!1))},j=()=>{e(A,!a(A))},W=t=>{t.key==="Enter"&&R()},Y=t=>{t.focus()};da();var B=la();x("keydown",sa,W);var z=aa(B);{var F=t=>{pa(t,{get message(){return a(c)}})},G=t=>{var S=ba(),H=i(o(S),6);{var K=s=>{var r=ua(),l=o(r),u=i(l,2),v=o(u,!0);n(u),n(r),ra(()=>{O(r,1,`alert ${a(f)==="success"?"alert-success":"alert-danger"} d-flex align-items-center gap-2`),O(l,1,`bi ${a(f)==="success"?"bi-check-circle-fill":"bi-exclamation-triangle-fill"}`),ia(v,a(c))}),b(s,r)};D(H,s=>{a(c)&&s(K)})}var N=i(H,2),E=o(N),T=i(o(E),2);g(T),ta(()=>h(T,()=>a(y),s=>e(y,s))),oa(T,s=>Y?.(s)),n(E);var C=i(E,2),I=i(o(C),2);g(I),_(2),n(C);var L=i(C,2),Q=i(o(L),2);{var X=s=>{var r=fa(),l=o(r);g(l);var u=i(l,2);n(r),h(l,()=>a(d),v=>e(d,v)),x("click",u,j),b(s,r)},Z=s=>{var r=va(),l=o(r);g(l);var u=i(l,2);n(r),h(l,()=>a(d),v=>e(d,v)),x("click",u,j),b(s,r)};D(Q,s=>{a(A)?s(X):s(Z,!1)})}_(2),n(L);var J=i(L,2),M=i(o(J),2);g(M),n(J),_(2),n(N),_(2),n(S),h(I,()=>a(q),s=>e(q,s)),h(M,()=>a(w),s=>e(w,s)),x("submit",N,ca(R)),b(t,S)};D(z,t=>{a(p)?t(F):t(G,!1)})}b(P,B),ea()}function Ca(P){ga(P,{})}export{Ca as component};
