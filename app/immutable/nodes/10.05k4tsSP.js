const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/DO0djbQe.js","../chunks/Cpj98o6Y.js"])))=>i.map(i=>d[i]);
import"../chunks/NZTpNUN0.js";import"../chunks/69_IOA4Y.js";import{d as Ka,o as va,g as Ha}from"../chunks/DHXte27T.js";import{p as xt,c as a,r as t,s as n,a as wt,t as E,i as Qa,g as e,f as Me,F as Sa,ai as H,D as c,E as m,aj as da,u as r,R as je,an as Ya,w as ae,ao as Va}from"../chunks/CPOcesE7.js";import{f as v,a as i,c as ot,t as gt}from"../chunks/YsHTGu5k.js";import{i as f,b as $e,c as wa,a as ca,s as x,p as ht,e as V}from"../chunks/CCh4w6lW.js";import{i as kt}from"../chunks/C2Q_9cr2.js";import{P as Xa}from"../chunks/CBHdtCy3.js";import{e as Ze,i as la}from"../chunks/DAwrR-3T.js";import{r as Ma,b as Za,s as ze,i as Ja,c as Ga,d as es,e as ts}from"../chunks/CGwXOSlZ.js";import{b as as}from"../chunks/QDlYjqxz.js";import{c as ss,g as ua,e as zt,d as rs,a as Kt,B as ns,b as Ft,h as is,t as os}from"../chunks/Yr1apH5u.js";import{d as ka,s as $a,A as ls,E as vs}from"../chunks/CQScQFmn.js";import{g as _a,p as ye,k as ds,f as be,O as Ea,P as yt,c as lt,A as cs}from"../chunks/Dlh-YxiV.js";import{A as us,E as _s,c as ps}from"../chunks/Sra4w5Jg.js";import{S as Da}from"../chunks/ef-6hLZm.js";import{v as Ta,D as Pa}from"../chunks/BvciXj8s.js";import{s as Ht}from"../chunks/BMk_lR9O.js";import{B as fs}from"../chunks/YJ3M6K71.js";import{_ as ms}from"../chunks/CmsKOCeN.js";import{s as bs}from"../chunks/CdEA5IGF.js";import{R as Ut}from"../chunks/CLt3oPSS.js";function ys(ge,q){return ss(ge,-q)}const gs=!0,Gr=Object.freeze(Object.defineProperty({__proto__:null,prerender:gs},Symbol.toStringTag,{value:"Module"}));var hs=v("<option> </option>"),xs=v('<div class="col-12 col-md-auto"><select class="form-select form-select" aria-label="Filter by category"><option>All Categories</option><!></select></div>'),ws=v('<div class="search-filter sticky-top svelte-1wm3u0q"><div class="row g-2"><div class="col-12 col-md"><input type="search" class="form-control form-control" placeholder="Search..."/></div> <!></div></div>');function ks(ge,q){xt(q,!1);const G=()=>$e(C,"$searchQuery",U),R=()=>$e(X,"$currentCategories",U),_e=()=>$e(le,"$categoryFilter",U),[U,B]=ca(),{stores:{currentCategories:X,categoryFilter:le,searchQuery:C}}=ua();kt();var ve=ws(),j=a(ve),Ee=a(j),Z=a(Ee);Ma(Z),t(Ee);var Ae=n(Ee,2);{var S=L=>{var k=xs(),o=a(k);E(()=>{_e(),Qa(()=>{R()})});var ie=a(o);ie.value=ie.__value="";var Ce=n(ie);Ze(Ce,1,R,la,(Se,De)=>{var se=hs(),ee=a(se,!0);t(se);var pe={};E(()=>{x(ee,e(De).label),pe!==(pe=e(De).key)&&(se.value=(se.__value=e(De).key)??"")}),i(Se,se)}),t(o),t(k),Za(o,_e,Se=>wa(le,Se)),i(L,k)};f(Ae,L=>{R().length&&L(S)})}t(j),t(ve),as(Z,G,L=>wa(C,L)),i(ge,ve),wt(),B()}var $s=v('<p class="mb-0">No past events to delete.</p>'),Es=v('<p class="mb-2"><strong> </strong></p>'),As=v(`<div class="alert alert-warning mb-0" role="alert"><p class="mb-2"><strong> </strong></p> <p class="mb-0 small">These recurring events have active future instances and cannot be deleted until all
								future occurrences have passed.</p></div>`),Ss=v("<!> <!>",1),Ms=v('<div class="modal svelte-1u875uh" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header bg-primary text-white"><h5 class="modal-title">Delete Past Events - Results</h5> <button type="button" class="btn-close btn-close-white" aria-label="Close"></button></div> <div class="modal-body"><!></div> <div class="modal-footer"><button type="button" class="btn btn-primary">OK</button></div></div></div></div>');function Ds(ge,q){xt(q,!1);let G=ht(q,"deleted",8),R=ht(q,"skipped",8),_e=ht(q,"callback",8);function U(){_e()()}kt();var B=Ms(),X=a(B),le=a(X),C=a(le),ve=n(a(C),2);t(C);var j=n(C,2),Ee=a(j);{var Z=k=>{var o=$s();i(k,o)},Ae=k=>{var o=Ss(),ie=Me(o);{var Ce=se=>{var ee=Es(),pe=a(ee),Le=a(pe);t(pe),t(ee),E(()=>x(Le,`✓ Deleted ${G()??""} past event${G()===1?"":"s"}.`)),i(se,ee)};f(ie,se=>{G()>0&&se(Ce)})}var Se=n(ie,2);{var De=se=>{var ee=As(),pe=a(ee),Le=a(pe),Ke=a(Le);t(Le),t(pe),Sa(2),t(ee),E(()=>x(Ke,`⚠ Skipped ${R()??""} recurring event${R()===1?"":"s"}`)),i(se,ee)};f(Se,se=>{R()>0&&se(De)})}i(k,o)};f(Ee,k=>{G()===0&&R()===0?k(Z):k(Ae,!1)})}t(j);var S=n(j,2),L=a(S);t(S),t(le),t(X),t(B),V("click",ve,U),V("click",L,U),i(ge,B),wt()}var Ts=v(`<div class="modal svelte-dmsnaa" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header bg-danger text-white"><h5 class="modal-title">Delete Past Events</h5> <button type="button" class="btn-close btn-close-white" aria-label="Close"></button></div> <div class="modal-body"><p class="mb-3"><strong> </strong></p> <p class="mb-0 text-muted small">This action cannot be undone. Recurring events with future instances will be skipped
					automatically.</p></div> <div class="modal-footer"><button type="button" class="btn btn-secondary">Cancel</button> <button type="button" class="btn btn-danger">Delete</button></div></div></div></div>`);function Ps(ge,q){xt(q,!1);let G=ht(q,"cutoffDate",8),R=ht(q,"callback",8);function _e(){R()(!0)}function U(){R()(!1)}kt();var B=Ts(),X=a(B),le=a(X),C=a(le),ve=n(a(C),2);t(C);var j=n(C,2),Ee=a(j),Z=a(Ee),Ae=a(Z);t(Z),t(Ee),Sa(2),t(j);var S=n(j,2),L=a(S),k=n(L,2);t(S),t(le),t(X),t(B),E(()=>x(Ae,`Are you sure you want to delete all events that occurred before ${G()??""}?`)),V("click",ve,U),V("click",L,U),V("click",k,_e),i(ge,B),wt()}var Rs=v('<button class="btn btn-sm btn-outline-secondary w-100"><i class="bi bi-clock-history me-1"></i> </button>'),Is=v('<button class="btn btn-sm btn-outline-danger" type="button"><!></button>'),Os=v('<div class="event-actions svelte-1ofdc1q"><button class="btn btn-sm btn-primary" type="button" data-bs-toggle="offcanvas" aria-label="Edit past event"><i class="bi bi-pencil-square"></i></button></div>'),Cs=v('<div class="daily-event-row svelte-1ofdc1q"><div class="event-content svelte-1ofdc1q"><!></div> <!></div>'),Fs=v('<li class="list-group-item py-3"><div class="d-flex flex-column flex-md-row gap-3"><div class="event-date-column d-flex flex-column align-items-start text-nowrap svelte-1ofdc1q"><strong> </strong> <small class="text-muted"> </small></div> <div class="d-flex flex-column gap-3 flex-grow-1"></div></div></li>'),Us=v('<li class="list-group-item py-3 text-muted">No events scheduled this week.</li>'),Bs=v('<li class="list-group-item list-group-item-light text-uppercase small fw-lighter p-0"><button><span class="d-flex align-items-center gap-2"><i></i> <span class="text-muted"> </span></span> <span> </span></button></li> <!>',1),js=v('<li class="list-group-item bg-secondary text-white fw-semibold"> </li> <!>',1),Ls=v('<button class="btn btn-outline-secondary btn-sm">Reset</button>'),Ns=v('<div class="d-flex gap-2"><button class="btn btn-primary btn-sm">More</button> <button class="btn btn-outline-primary btn-sm">All</button></div>'),Ws=v('<div class="card-footer d-flex align-items-center justify-content-between"><small> </small> <!></div>'),qs=v('<ul class="list-group list-group-flush border-top-0"></ul> <!>',1),zs=v('<div class="card-body text-muted small">No past events available.</div>'),Ks=v('<div class="card"><div class="card-header"><div class="d-flex justify-content-between align-items-center gap-3 flex-wrap fw-lighter"><span>Past Events</span> <div class="d-flex gap-2"><!> <button class="btn btn-sm btn-outline-secondary">Hide</button></div></div></div> <!></div>'),Hs=v('<div class="d-flex flex-column gap-4"><!></div>'),Qs=v("<!> <!> <!> <!>",1);function Ys(ge,q){xt(q,!1);const G=()=>$e(A,"$weeksExpanded",j),R=()=>$e(s,"$allPastEvents",j),_e=()=>$e(De,"$currentUser",j),U=()=>$e(pe,"$userOrganizations",j),B=()=>$e(Se,"$currentUserHasPermission",j),X=()=>$e(ee,"$currentUserIsRoot",j),le=()=>$e(se,"$currentUserIsAdmin",j),C=()=>$e(Le,"$ready",j),ve=()=>$e(he,"$searchQuery",j),[j,Ee]=ca(),Z=m(),Ae=m(),S=m(),L=m(),k=m(),o=m(),ie=m(),Ce=m(),{stores:{currentUserHasPermission:Se,currentUser:De,currentUserIsAdmin:se,currentUserIsRoot:ee,userOrganizations:pe}}=_a(),{stores:{ready:Le,dbData:Ke,weeksExpanded:A,searchQuery:he},actions:{reload:He}}=ua(),Bt={title:"Event",description:"",location:"",event_type:"calendar_event",is_public:!0};let st=ht(q,"formId",24,Ta),$t=m(!1),vt=m(!1),dt=m(),Et=m(!1),At=m(!1),ct=m(!1),ut=m(new Set),Je=m(!1),St=m(""),jt=m({...Bt}),Mt=m(!1),Dt=m(""),Tt=m(!1),Qe=m({deleted:0,skipped:0});const _t=4,Qt=4;let Ge=m(_t),I=m(!1);const Pt=Ht();let Ye=m({});function Lt(d){return e(Z).includes(d)}function Yt(d){const M=e(Ye)[d]??Lt(d);c(Ye,{...e(Ye),[d]:!M})}const Vt=d=>{c(St,"Event Item"),c(jt,{...d,category:d?.meta_data?.category})},s=Ka(Ke,d=>{const M=Ht();return(d??[]).filter(g=>!(g.event_type!=="calendar_event"||!g.start_time||ye(g.start_time)>=M||g.recurrence_rule&&(!g.recurrence_end_date||g.recurrence_end_date&&ye(g.recurrence_end_date)>=M)))}),l=d=>ps(d,{currentUserId:e(dt),isPrivileged:e(vt),canEditOwnOrgEvents:e(ct),userOrganizations:e(ut)});let _=m(!1);function y(){c(Ge,e(Ge)+Qt)}function Q(){c(Ge,520),c(I,!0)}function Ne(){c(Ge,_t),c(I,!1)}const Te=()=>{if(!e($t)||e(Je)||!Ha(ee)||!e(ie))return;const d=Ht();c(Dt,be(d,"MMM d, yyyy")),c(Mt,!0)};async function F(d){if(c(Mt,!1),!d)return;const M=Ht();c(Je,!0);try{const g=await rs(M);await He(),c(Qe,g),c(Tt,!0)}catch(g){console.error("Failed to delete past events",g),alert("Failed to delete past events. Please try again.")}finally{c(Je,!1)}}function fe(){c(Tt,!1)}va(async()=>{await He()}),H(()=>(R(),e(Ge)),()=>{c(S,(R()??[]).filter(d=>{if(!d.start_time)return!1;const M=ye(d.start_time),g=ys(Pt,e(Ge));return M>=g&&M<Pt}))}),H(()=>(e(S),be),()=>{c(k,(()=>{const d=new Map;for(const M of e(S)){if(!M.start_time)continue;const g=ye(M.start_time),b=ds(g,{weekStartsOn:1}),p=zt(g,{weekStartsOn:1}),h=be(b,"yyyy-MM-dd"),u=`${be(b,"MMM d")} – ${be(p,"MMM d")}`;let N=d.get(h);N||(N={key:h,label:u,days:new Map},d.set(h,N));const z=be(g,"yyyy-MM-dd");let te=N.days.get(z);te||(te={key:z,displayDay:be(g,"EEE"),displayDate:be(g,"MMM d"),events:[]},N.days.set(z,te)),te.events.push(M)}return Array.from(d.values()).sort((M,g)=>M.key<g.key?1:-1).map(M=>({key:M.key,label:M.label,days:Array.from(M.days.values()).sort((g,b)=>g.key<b.key?1:-1).map(g=>({...g,events:g.events.slice().sort((b,p)=>{const h=b.is_all_day?0:1,u=p.is_all_day?0:1;if(h!==u)return h-u;const N=b.start_time?ye(b.start_time).getTime():Number.MAX_SAFE_INTEGER,z=p.start_time?ye(p.start_time).getTime():Number.MAX_SAFE_INTEGER;return N-z})}))}))})())}),H(()=>e(k),()=>{c(Z,(()=>{if(e(k).length===0)return[];const d=[];return e(k)[0]&&d.push(e(k)[0].key),e(k)[1]&&d.push(e(k)[1].key),d})())}),H(()=>(G(),e(Ye)),()=>{c(Ae,d=>G()?!0:e(Ye)[d]!==void 0?e(Ye)[d]:Lt(d))}),H(()=>e(S),()=>{c(L,e(S).length)}),H(()=>(e(k),be),()=>{c(o,e(k).reduce((d,M)=>{const g=ye(M.key),b=zt(g,{weekStartsOn:1}),p=be(b,"yyyy-MM"),h=be(b,"MMMM yyyy");return d[p]||(d[p]={label:h,weeks:[]}),d[p].weeks.push(M),d},{}))}),H(()=>_e(),()=>{c(dt,_e()?.id)}),H(()=>U(),()=>{c(ut,U())}),H(()=>e(dt),()=>{c(At,!!e(dt))}),H(()=>(e(ut),Ea),()=>{c(Et,e(ut).has(Ea.Bishopric))}),H(()=>(B(),yt),()=>{c(ct,B()(yt.EditOwnOrgEvents))}),H(()=>(X(),le(),e(Et),B(),yt),()=>{c(vt,X()||le()||e(Et)||B()(yt.EditAllEvents))}),H(()=>(e(vt),B(),e(ct),e(At)),()=>{c($t,e(vt)||B()(yt.CreateEvents)||e(ct)||e(At))}),H(()=>e(S),()=>{c(ie,e(S).length>0)}),H(()=>(R(),e(S)),()=>{c(Ce,R().length>e(S).length)}),da(),kt();var xe=Qs(),Pe=Me(xe);Pa(Pe,{get title(){return e(St)},get id(){return st()},children:(d,M)=>{us(d,{get eventItem(){return e(jt)},get drawerId(){return st()},name:"past-event-item-form"})},$$slots:{default:!0}});var Fe=n(Pe,2);{var Ve=d=>{var M=ot(),g=Me(M);{var b=h=>{var u=ot(),N=Me(u);{var z=Re=>{var de=Rs(),Ue=n(a(de));t(de),E(()=>x(Ue,` Show Past Events (${R(),r(()=>R().length)??""})`)),V("click",de,()=>c(_,!0)),i(Re,de)},te=Re=>{var de=Ks(),Ue=a(de),Xe=a(Ue),pt=n(a(Xe),2),tt=a(pt);{var nt=O=>{var J=Is(),we=a(J);{var $=T=>{var K=gt("Deleting…");i(T,K)},ke=T=>{var K=gt();E(()=>x(K,`Delete All (${e(L)??""})`)),i(T,K)};f(we,T=>{e(Je)?T($):T(ke,!1)})}t(J),E(()=>J.disabled=e(Je)),V("click",J,Te),i(O,J)};f(tt,O=>{X()&&e(ie)&&O(nt)})}var Rt=n(tt,2);t(pt),t(Xe),t(Ue);var w=n(Ue,2);{var D=O=>{var J=qs(),we=Me(J);Ze(we,5,()=>(e(o),r(()=>Object.entries(e(o)))),([T,K])=>T,(T,K)=>{var Be=Ya(()=>Va(e(K),2));let ne=()=>e(Be)[1];var oe=js(),ce=Me(oe),qe=a(ce,!0);t(ce);var me=n(ce,2);Ze(me,1,()=>(ne(),r(()=>ne().weeks)),ue=>ue.key,(ue,Y)=>{const it=je(()=>(ae(ye),e(Y),r(()=>ye(e(Y).key)))),ft=je(()=>(ae(zt),ae(e(it)),r(()=>zt(e(it),{weekStartsOn:1})))),P=je(()=>(ae($a),ae(e(ft)),r(()=>$a(e(ft))))),W=je(()=>(ae(ka),ae(e(ft)),ae(e(P)),r(()=>ka(e(ft),e(P),{weekStartsOn:1})+1))),Ie=je(()=>(e(Ae),e(Y),r(()=>e(Ae)(e(Y).key)))),at=je(()=>(e(Y),r(()=>e(Y).days.reduce((Ot,Nt)=>Ot+Nt.events.length,0))));var pa=Bs(),Xt=Me(pa),It=a(Xt);let fa;var Zt=a(It),ma=a(Zt),ba=n(ma,2),Ra=a(ba);t(ba),t(Zt);var Jt=n(Zt,2);let ya;var Ia=a(Jt,!0);t(Jt),t(It),t(Xt);var Oa=n(Xt,2);{var Ca=Ot=>{var Nt=ot(),Fa=Me(Nt);{var Ua=mt=>{var Wt=ot(),ja=Me(Wt);Ze(ja,1,()=>(e(Y),r(()=>e(Y).days)),Gt=>Gt.key,(Gt,bt)=>{var ea=Fs(),ga=a(ea),ta=a(ga),aa=a(ta),La=a(aa,!0);t(aa);var ha=n(aa,2),Na=a(ha,!0);t(ha),t(ta);var xa=n(ta,2);Ze(xa,5,()=>(e(bt),r(()=>e(bt).events)),Ct=>Ct.id??`${Ct.start_time}-${Ct.meta_data?.recurring_instance_index??0}`,(Ct,qt)=>{var sa=Cs(),ra=a(sa),Wa=a(ra);_s(Wa,{get item(){return e(qt)},showDate:!1,get searchQuery(){return ve()}}),t(ra);var qa=n(ra,2);{var za=na=>{var ia=Os(),oa=a(ia);t(ia),E(()=>{ze(oa,"data-bs-target",`#${st()??""}`),ze(oa,"aria-controls",st())}),V("click",oa,()=>Vt(e(qt))),i(na,ia)};f(qa,na=>{e(qt),r(()=>l(e(qt)))&&na(za)})}t(sa),i(Ct,sa)}),t(xa),t(ga),t(ea),E(()=>{x(La,(e(bt),r(()=>e(bt).displayDay))),x(Na,(e(bt),r(()=>e(bt).displayDate)))}),i(Gt,ea)}),i(mt,Wt)},Ba=mt=>{var Wt=Us();i(mt,Wt)};f(Fa,mt=>{e(Y),r(()=>e(Y).days.length)?mt(Ua):mt(Ba,!1)})}i(Ot,Nt)};f(Oa,Ot=>{e(Ie)&&Ot(Ca)})}E(()=>{fa=lt(It,1,"week-header w-100 d-flex justify-content-between align-items-center border-0 bg-transparent p-2 text-start svelte-1ofdc1q",null,fa,{"text-muted":e(at)===0}),ze(It,"title",e(Ie)?"Click to collapse week":"Click to expand week"),lt(ma,1,`bi ${e(Ie)?"bi-chevron-up":"bi-chevron-down"}`),x(Ra,`Week ${e(W)??""} [${e(at)??""} Event${e(at)===1?"":"s"}]`),ya=lt(Jt,1,"",null,ya,{"opacity-50":e(at)===0}),x(Ia,(e(Y),r(()=>e(Y).label)))}),V("click",It,()=>Yt(e(Y).key)),i(ue,pa)}),E(()=>x(qe,(ne(),r(()=>ne().label)))),i(T,oe)}),t(we);var $=n(we,2);{var ke=T=>{var K=Ws(),Be=a(K),ne=a(Be);t(Be);var oe=n(Be,2);{var ce=me=>{var ue=Ls();V("click",ue,Ne),i(me,ue)},qe=me=>{var ue=Ns(),Y=a(ue),it=n(Y,2);t(ue),V("click",Y,y),V("click",it,Q),i(me,ue)};f(oe,me=>{e(I)?me(ce):me(qe,!1)})}t(K),E(()=>x(ne,`Showing ${e(S),r(()=>e(S)?.length??0)??""} of ${R(),r(()=>R()?.length??0)??""}`)),i(T,K)};f($,T=>{(e(Ce)||e(I))&&T(ke)})}i(O,J)},re=O=>{var J=zs();i(O,J)};f(w,O=>{e(k),r(()=>e(k).length)?O(D):O(re,!1)})}t(de),V("click",Rt,()=>c(_,!1)),i(Re,de)};f(N,Re=>{e(_)?Re(te,!1):Re(z)})}i(h,u)},p=h=>{var u=Hs(),N=a(u);Da(N,{}),t(u),i(h,u)};f(g,h=>{C()?h(b):h(p,!1)})}i(d,M)};f(Fe,d=>{X()&&d(Ve)})}var We=n(Fe,2);{var rt=d=>{Ps(d,{get cutoffDate(){return e(Dt)},callback:F})};f(We,d=>{e(Mt)&&d(rt)})}var Oe=n(We,2);{var et=d=>{Ds(d,{get deleted(){return e(Qe),r(()=>e(Qe).deleted)},get skipped(){return e(Qe),r(()=>e(Qe).skipped)},callback:fe})};f(Oe,d=>{e(Tt)&&d(et)})}i(ge,xe),wt(),Ee()}var Vs=v('<div class="d-flex flex-column gap-4"><!> <!> <!> <!></div>');function Aa(ge){var q=Vs(),G=a(q);ks(G,{});var R=n(G,2);ls(R,{});var _e=n(R,2);vs(_e,{});var U=n(_e,2);Ys(U,{}),t(q),i(ge,q)}var Xs=v('<div class="d-flex justify-content-center align-items-center py-5"><!></div>'),Zs=v('<button type="button" role="tab"> </button>'),Js=v("<option> </option>"),Gs=v('<div class="py-5 text-center text-muted"><!></div>'),er=v('<div class="description-preview text-muted small mb-1 svelte-f25tv"> </div>'),tr=v("<span> </span>"),ar=v('<span class="badge rounded-pill bg-secondary-subtle text-secondary-emphasis">Uncategorized</span>'),sr=v('<span><i class="bi bi-geo-alt"></i> </span>'),rr=v('<span><i class="bi bi-arrow-repeat"></i> </span>'),nr=v('<span><i class="bi bi-calendar3"></i> </span>'),ir=v('<div class="submission-card text-start svelte-f25tv" role="button" tabindex="0"><div class="d-flex justify-content-between align-items-start gap-3 mb-1"><div class="fw-semibold"> </div> <div class="d-flex align-items-center gap-2"><span class="badge bg-light text-dark"> </span> <button class="btn btn-sm btn-outline-primary" type="button"><i class="bi bi-pencil-square"></i></button></div></div> <!> <div class="d-flex flex-wrap align-items-center gap-2 small text-muted mb-1"><!> <!> <!></div> <div class="d-flex flex-wrap align-items-center gap-2 small text-muted mb-1"><span><i class="bi bi-clock"></i> </span> <!></div> <div class="d-flex flex-wrap gap-1"><span><i></i> </span></div></div>'),or=v('<div class="d-flex flex-column gap-3"></div>'),lr=v('<div class="my-submissions-page d-flex flex-column gap-4 svelte-f25tv"><div class="card"><div class="card-header d-flex flex-column gap-3"><div class="d-flex flex-md-row align-items-center justify-content-between gap-2"><div class="mb-0">My Submissions</div> <button class="btn btn-outline-secondary btn-sm"><!></button></div> <div class="submissions-status-tabs nav nav-pills gap-2" role="tablist"></div></div> <div class="card-body d-flex flex-column gap-3"><div class="d-flex flex-column flex-lg-row align-items-lg-center justify-content-between gap-3"><div class="input-group input-group-sm my-submissions-search svelte-f25tv"><input class="form-control svelte-f25tv" type="search" placeholder="Search title, category, or location"/></div> <div class="type-filter-select svelte-f25tv"><select class="form-select form-select-sm"></select></div></div> <!></div></div></div>'),vr=v('<span class="badge bg-info-subtle text-info-emphasis"><i class="bi bi-globe me-1"></i>Public</span>'),dr=v('<span class="badge bg-secondary-subtle text-secondary-emphasis"><i class="bi bi-lock me-1"></i>Private</span>'),cr=v('<span class="badge bg-light text-dark ms-1">All Day</span>'),ur=v('<span class="text-muted small"> </span>'),_r=v('<div><div class="text-muted text-uppercase small">Event Date</div> <div class="d-flex justify-content-end"> <!> <!></div></div>'),pr=v('<div><div class="text-muted text-uppercase small">Location</div> <div class="d-flex justify-content-end"><i class="bi bi-geo-alt me-1"></i> </div></div>'),fr=v('<span class="text-muted small"> </span>'),mr=v('<div><div class="text-muted text-uppercase small">Recurrence</div> <div><i class="bi bi-arrow-repeat me-1"></i> <!></div></div>'),br=v('<div class="drawer-description svelte-f25tv"><div class="text-muted text-uppercase small mb-1">Description</div> <div><!></div></div>'),yr=v('<div class="drawer-attachment-image-container svelte-f25tv"><button type="button" class="drawer-attachment-image-button svelte-f25tv"><img class="drawer-attachment-image svelte-f25tv"/></button> <div class="small text-muted text-truncate" style="max-width: 200px;"> </div></div>'),gr=v('<button type="button" class="btn btn-sm btn-outline-secondary d-flex align-items-center gap-2"><i class="bi bi-file-earmark"></i> <span class="text-truncate" style="max-width: 150px;"> </span> <small class="text-muted"> </small></button>'),hr=v('<div><div class="text-muted text-uppercase small mb-2"><i class="bi bi-paperclip me-1"></i> </div> <div class="d-flex flex-wrap gap-2"></div></div>'),xr=v('<div class="d-flex flex-column gap-4"><div><div class="text-muted text-uppercase small">Submitted</div> <div class="text-muted small d-flex justify-content-end"> </div></div> <div class="drawer-detail-grid svelte-f25tv"><div><div class="text-muted text-uppercase small">Type</div> <div class="d-flex justify-content-end"> </div></div> <div><div class="text-muted text-uppercase small">Category</div> <div class="d-flex justify-content-end"> </div></div> <div><div class="text-muted text-uppercase small">Visibility</div> <div class="d-flex justify-content-end"><!></div></div> <!> <!> <!></div> <!> <!> <!></div>'),wr=v('<div class="text-muted">Select a submission to view details.</div>'),kr=v('<div class="d-flex justify-content-end"><button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="offcanvas">Close</button></div>'),$r=v("<!> <!>",1);function Er(ge,q){xt(q,!1);const G=()=>$e(Ae,"$currentUserStore",U),R=()=>$e(Ee,"$dbData",U),_e=()=>$e(j,"$ready",U),[U,B]=ca(),X=m(),le=m(),C=m(),ve=m(),{stores:{ready:j,dbData:Ee},actions:{reload:Z}}=ua(),{stores:{currentUser:Ae}}=_a();let S=m(!1),L=m([]),k=m([]),o=m(null),ie=m(null);const Ce=Ta();let Se=null;const De={approved:"var(--bs-success)",pending:"var(--bs-warning)",needs_review:"var(--bs-info)"},se={pending:{text:"Awaiting Bishop's Decision",class:"bg-warning-subtle text-warning-emphasis",icon:"bi-hourglass-split"},needs_review:{text:"Needs Review",class:"bg-info-subtle text-info-emphasis",icon:"bi-pencil"},approved:{text:"Approved",class:"bg-success-subtle text-success-emphasis",icon:"bi-check-circle"}},ee={pending:"Pending",needs_review:"Needs Review",approved:"Approved"},pe=[{value:"pending",label:ee.pending},{value:"needs_review",label:ee.needs_review},{value:"approved",label:ee.approved}],Le=[{value:"all",label:"Events & Announcements"},{value:"events",label:"Events only"},{value:"announcements",label:"Announcements only"}],Ke=()=>({search:"",typeFilter:"all"});let A=m({pending:Ke(),needs_review:Ke(),approved:Ke()});va(async()=>{c(S,!0),await Z(),c(S,!1),typeof window<"u"&&(Se=(await ms(()=>import("../chunks/DO0djbQe.js").then(l=>l.o),__vite__mapDeps([0,1]),import.meta.url)).default)});const he=s=>({...s,id:s.id??s.meta_data?.recurring_parent_id,category:s.meta_data?.category}),He=s=>{const l=s.meta_data?.submitted_at??s.created_at;if(!l)return 0;try{return ye(l).getTime()}catch(_){return console.warn("Failed to parse submission timestamp",_),0}},Bt=s=>{const l=s.bishop_approval_at;if(!l)return 0;try{return ye(l).getTime()}catch{return 0}},st=s=>{const l=s.meta_data?.submitted_at??s.created_at;if(!l)return"—";try{return be(ye(l),"MMM d, yyyy 'at' h:mm a")}catch(_){return console.warn("Failed to format submission timestamp",_),"—"}},$t=s=>{if(!s.start_time)return"—";try{return be(ye(s.start_time),"MMM d, yyyy 'at' h:mm a")}catch(l){return console.warn("Failed to format event date",l),"—"}},vt=s=>{if(!s)return"";try{const l=ye(s),_=os(l,cs);return be(_,"h:mm a")}catch{return""}},dt=s=>s.replace(/<[^>]*>/g,""),Et=(s,l)=>s.length<=l?s:s.substring(0,l).trimEnd()+"…",At=s=>s.description?Et(dt(s.description).trim(),120):"",ct=s=>s<1024?s+" B":s<1024*1024?(s/1024).toFixed(1)+" KB":(s/(1024*1024)).toFixed(1)+" MB",ut=s=>s.startsWith("image/"),Je=s=>{window.open(s,"_blank")},St=s=>{try{const _=Ut.fromString(s).origOptions,y=_.interval||1,Q=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ne=["","1st","2nd","3rd","4th","5th"];if(_.freq===Ut.DAILY)return y===1?"Repeats daily":`Repeats every ${y} days`;if(_.freq===Ut.WEEKLY){if(_.byweekday){const F=(Array.isArray(_.byweekday)?_.byweekday:[_.byweekday]).map(fe=>{const xe=typeof fe=="number"?fe:fe.weekday,Pe=xe===6?0:xe+1;return Q[Pe]});return y===1?F.length===1?`Repeats every ${F[0]}`:`Repeats on ${F.join(", ")}`:`Repeats every ${y} weeks on ${F.join(", ")}`}return y===1?"Repeats weekly":`Repeats every ${y} weeks`}if(_.freq===Ut.MONTHLY){if(_.byweekday){const F=(Array.isArray(_.byweekday)?_.byweekday:[_.byweekday])[0];if(F&&typeof F=="object"&&"n"in F&&"weekday"in F){const fe=F.weekday,xe=fe===6?0:fe+1,Pe=F.n,Fe=Ne[Pe]||`${Pe}th`;return y===1?`Repeats on the ${Fe} ${Q[xe]} of the month`:`Repeats on the ${Fe} ${Q[xe]} every ${y} months`}}if(_.bymonthday){const Te=Array.isArray(_.bymonthday)?_.bymonthday[0]:_.bymonthday,F=Te===1?"st":Te===2?"nd":Te===3?"rd":"th";return y===1?`Repeats on the ${Te}${F} of the month`:`Repeats on the ${Te}${F} every ${y} months`}return y===1?"Repeats monthly":`Repeats every ${y} months`}return _.freq===Ut.YEARLY?y===1?"Repeats yearly":`Repeats every ${y} years`:"Repeats"}catch{return"Repeats"}},jt=(s,l)=>{const _=l.trim().toLowerCase();if(!_)return!0;const y=s.meta_data?.category?Ft(s.meta_data.category)?.label??"":"";return[s.title??"",s.description??"",s.location??"",y??""].join(" ").toLowerCase().includes(_)},Mt=(s,l)=>l==="all"?!0:l==="events"?s.event_type==="calendar_event":s.event_type==="announcement";function Dt(s,l){c(A,{...e(A),[s]:{...e(A)[s],...l}})}const Tt=s=>{const l=new Set,_=[];for(const y of s){const Q=y.meta_data?.recurring_parent_id;if(y.meta_data?.recurring_instance&&Q!=null){if(l.has(Q))continue;l.add(Q)}_.push(y)}return _},Qe=s=>s.meta_data?.recurring_parent_id!=null?`recurring-${s.meta_data.recurring_parent_id}`:`id-${s.id}`,_t=s=>{c(o,s),c(ie,he(s));const l=document.getElementById(Ce);l&&Se&&Se.getOrCreateInstance(l).show()},Qt=(s,l)=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),_t(l))},Ge=async()=>{c(S,!0),await Z(),c(S,!1)};let I=m("pending");H(()=>G(),()=>{c(X,G())}),H(()=>(R(),e(X)),()=>{c(L,Tt((R()??[]).filter(s=>{const l=s.meta_data?.submitted_by_user_id;return l&&e(X)?.id&&l===e(X).id}).sort((s,l)=>He(s)-He(l))))}),H(()=>e(I),()=>{c(le,`type-filter-select-submissions-${e(I)}`)}),H(()=>(e(L),Kt),()=>{c(C,pe.reduce((s,l)=>{const _=e(L).filter(y=>Kt(y)===l.value);return l.value==="approved"&&_.sort((y,Q)=>Bt(Q)-Bt(y)),s[l.value]=_,s},{}))}),H(()=>(e(A),e(C)),()=>{c(ve,pe.reduce((s,l)=>{const _=e(A)[l.value],y=(e(C)[l.value]??[]).filter(Q=>Mt(Q,_.typeFilter));return s[l.value]=y.filter(Q=>jt(Q,_.search)),s},{}))}),H(()=>(e(ve),e(I)),()=>{c(k,e(ve)[e(I)]??[])}),H(()=>(e(o),e(L)),()=>{e(o)&&!e(L).some(s=>Qe(s)===Qe(e(o)))&&(c(o,null),c(ie,null))}),da(),kt();var Pt=$r(),Ye=Me(Pt);{var Lt=s=>{var l=Xs(),_=a(l);Da(_,{}),t(l),i(s,l)},Yt=s=>{var l=lr(),_=a(l),y=a(_),Q=a(y),Ne=n(a(Q),2),Te=a(Ne);{var F=b=>{var p=gt("Refreshing…");i(b,p)},fe=b=>{var p=gt("Refresh");i(b,p)};f(Te,b=>{e(S)?b(F):b(fe,!1)})}t(Ne),t(Q);var xe=n(Q,2);Ze(xe,5,()=>pe,la,(b,p)=>{var h=Zs(),u=a(h);t(h),E(()=>{lt(h,1,(e(I),e(p),r(()=>`nav-link ${e(I)===e(p).value?"active":""}`)),"svelte-f25tv"),ze(h,"aria-selected",(e(I),e(p),r(()=>e(I)===e(p).value))),x(u,`${e(p),r(()=>e(p).label)??""} (${e(C),e(p),r(()=>(e(C)[e(p).value]??[]).length)??""})`)}),V("click",h,()=>c(I,e(p).value)),i(b,h)}),t(xe),t(y);var Pe=n(y,2),Fe=a(Pe),Ve=a(Fe),We=a(Ve);Ma(We),t(Ve);var rt=n(Ve,2),Oe=a(rt);Ze(Oe,5,()=>Le,la,(b,p)=>{var h=Js(),u=a(h,!0);t(h);var N={};E(()=>{x(u,(e(p),r(()=>e(p).label))),N!==(N=(e(p),r(()=>e(p).value)))&&(h.value=(h.__value=(e(p),r(()=>e(p).value)))??"")}),i(b,h)}),t(Oe);var et;Ja(Oe),t(rt),t(Fe);var d=n(Fe,2);{var M=b=>{var p=Gs(),h=a(p);{var u=z=>{var te=gt("You haven't submitted any events or announcements yet.");i(z,te)},N=z=>{var te=gt();E(Re=>x(te,`No ${Re??""} submissions match your current filters.`),[()=>(e(I),r(()=>ee[e(I)].toLowerCase()))]),i(z,te)};f(h,z=>{e(L),r(()=>e(L).length===0)?z(u):z(N,!1)})}t(p),i(b,p)},g=b=>{var p=or();Ze(p,5,()=>e(k),h=>Qe(h),(h,u)=>{const N=je(()=>(ae(Kt),e(u),r(()=>Kt(e(u))))),z=je(()=>(ae(e(N)),r(()=>se[e(N)]))),te=je(()=>(e(u),ae(Ft),r(()=>e(u).meta_data?.category?Ft(e(u).meta_data.category):null))),Re=je(()=>(e(u),r(()=>At(e(u)))));var de=ir(),Ue=a(de),Xe=a(Ue),pt=a(Xe,!0);t(Xe);var tt=n(Xe,2),nt=a(tt),Rt=a(nt,!0);t(nt);var w=n(nt,2);t(tt),t(Ue);var D=n(Ue,2);{var re=P=>{var W=er(),Ie=a(W,!0);t(W),E(()=>x(Ie,e(Re))),i(P,W)};f(D,P=>{e(Re)&&P(re)})}var O=n(D,2),J=a(O);{var we=P=>{var W=tr(),Ie=a(W,!0);t(W),E(()=>{lt(W,1,`badge rounded-pill bg-color-${ae(e(te)),r(()=>e(te).color_number)??""}`,"svelte-f25tv"),x(Ie,(ae(e(te)),r(()=>e(te).label)))}),i(P,W)},$=P=>{var W=ar();i(P,W)};f(J,P=>{e(te)?P(we):P($,!1)})}var ke=n(J,2);{var T=P=>{var W=sr(),Ie=n(a(W));t(W),E(()=>x(Ie,` ${e(u),r(()=>e(u).location)??""}`)),i(P,W)};f(ke,P=>{e(u),r(()=>e(u).location)&&P(T)})}var K=n(ke,2);{var Be=P=>{var W=rr(),Ie=n(a(W));t(W),E(at=>x(Ie,` ${at??""}`),[()=>(e(u),r(()=>St(e(u).recurrence_rule)))]),i(P,W)};f(K,P=>{e(u),r(()=>e(u).recurrence_rule)&&P(Be)})}t(O);var ne=n(O,2),oe=a(ne),ce=n(a(oe));t(oe);var qe=n(oe,2);{var me=P=>{var W=nr(),Ie=n(a(W));t(W),E(at=>x(Ie,` Event ${at??""}`),[()=>(e(u),r(()=>$t(e(u))))]),i(P,W)};f(qe,P=>{e(u),r(()=>e(u).event_type==="calendar_event")&&P(me)})}t(ne);var ue=n(ne,2),Y=a(ue),it=a(Y),ft=n(it,1,!0);t(Y),t(ue),t(de),E(P=>{ts(de,`border-left: 4px solid ${ae(e(N)),r(()=>De[e(N)])??""}`),x(pt,(e(u),r(()=>e(u).title))),x(Rt,(e(u),r(()=>e(u).event_type==="calendar_event"?"Event":"Announcement"))),ze(w,"aria-label",(e(u),r(()=>`View ${e(u).title}`))),x(ce,` Submitted ${P??""}`),lt(Y,1,(ae(e(z)),r(()=>`badge ${e(z).class}`)),"svelte-f25tv"),lt(it,1,(ae(e(z)),r(()=>`bi ${e(z).icon} me-1`)),"svelte-f25tv"),x(ft,(ae(e(z)),r(()=>e(z).text)))},[()=>(e(u),r(()=>st(e(u))))]),V("click",w,bs(()=>_t(e(u)))),V("click",de,()=>_t(e(u))),V("keydown",de,P=>Qt(P,e(u))),i(h,de)}),t(p),i(b,p)};f(d,b=>{e(k),r(()=>e(k).length===0)?b(M):b(g,!1)})}t(Pe),t(_),t(l),E(()=>{Ne.disabled=e(S),Ga(We,(e(A),e(I),r(()=>e(A)[e(I)].search))),ze(Oe,"id",e(le)),et!==(et=(e(A),e(I),r(()=>e(A)[e(I)].typeFilter)))&&(Oe.value=(Oe.__value=(e(A),e(I),r(()=>e(A)[e(I)].typeFilter)))??"",es(Oe,(e(A),e(I),r(()=>e(A)[e(I)].typeFilter))))}),V("click",Ne,Ge),V("input",We,b=>Dt(e(I),{search:b.currentTarget.value})),V("change",Oe,b=>Dt(e(I),{typeFilter:b.currentTarget.value})),i(s,l)};f(Ye,s=>{_e()?s(Yt,!1):s(Lt)})}var Vt=n(Ye,2);{let s=je(()=>(e(o),r(()=>e(o)?e(o).title:"Submission Details")));Pa(Vt,{get id(){return Ce},get title(){return e(s)},children:(l,_)=>{var y=ot(),Q=Me(y);{var Ne=F=>{var fe=xr(),xe=a(fe),Pe=n(a(xe),2),Fe=a(Pe,!0);t(Pe),t(xe);var Ve=n(xe,2),We=a(Ve),rt=n(a(We),2),Oe=a(rt,!0);t(rt),t(We);var et=n(We,2),d=n(a(et),2),M=a(d,!0);t(d),t(et);var g=n(et,2),b=n(a(g),2),p=a(b);{var h=w=>{var D=vr();i(w,D)},u=w=>{var D=dr();i(w,D)};f(p,w=>{e(o),r(()=>e(o).is_public!==!1)?w(h):w(u,!1)})}t(b),t(g);var N=n(g,2);{var z=w=>{var D=_r(),re=n(a(D),2),O=a(re),J=n(O);{var we=T=>{var K=cr();i(T,K)};f(J,T=>{e(o),r(()=>e(o).is_all_day)&&T(we)})}var $=n(J,2);{var ke=T=>{var K=ur(),Be=a(K);t(K),E(ne=>x(Be,`— ${ne??""}`),[()=>(e(o),r(()=>vt(e(o).end_time)))]),i(T,K)};f($,T=>{e(o),r(()=>e(o).end_time&&!e(o).is_all_day)&&T(ke)})}t(re),t(D),E(T=>x(O,`${T??""} `),[()=>(e(o),r(()=>$t(e(o))))]),i(w,D)};f(N,w=>{e(o),r(()=>e(o).event_type==="calendar_event")&&w(z)})}var te=n(N,2);{var Re=w=>{var D=pr(),re=n(a(D),2),O=n(a(re),1,!0);t(re),t(D),E(()=>x(O,(e(o),r(()=>e(o).location)))),i(w,D)};f(te,w=>{e(o),r(()=>e(o).location)&&w(Re)})}var de=n(te,2);{var Ue=w=>{var D=mr(),re=n(a(D),2),O=n(a(re)),J=n(O);{var we=$=>{var ke=fr(),T=a(ke);t(ke),E(K=>x(T,`until ${K??""}`),[()=>(ae(be),ae(ye),e(o),r(()=>be(ye(e(o).recurrence_end_date),"MMM d, yyyy")))]),i($,ke)};f(J,$=>{e(o),r(()=>e(o).recurrence_end_date)&&$(we)})}t(re),t(D),E($=>x(O,` ${$??""} `),[()=>(e(o),r(()=>St(e(o).recurrence_rule)))]),i(w,D)};f(de,w=>{e(o),r(()=>e(o).recurrence_rule)&&w(Ue)})}t(Ve);var Xe=n(Ve,2);{var pt=w=>{var D=br(),re=n(a(D),2),O=a(re);is(O,()=>(e(o),r(()=>e(o).description))),t(re),t(D),i(w,D)};f(Xe,w=>{e(o),r(()=>e(o).description)&&w(pt)})}var tt=n(Xe,2);{var nt=w=>{var D=hr(),re=a(D),O=n(a(re));t(re);var J=n(re,2);Ze(J,5,()=>(e(o),r(()=>e(o).attachments)),we=>we.id,(we,$)=>{var ke=ot(),T=Me(ke);{var K=ne=>{var oe=yr(),ce=a(oe),qe=a(ce);t(ce);var me=n(ce,2),ue=a(me,!0);t(me),t(oe),E(()=>{ze(ce,"title",`Open ${e($),r(()=>e($).name)??""}`),ze(qe,"src",(e($),r(()=>e($).url))),ze(qe,"alt",(e($),r(()=>e($).name))),x(ue,(e($),r(()=>e($).name)))}),V("click",ce,()=>Je(e($).url)),i(ne,oe)},Be=ne=>{var oe=gr(),ce=n(a(oe),2),qe=a(ce,!0);t(ce);var me=n(ce,2),ue=a(me);t(me),t(oe),E(Y=>{ze(oe,"title",`Open ${e($),r(()=>e($).name)??""}`),x(qe,(e($),r(()=>e($).name))),x(ue,`(${Y??""})`)},[()=>(e($),r(()=>ct(e($).size)))]),V("click",oe,()=>Je(e($).url)),i(ne,oe)};f(T,ne=>{e($),r(()=>ut(e($).type))?ne(K):ne(Be,!1)})}i(we,ke)}),t(J),t(D),E(()=>x(O,`Attachments (${e(o),r(()=>e(o).attachments.length)??""})`)),i(w,D)};f(tt,w=>{e(o),r(()=>e(o).attachments&&e(o).attachments.length>0)&&w(nt)})}var Rt=n(tt,2);ns(Rt,{disabled:!1,get reloadEvents(){return Z},get eventItem(){return e(ie)},set eventItem(w){c(ie,w)},$$legacy:!0}),t(fe),E((w,D)=>{x(Fe,w),x(Oe,(e(o),r(()=>e(o).event_type==="calendar_event"?"Event":"Announcement"))),x(M,D)},[()=>(e(o),r(()=>st(e(o)))),()=>(e(o),ae(Ft),r(()=>e(o).meta_data?.category?Ft(e(o).meta_data.category)?.label??"Uncategorized":"Uncategorized"))]),i(F,fe)},Te=F=>{var fe=wr();i(F,fe)};f(Q,F=>{e(o)&&e(ie)?F(Ne):F(Te,!1)})}i(l,y)},$$slots:{default:!0,footer:(l,_)=>{var y=kr();i(l,y)}}})}i(ge,Pt),wt(),B()}var Ar=v('<button class="nav-link" id="approvals-tab" data-bs-toggle="tab" data-bs-target="#approvals-pane" type="button" role="tab" aria-controls="approvals-pane" aria-selected="false">Approvals</button>'),Sr=v('<button class="nav-link" id="my-submissions-tab" data-bs-toggle="tab" data-bs-target="#my-submissions-pane" type="button" role="tab" aria-controls="my-submissions-pane" aria-selected="false">My Submissions</button>'),Mr=v('<div class="tab-pane fade" id="approvals-pane" role="tabpanel" aria-labelledby="approvals-tab"><!></div>'),Dr=v('<div class="tab-pane fade" id="my-submissions-pane" role="tabpanel" aria-labelledby="my-submissions-tab"><!></div>'),Tr=v('<nav class="d-print-none"><div class="nav nav-tabs" role="tablist"><button class="nav-link active" id="announcements-tab" data-bs-toggle="tab" data-bs-target="#announcements-pane" type="button" role="tab" aria-controls="announcements-pane" aria-selected="true">All</button> <!> <!></div></nav> <div class="tab-content mt-3"><div class="tab-pane fade show active" id="announcements-pane" role="tabpanel" aria-labelledby="announcements-tab"><!></div> <!> <!></div>',1);function en(ge,q){xt(q,!1);const G=m(),{stores:{currentUserHasPermission:R,authenticated:_e}}=_a();let U=m(!1),B=m(!1);va(()=>{const X=R.subscribe(C=>{const ve=C(yt.ManageWardBusiness);c(U,ve)}),le=_e.subscribe(C=>{c(B,C)});return()=>{X(),le()}}),H(()=>(e(U),e(B)),()=>{c(G,e(U)||e(B))}),da(),kt(),Xa(ge,{pageTitle:"Announcements & Events",children:(X,le)=>{var C=ot(),ve=Me(C);{var j=Z=>{var Ae=Tr(),S=Me(Ae),L=a(S),k=n(a(L),2);{var o=A=>{var he=Ar();i(A,he)};f(k,A=>{e(U)&&A(o)})}var ie=n(k,2);{var Ce=A=>{var he=Sr();i(A,he)};f(ie,A=>{e(B)&&A(Ce)})}t(L),t(S);var Se=n(S,2),De=a(Se),se=a(De);Aa(se),t(De);var ee=n(De,2);{var pe=A=>{var he=Mr(),He=a(he);fs(He,{}),t(he),i(A,he)};f(ee,A=>{e(U)&&A(pe)})}var Le=n(ee,2);{var Ke=A=>{var he=Dr(),He=a(he);Er(He,{}),t(he),i(A,he)};f(Le,A=>{e(B)&&A(Ke)})}t(Se),i(Z,Ae)},Ee=Z=>{Aa(Z)};f(ve,Z=>{e(G)?Z(j):Z(Ee,!1)})}i(X,C)},$$slots:{default:!0}}),wt()}export{en as component,Gr as universal};
