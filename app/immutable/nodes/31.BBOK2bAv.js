import{a as Tt}from"../chunks/CnC24E_g.js";import{P as Dt,g as gt}from"../chunks/Bg5r8v_7.js";import{s as yt,d as f,i as le,q as l,z as Z,a,c as r,k as E,g as V,l as v,w as W,e as o,m as g,x,N as Ke,o as kt,v as re,r as Qe,T as ke,y as se,A as wt,n as Ze,L as ut}from"../chunks/XwK7VtW3.js";import{S as Ct,i as Et,d as $e,t as et,a as tt,m as lt,c as at,b as st}from"../chunks/e-rlo9AR.js";import{P as Lt}from"../chunks/Di5POjJr.js";import{e as ct,u as Gt,d as It}from"../chunks/BXYRyfL2.js";import{g as Nt}from"../chunks/CkiNXY5n.js";import{D as Mt}from"../chunks/Ct6k4Xpq.js";const St=!1,At=async()=>(Tt(Dt.EditTempleChallenges,"Edit Temple Challenges"),{}),el=Object.freeze(Object.defineProperty({__proto__:null,load:At,ssr:St},Symbol.toStringTag,{value:"Module"}));function dt(n,e,t){const s=n.slice();return s[45]=e[t],s}function ft(n){let e,t,s,u,c,d,i,y;return{c(){e=o("div"),t=o("i"),s=g(),u=x(n[0]),c=g(),d=o("button"),this.h()},l(p){e=r(p,"DIV",{class:!0,role:!0});var _=E(e);t=r(_,"I",{class:!0}),E(t).forEach(f),s=v(_),u=W(_,n[0]),c=v(_),d=r(_,"BUTTON",{type:!0,class:!0,"aria-label":!0}),E(d).forEach(f),_.forEach(f),this.h()},h(){a(t,"class","bi bi-exclamation-triangle-fill"),a(d,"type","button"),a(d,"class","btn-close"),a(d,"aria-label","Close"),a(e,"class","alert alert-danger alert-dismissible fade show"),a(e,"role","alert")},m(p,_){le(p,e,_),l(e,t),l(e,s),l(e,u),l(e,c),l(e,d),i||(y=Z(d,"click",n[24]),i=!0)},p(p,_){_[0]&1&&re(u,p[0])},d(p){p&&f(e),i=!1,y()}}}function mt(n){let e,t,s,u,c,d,i,y;return{c(){e=o("div"),t=o("i"),s=g(),u=x(n[1]),c=g(),d=o("button"),this.h()},l(p){e=r(p,"DIV",{class:!0,role:!0});var _=E(e);t=r(_,"I",{class:!0}),E(t).forEach(f),s=v(_),u=W(_,n[1]),c=v(_),d=r(_,"BUTTON",{type:!0,class:!0,"aria-label":!0}),E(d).forEach(f),_.forEach(f),this.h()},h(){a(t,"class","bi bi-check-circle-fill"),a(d,"type","button"),a(d,"class","btn-close"),a(d,"aria-label","Close"),a(e,"class","alert alert-success alert-dismissible fade show"),a(e,"role","alert")},m(p,_){le(p,e,_),l(e,t),l(e,s),l(e,u),l(e,c),l(e,d),i||(y=Z(d,"click",n[25]),i=!0)},p(p,_){_[0]&2&&re(u,p[1])},d(p){p&&f(e),i=!1,y()}}}function Vt(n){let e,t,s,u='<tr><th scope="col" class="svelte-1bmabql">Year</th> <th scope="col" class="svelte-1bmabql">Period</th> <th scope="col" class="d-none d-md-table-cell svelte-1bmabql">Baptisms Goal</th> <th scope="col" class="d-none d-md-table-cell svelte-1bmabql">Sealings Goal</th> <th scope="col" class="d-none d-lg-table-cell svelte-1bmabql">Ordinances Goal</th> <th scope="col" class="d-none d-xl-table-cell svelte-1bmabql">Notes</th> <th scope="col" class="text-end svelte-1bmabql">Actions</th></tr>',c,d,i=[],y=new Map,p=ct(n[10]);const _=b=>b[45].id;for(let b=0;b<p.length;b+=1){let C=dt(n,p,b),D=_(C);y.set(D,i[b]=pt(D,C))}return{c(){e=o("div"),t=o("table"),s=o("thead"),s.innerHTML=u,c=g(),d=o("tbody");for(let b=0;b<i.length;b+=1)i[b].c();this.h()},l(b){e=r(b,"DIV",{class:!0});var C=E(e);t=r(C,"TABLE",{class:!0});var D=E(t);s=r(D,"THEAD",{"data-svelte-h":!0}),V(s)!=="svelte-2d79ds"&&(s.innerHTML=u),c=v(D),d=r(D,"TBODY",{});var M=E(d);for(let A=0;A<i.length;A+=1)i[A].l(M);M.forEach(f),D.forEach(f),C.forEach(f),this.h()},h(){a(t,"class","table table-hover align-middle svelte-1bmabql"),a(e,"class","table-responsive")},m(b,C){le(b,e,C),l(e,t),l(t,s),l(t,c),l(t,d);for(let D=0;D<i.length;D+=1)i[D]&&i[D].m(d,null)},p(b,C){C[0]&3736576&&(p=ct(b[10]),i=Gt(i,C,_,1,b,p,y,d,It,pt,null,dt))},d(b){b&&f(e);for(let C=0;C<i.length;C+=1)i[C].d()}}}function Pt(n){let e,t='<h5 class="alert-heading">No Goals Configured</h5> <p class="mb-0">Click &quot;Create New Goal&quot; to add your first ward mission goal.</p>';return{c(){e=o("div"),e.innerHTML=t,this.h()},l(s){e=r(s,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),V(e)!=="svelte-1f0ba3m"&&(e.innerHTML=t),this.h()},h(){a(e,"class","alert alert-info"),a(e,"role","alert")},m(s,u){le(s,e,u)},p:Ze,d(s){s&&f(e)}}}function Ut(n){let e,t='<div class="spinner-border" role="status"><span class="visually-hidden">Loading...</span></div>';return{c(){e=o("div"),e.innerHTML=t,this.h()},l(s){e=r(s,"DIV",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-mlx3u2"&&(e.innerHTML=t),this.h()},h(){a(e,"class","text-center py-5")},m(s,u){le(s,e,u)},p:Ze,d(s){s&&f(e)}}}function ht(n){let e,t="Archived";return{c(){e=o("span"),e.textContent=t,this.h()},l(s){e=r(s,"SPAN",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-rsgyej"&&(e.textContent=t),this.h()},h(){a(e,"class","badge bg-secondary ms-2")},m(s,u){le(s,e,u)},d(s){s&&f(e)}}}function qt(n){let e,t,s,u,c,d="Edit",i,y,p='<i class="bi bi-trash"></i> <span class="d-none d-sm-inline">Archive</span>',_,b;function C(){return n[28](n[45])}function D(){return n[29](n[45])}return{c(){e=o("div"),t=o("button"),s=o("i"),u=g(),c=o("span"),c.textContent=d,i=g(),y=o("button"),y.innerHTML=p,this.h()},l(M){e=r(M,"DIV",{class:!0,role:!0});var A=E(e);t=r(A,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var w=E(t);s=r(w,"I",{class:!0}),E(s).forEach(f),u=v(w),c=r(w,"SPAN",{class:!0,"data-svelte-h":!0}),V(c)!=="svelte-1davzvv"&&(c.textContent=d),w.forEach(f),i=v(A),y=r(A,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),V(y)!=="svelte-ip4l3"&&(y.innerHTML=p),A.forEach(f),this.h()},h(){a(s,"class","bi bi-pencil"),a(c,"class","d-none d-sm-inline"),a(t,"class","btn btn-sm btn-outline-primary"),a(t,"type","button"),a(t,"data-bs-toggle","offcanvas"),a(t,"data-bs-target","#"+Be),a(t,"aria-controls",Be),a(y,"class","btn btn-sm btn-outline-danger"),a(y,"type","button"),a(e,"class","btn-group gap-2"),a(e,"role","group")},m(M,A){le(M,e,A),l(e,t),l(t,s),l(t,u),l(t,c),l(e,i),l(e,y),_||(b=[Z(t,"click",C),Z(y,"click",D)],_=!0)},p(M,A){n=M},d(M){M&&f(e),_=!1,Qe(b)}}}function Bt(n){let e,t,s='<i class="bi bi-arrow-counterclockwise"></i> <span class="d-none d-sm-inline">Restore</span>',u,c,d='<i class="bi bi-trash-fill"></i> <span class="d-none d-sm-inline">Delete</span>',i,y;function p(){return n[26](n[45])}function _(){return n[27](n[45])}return{c(){e=o("div"),t=o("button"),t.innerHTML=s,u=g(),c=o("button"),c.innerHTML=d,this.h()},l(b){e=r(b,"DIV",{class:!0,role:!0});var C=E(e);t=r(C,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),V(t)!=="svelte-1dyahff"&&(t.innerHTML=s),u=v(C),c=r(C,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),V(c)!=="svelte-kg0y9k"&&(c.innerHTML=d),C.forEach(f),this.h()},h(){a(t,"class","btn btn-sm btn-success"),a(t,"type","button"),a(c,"class","btn btn-sm btn-danger"),a(c,"type","button"),a(e,"class","btn-group gap-2"),a(e,"role","group")},m(b,C){le(b,e,C),l(e,t),l(e,u),l(e,c),i||(y=[Z(t,"click",p),Z(c,"click",_)],i=!0)},p(b,C){n=b},d(b){b&&f(e),i=!1,Qe(y)}}}function pt(n,e){let t,s,u,c=e[45].year+"",d,i,y,p,_=vt(e[45].start_date,e[45].end_date)+"",b,C,D,M,A,w=(e[45].baptisms_goal??"--")+"",k,N,j=(e[45].family_sealings_goal??"--")+"",U,G,h=(e[45].temple_ordinances_goal?.toLocaleString()??"--")+"",L,q,S,X=(e[45].baptisms_goal??"--")+"",$,Ee,ne,oe=(e[45].family_sealings_goal??"--")+"",he,J,R,de=(e[45].temple_ordinances_goal?.toLocaleString()??"--")+"",pe,F,ie,K,_e=(e[45].notes||"—")+"",be,ee,Y,Te,B=!e[45].is_active&&ht();function z(m,T){return m[45].is_active?qt:Bt}let ve=z(e),O=ve(e);return{key:n,first:null,c(){t=o("tr"),s=o("td"),u=o("strong"),d=x(c),i=g(),B&&B.c(),y=g(),p=o("td"),b=x(_),C=g(),D=o("div"),M=o("small"),A=x("Goals: "),k=x(w),N=x(" / "),U=x(j),G=x(` /
										`),L=x(h),q=g(),S=o("td"),$=x(X),Ee=g(),ne=o("td"),he=x(oe),J=g(),R=o("td"),pe=x(de),F=g(),ie=o("td"),K=o("small"),be=x(_e),ee=g(),Y=o("td"),O.c(),Te=g(),this.h()},l(m){t=r(m,"TR",{});var T=E(t);s=r(T,"TD",{});var ae=E(s);u=r(ae,"STRONG",{});var fe=E(u);d=W(fe,c),fe.forEach(f),i=v(ae),B&&B.l(ae),ae.forEach(f),y=v(T),p=r(T,"TD",{});var we=E(p);b=W(we,_),C=v(we),D=r(we,"DIV",{class:!0});var Ge=E(D);M=r(Ge,"SMALL",{class:!0});var H=E(M);A=W(H,"Goals: "),k=W(H,w),N=W(H," / "),U=W(H,j),G=W(H,` /
										`),L=W(H,h),H.forEach(f),Ge.forEach(f),we.forEach(f),q=v(T),S=r(T,"TD",{class:!0});var Ie=E(S);$=W(Ie,X),Ie.forEach(f),Ee=v(T),ne=r(T,"TD",{class:!0});var ge=E(ne);he=W(ge,oe),ge.forEach(f),J=v(T),R=r(T,"TD",{class:!0});var Oe=E(R);pe=W(Oe,de),Oe.forEach(f),F=v(T),ie=r(T,"TD",{class:!0});var Ne=E(ie);K=r(Ne,"SMALL",{class:!0});var ue=E(K);be=W(ue,_e),ue.forEach(f),Ne.forEach(f),ee=v(T),Y=r(T,"TD",{class:!0});var me=E(Y);O.l(me),me.forEach(f),Te=v(T),T.forEach(f),this.h()},h(){a(M,"class","text-muted"),a(D,"class","d-md-none mt-1"),a(S,"class","d-none d-md-table-cell"),a(ne,"class","d-none d-md-table-cell"),a(R,"class","d-none d-lg-table-cell"),a(K,"class","text-muted"),a(ie,"class","d-none d-xl-table-cell"),a(Y,"class","text-end"),ut(t,"table-secondary",!e[45].is_active),this.first=t},m(m,T){le(m,t,T),l(t,s),l(s,u),l(u,d),l(s,i),B&&B.m(s,null),l(t,y),l(t,p),l(p,b),l(p,C),l(p,D),l(D,M),l(M,A),l(M,k),l(M,N),l(M,U),l(M,G),l(M,L),l(t,q),l(t,S),l(S,$),l(t,Ee),l(t,ne),l(ne,he),l(t,J),l(t,R),l(R,pe),l(t,F),l(t,ie),l(ie,K),l(K,be),l(t,ee),l(t,Y),O.m(Y,null),l(t,Te)},p(m,T){e=m,T[0]&1024&&c!==(c=e[45].year+"")&&re(d,c),e[45].is_active?B&&(B.d(1),B=null):B||(B=ht(),B.c(),B.m(s,null)),T[0]&1024&&_!==(_=vt(e[45].start_date,e[45].end_date)+"")&&re(b,_),T[0]&1024&&w!==(w=(e[45].baptisms_goal??"--")+"")&&re(k,w),T[0]&1024&&j!==(j=(e[45].family_sealings_goal??"--")+"")&&re(U,j),T[0]&1024&&h!==(h=(e[45].temple_ordinances_goal?.toLocaleString()??"--")+"")&&re(L,h),T[0]&1024&&X!==(X=(e[45].baptisms_goal??"--")+"")&&re($,X),T[0]&1024&&oe!==(oe=(e[45].family_sealings_goal??"--")+"")&&re(he,oe),T[0]&1024&&de!==(de=(e[45].temple_ordinances_goal?.toLocaleString()??"--")+"")&&re(pe,de),T[0]&1024&&_e!==(_e=(e[45].notes||"—")+"")&&re(be,_e),ve===(ve=z(e))&&O?O.p(e,T):(O.d(1),O=ve(e),O&&(O.c(),O.m(Y,null))),T[0]&1024&&ut(t,"table-secondary",!e[45].is_active)},d(m){m&&f(t),B&&B.d(),O.d()}}}function _t(n){let e,t,s;return{c(){e=o("div"),t=o("small"),s=x(n[0]),this.h()},l(u){e=r(u,"DIV",{class:!0,role:!0});var c=E(e);t=r(c,"SMALL",{});var d=E(t);s=W(d,n[0]),d.forEach(f),c.forEach(f),this.h()},h(){a(e,"class","alert alert-danger"),a(e,"role","alert")},m(u,c){le(u,e,c),l(e,t),l(t,s)},p(u,c){c[0]&1&&re(s,u[0])},d(u){u&&f(e)}}}function bt(n){let e;return{c(){e=o("span"),this.h()},l(t){e=r(t,"SPAN",{class:!0,role:!0}),E(e).forEach(f),this.h()},h(){a(e,"class","spinner-border spinner-border-sm me-2"),a(e,"role","status")},m(t,s){le(t,e,s)},d(t){t&&f(e)}}}function Ot(n){let e,t,s,u,c="Year *",d,i,y,p,_="Calendar year for this goal period",b,C,D,M="Start Date *",A,w,k,N,j="First day of the goal period (inclusive)",U,G,h,L="End Date *",q,S,X,$,Ee="Last day of the goal period (inclusive)",ne,oe,he,J,R,de="Baptisms Goal",pe,F,ie,K,_e='Target number of baptisms (leave empty to display "--")',be,ee,Y,Te="Family Sealings Goal",B,z,ve,O,m='Target number of family sealings (leave empty to display "--")',T,ae,fe,we="Temple Ordinances Goal",Ge,H,Ie,ge,Oe='Target number of temple ordinances performed (leave empty to display "--")',Ne,ue,me,nt="Notes (Optional)",ze,ye,We,Le,rt="Internal notes about this goal period (for admin reference)",xe,De,Ce,ot="Cancel",Xe,ce,Re,He=n[2]?"Update Goal":"Create Goal",Fe,Je,it,Q=n[0]&&_t(n),te=n[11]&&bt();return{c(){e=o("form"),Q&&Q.c(),t=g(),s=o("div"),u=o("label"),u.textContent=c,d=g(),i=o("input"),y=g(),p=o("div"),p.textContent=_,b=g(),C=o("div"),D=o("label"),D.textContent=M,A=g(),w=o("input"),k=g(),N=o("div"),N.textContent=j,U=g(),G=o("div"),h=o("label"),h.textContent=L,q=g(),S=o("input"),X=g(),$=o("div"),$.textContent=Ee,ne=g(),oe=o("hr"),he=g(),J=o("div"),R=o("label"),R.textContent=de,pe=g(),F=o("input"),ie=g(),K=o("div"),K.textContent=_e,be=g(),ee=o("div"),Y=o("label"),Y.textContent=Te,B=g(),z=o("input"),ve=g(),O=o("div"),O.textContent=m,T=g(),ae=o("div"),fe=o("label"),fe.textContent=we,Ge=g(),H=o("input"),Ie=g(),ge=o("div"),ge.textContent=Oe,Ne=g(),ue=o("div"),me=o("label"),me.textContent=nt,ze=g(),ye=o("textarea"),We=g(),Le=o("div"),Le.textContent=rt,xe=g(),De=o("div"),Ce=o("button"),Ce.textContent=ot,Xe=g(),ce=o("button"),te&&te.c(),Re=g(),Fe=x(He),this.h()},l(P){e=r(P,"FORM",{class:!0});var I=E(e);Q&&Q.l(I),t=v(I),s=r(I,"DIV",{});var Me=E(s);u=r(Me,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),V(u)!=="svelte-d48a68"&&(u.textContent=c),d=v(Me),i=r(Me,"INPUT",{type:!0,class:!0,id:!0,min:!0,max:!0}),y=v(Me),p=r(Me,"DIV",{class:!0,"data-svelte-h":!0}),V(p)!=="svelte-4ht43z"&&(p.textContent=_),Me.forEach(f),b=v(I),C=r(I,"DIV",{});var Se=E(C);D=r(Se,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),V(D)!=="svelte-1ysthgo"&&(D.textContent=M),A=v(Se),w=r(Se,"INPUT",{type:!0,class:!0,id:!0}),k=v(Se),N=r(Se,"DIV",{class:!0,"data-svelte-h":!0}),V(N)!=="svelte-p2msbi"&&(N.textContent=j),Se.forEach(f),U=v(I),G=r(I,"DIV",{});var Ae=E(G);h=r(Ae,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),V(h)!=="svelte-6g5902"&&(h.textContent=L),q=v(Ae),S=r(Ae,"INPUT",{type:!0,class:!0,id:!0}),X=v(Ae),$=r(Ae,"DIV",{class:!0,"data-svelte-h":!0}),V($)!=="svelte-hnkrbk"&&($.textContent=Ee),Ae.forEach(f),ne=v(I),oe=r(I,"HR",{}),he=v(I),J=r(I,"DIV",{});var Ve=E(J);R=r(Ve,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),V(R)!=="svelte-1qd99o0"&&(R.textContent=de),pe=v(Ve),F=r(Ve,"INPUT",{type:!0,class:!0,id:!0,min:!0,placeholder:!0}),ie=v(Ve),K=r(Ve,"DIV",{class:!0,"data-svelte-h":!0}),V(K)!=="svelte-dj0c6x"&&(K.textContent=_e),Ve.forEach(f),be=v(I),ee=r(I,"DIV",{});var Pe=E(ee);Y=r(Pe,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),V(Y)!=="svelte-10hiahm"&&(Y.textContent=Te),B=v(Pe),z=r(Pe,"INPUT",{type:!0,class:!0,id:!0,min:!0,placeholder:!0}),ve=v(Pe),O=r(Pe,"DIV",{class:!0,"data-svelte-h":!0}),V(O)!=="svelte-1btwl9a"&&(O.textContent=m),Pe.forEach(f),T=v(I),ae=r(I,"DIV",{});var Ue=E(ae);fe=r(Ue,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),V(fe)!=="svelte-tu4x4e"&&(fe.textContent=we),Ge=v(Ue),H=r(Ue,"INPUT",{type:!0,class:!0,id:!0,min:!0,placeholder:!0}),Ie=v(Ue),ge=r(Ue,"DIV",{class:!0,"data-svelte-h":!0}),V(ge)!=="svelte-zwed0g"&&(ge.textContent=Oe),Ue.forEach(f),Ne=v(I),ue=r(I,"DIV",{});var qe=E(ue);me=r(qe,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),V(me)!=="svelte-hwoi47"&&(me.textContent=nt),ze=v(qe),ye=r(qe,"TEXTAREA",{class:!0,id:!0,rows:!0}),E(ye).forEach(f),We=v(qe),Le=r(qe,"DIV",{class:!0,"data-svelte-h":!0}),V(Le)!=="svelte-186z59a"&&(Le.textContent=rt),qe.forEach(f),xe=v(I),De=r(I,"DIV",{class:!0});var Ye=E(De);Ce=r(Ye,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(Ce)!=="svelte-klcbsm"&&(Ce.textContent=ot),Xe=v(Ye),ce=r(Ye,"BUTTON",{type:!0,class:!0});var je=E(ce);te&&te.l(je),Re=v(je),Fe=W(je,He),je.forEach(f),Ye.forEach(f),I.forEach(f),this.h()},h(){a(u,"class","form-label"),a(u,"for","year"),a(i,"type","number"),a(i,"class","form-control"),a(i,"id","year"),a(i,"min","2000"),a(i,"max","2100"),i.required=!0,i.disabled=n[2],a(p,"class","form-text"),a(D,"class","form-label"),a(D,"for","startDate"),a(w,"type","date"),a(w,"class","form-control"),a(w,"id","startDate"),w.required=!0,a(N,"class","form-text"),a(h,"class","form-label"),a(h,"for","endDate"),a(S,"type","date"),a(S,"class","form-control"),a(S,"id","endDate"),S.required=!0,a($,"class","form-text"),a(R,"class","form-label"),a(R,"for","baptismsGoal"),a(F,"type","number"),a(F,"class","form-control"),a(F,"id","baptismsGoal"),a(F,"min","0"),a(F,"placeholder","Leave empty for no goal"),a(K,"class","form-text"),a(Y,"class","form-label"),a(Y,"for","familySealingsGoal"),a(z,"type","number"),a(z,"class","form-control"),a(z,"id","familySealingsGoal"),a(z,"min","0"),a(z,"placeholder","Leave empty for no goal"),a(O,"class","form-text"),a(fe,"class","form-label"),a(fe,"for","templeOrdinancesGoal"),a(H,"type","number"),a(H,"class","form-control"),a(H,"id","templeOrdinancesGoal"),a(H,"min","0"),a(H,"placeholder","Leave empty for no goal"),a(ge,"class","form-text"),a(me,"class","form-label"),a(me,"for","notes"),a(ye,"class","form-control"),a(ye,"id","notes"),a(ye,"rows","3"),a(Le,"class","form-text"),a(Ce,"type","button"),a(Ce,"class","btn btn-secondary"),a(ce,"type","submit"),a(ce,"class","btn btn-primary"),ce.disabled=n[11],a(De,"class","d-flex justify-content-end gap-2"),a(e,"class","d-flex flex-column gap-3")},m(P,I){le(P,e,I),Q&&Q.m(e,null),l(e,t),l(e,s),l(s,u),l(s,d),l(s,i),se(i,n[3]),l(s,y),l(s,p),l(e,b),l(e,C),l(C,D),l(C,A),l(C,w),se(w,n[4]),l(C,k),l(C,N),l(e,U),l(e,G),l(G,h),l(G,q),l(G,S),se(S,n[5]),l(G,X),l(G,$),l(e,ne),l(e,oe),l(e,he),l(e,J),l(J,R),l(J,pe),l(J,F),se(F,n[6]),l(J,ie),l(J,K),l(e,be),l(e,ee),l(ee,Y),l(ee,B),l(ee,z),se(z,n[7]),l(ee,ve),l(ee,O),l(e,T),l(e,ae),l(ae,fe),l(ae,Ge),l(ae,H),se(H,n[8]),l(ae,Ie),l(ae,ge),l(e,Ne),l(e,ue),l(ue,me),l(ue,ze),l(ue,ye),se(ye,n[9]),l(ue,We),l(ue,Le),l(e,xe),l(e,De),l(De,Ce),l(De,Xe),l(De,ce),te&&te.m(ce,null),l(ce,Re),l(ce,Fe),Je||(it=[Z(i,"input",n[30]),Z(w,"input",n[31]),Z(S,"input",n[32]),Z(F,"input",n[33]),Z(z,"input",n[34]),Z(H,"input",n[35]),Z(ye,"input",n[36]),Z(Ce,"click",n[17]),Z(e,"submit",wt(n[18]))],Je=!0)},p(P,I){P[0]?Q?Q.p(P,I):(Q=_t(P),Q.c(),Q.m(e,t)):Q&&(Q.d(1),Q=null),I[0]&4&&(i.disabled=P[2]),I[0]&8&&ke(i.value)!==P[3]&&se(i,P[3]),I[0]&16&&se(w,P[4]),I[0]&32&&se(S,P[5]),I[0]&64&&ke(F.value)!==P[6]&&se(F,P[6]),I[0]&128&&ke(z.value)!==P[7]&&se(z,P[7]),I[0]&256&&ke(H.value)!==P[8]&&se(H,P[8]),I[0]&512&&se(ye,P[9]),P[11]?te||(te=bt(),te.c(),te.m(ce,Re)):te&&(te.d(1),te=null),I[0]&4&&He!==(He=P[2]?"Update Goal":"Create Goal")&&re(Fe,He),I[0]&2048&&(ce.disabled=P[11])},d(P){P&&f(e),Q&&Q.d(),te&&te.d(),Je=!1,Qe(it)}}}function Ht(n){let e,t,s,u="Ward Mission Goals Configuration",c,d,i,y,p,_,b,C,D,M,A,w,k=n[0]&&ft(n),N=n[1]&&mt(n);function j(h,L){return h[11]?Ut:h[10].length===0?Pt:Vt}let U=j(n),G=U(n);return D=new Mt({props:{title:n[2]?`Edit Goal for ${n[3]}`:"Create New Goal",id:Be,placement:"end",$$slots:{default:[Ot]},$$scope:{ctx:n}}}),{c(){e=o("div"),t=o("div"),s=o("h2"),s.textContent=u,c=g(),d=o("button"),i=o("i"),y=x(" Create New Goal"),p=g(),k&&k.c(),_=g(),N&&N.c(),b=g(),G.c(),C=g(),st(D.$$.fragment),this.h()},l(h){e=r(h,"DIV",{class:!0});var L=E(e);t=r(L,"DIV",{class:!0});var q=E(t);s=r(q,"H2",{"data-svelte-h":!0}),V(s)!=="svelte-1a0qak8"&&(s.textContent=u),c=v(q),d=r(q,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var S=E(d);i=r(S,"I",{class:!0}),E(i).forEach(f),y=W(S," Create New Goal"),S.forEach(f),q.forEach(f),p=v(L),k&&k.l(L),_=v(L),N&&N.l(L),b=v(L),G.l(L),L.forEach(f),C=v(h),at(D.$$.fragment,h),this.h()},h(){a(i,"class","bi bi-plus-circle"),a(d,"class","btn btn-primary"),a(d,"type","button"),a(d,"data-bs-toggle","offcanvas"),a(d,"data-bs-target","#"+Be),a(d,"aria-controls",Be),a(t,"class","d-flex justify-content-between align-items-center mb-4"),a(e,"class","ward-mission-goals-admin svelte-1bmabql")},m(h,L){le(h,e,L),l(e,t),l(t,s),l(t,c),l(t,d),l(d,i),l(d,y),l(e,p),k&&k.m(e,null),l(e,_),N&&N.m(e,null),l(e,b),G.m(e,null),le(h,C,L),lt(D,h,L),M=!0,A||(w=Z(d,"click",n[15]),A=!0)},p(h,L){h[0]?k?k.p(h,L):(k=ft(h),k.c(),k.m(e,_)):k&&(k.d(1),k=null),h[1]?N?N.p(h,L):(N=mt(h),N.c(),N.m(e,b)):N&&(N.d(1),N=null),U===(U=j(h))&&G?G.p(h,L):(G.d(1),G=U(h),G&&(G.c(),G.m(e,null)));const q={};L[0]&12&&(q.title=h[2]?`Edit Goal for ${h[3]}`:"Create New Goal"),L[0]&3069|L[1]&131072&&(q.$$scope={dirty:L,ctx:h}),D.$set(q)},i(h){M||(tt(D.$$.fragment,h),M=!0)},o(h){et(D.$$.fragment,h),M=!1},d(h){h&&(f(e),f(C)),k&&k.d(),N&&N.d(),G.d(),$e(D,h),A=!1,w()}}}const Be="goal-form-drawer";function vt(n,e){const[t,s,u]=n.split("-").map(Number),[c,d,i]=e.split("-").map(Number),y=new Date(t,s-1,u),p=new Date(c,d-1,i),_=y.toLocaleDateString("en-US",{month:"short"}),b=p.toLocaleDateString("en-US",{month:"short"});return`${_} to ${b}`}function Rt(n,e,t){let s,u,c,d;const{stores:{data:i,loading:y},actions:{reload:p,apiCreate:_,apiUpdate:b,apiDelete:C,apiRestore:D,apiHardDelete:M}}=Nt();Ke(n,i,m=>t(22,u=m)),Ke(n,y,m=>t(11,d=m));const{stores:{currentUserIsRoot:A}}=gt();Ke(n,A,m=>t(23,c=m));let w=null,k=null,N=null,j=!1,U=new Date().getFullYear()+1,G="",h="",L=null,q=null,S=null,X="";kt(async()=>{await p()});function $(){N=null,t(2,j=!1),t(3,U=new Date().getFullYear()+1),t(4,G=""),t(5,h=""),t(6,L=null),t(7,q=null),t(8,S=null),t(9,X=""),t(0,w=null)}function Ee(){$(),t(2,j=!1)}function ne(m){N=m,t(2,j=!0),t(3,U=m.year),t(4,G=m.start_date),t(5,h=m.end_date),t(6,L=m.baptisms_goal),t(7,q=m.family_sealings_goal),t(8,S=m.temple_ordinances_goal),t(9,X=m.notes||""),t(0,w=null)}function oe(){document.querySelector(`[data-bs-target="#${Be}"]`)?.click(),$()}async function he(){if(t(0,w=null),t(1,k=null),!U||U<2e3||U>2100){t(0,w="Please enter a valid year between 2000 and 2100");return}if(!G||!h){t(0,w="Please select both start and end dates");return}if(G>h){t(0,w="Start date must be before or equal to end date");return}try{const m={year:U,start_date:G,end_date:h,baptisms_goal:L,family_sealings_goal:q,temple_ordinances_goal:S,is_active:!0,notes:X||null};j&&N?.id?(await b(N.id,m),t(1,k="Goal updated successfully!")):(await _(m),t(1,k="Goal created successfully!")),oe(),setTimeout(()=>{t(1,k=null)},3e3)}catch(m){t(0,w=m instanceof Error?m.message:"Failed to save goal")}}async function J(m){if(confirm(`Are you sure you want to archive the goal for ${m.year}? You can restore it later.`))try{m.id&&(await C(m.id),t(1,k="Goal archived successfully!"),setTimeout(()=>{t(1,k=null)},3e3))}catch(T){t(0,w=T instanceof Error?T.message:"Failed to archive goal")}}async function R(m){if(confirm(`Are you sure you want to restore the goal for ${m.year}?`))try{m.id&&(await D(m.id),t(1,k="Goal restored successfully!"),setTimeout(()=>{t(1,k=null)},3e3))}catch(T){t(0,w=T instanceof Error?T.message:"Failed to restore goal")}}async function de(m){if(confirm(`Are you sure you want to PERMANENTLY delete the goal for ${m.year}?

This action cannot be undone and will remove the goal from the database forever.`))try{m.id&&(await M(m.id),t(1,k="Goal permanently deleted!"),setTimeout(()=>{t(1,k=null)},3e3))}catch(T){t(0,w=T instanceof Error?T.message:"Failed to permanently delete goal")}}const pe=()=>t(0,w=null),F=()=>t(1,k=null),ie=m=>R(m),K=m=>de(m),_e=m=>ne(m),be=m=>J(m);function ee(){U=ke(this.value),t(3,U)}function Y(){G=this.value,t(4,G)}function Te(){h=this.value,t(5,h)}function B(){L=ke(this.value),t(6,L)}function z(){q=ke(this.value),t(7,q)}function ve(){S=ke(this.value),t(8,S)}function O(){X=this.value,t(9,X)}return n.$$.update=()=>{n.$$.dirty[0]&12582912&&t(10,s=c?u:u.filter(m=>m.is_active))},[w,k,j,U,G,h,L,q,S,X,s,d,i,y,A,Ee,ne,oe,he,J,R,de,u,c,pe,F,ie,K,_e,be,ee,Y,Te,B,z,ve,O]}class Ft extends Ct{constructor(e){super(),Et(this,e,Rt,Ht,yt,{},null,[-1,-1])}}function Yt(n){let e,t,s=`Configure annual ward mission goals including target dates and goal values. Goals will
			automatically display on the home page for all ward members.`,u,c,d;return c=new Ft({}),{c(){e=o("div"),t=o("p"),t.textContent=s,u=g(),st(c.$$.fragment),this.h()},l(i){e=r(i,"DIV",{class:!0});var y=E(e);t=r(y,"P",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-5kjh6h"&&(t.textContent=s),u=v(y),at(c.$$.fragment,y),y.forEach(f),this.h()},h(){a(t,"class","lead"),a(e,"class","container svelte-y958z5")},m(i,y){le(i,e,y),l(e,t),l(e,u),lt(c,e,null),d=!0},p:Ze,i(i){d||(tt(c.$$.fragment,i),d=!0)},o(i){et(c.$$.fragment,i),d=!1},d(i){i&&f(e),$e(c)}}}function jt(n){let e,t;return e=new Lt({props:{pageTitle:"Manage Ward Mission Goals",$$slots:{default:[Yt]},$$scope:{ctx:n}}}),{c(){st(e.$$.fragment)},l(s){at(e.$$.fragment,s)},m(s,u){lt(e,s,u),t=!0},p(s,[u]){const c={};u&2&&(c.$$scope={dirty:u,ctx:s}),e.$set(c)},i(s){t||(tt(e.$$.fragment,s),t=!0)},o(s){et(e.$$.fragment,s),t=!1},d(s){$e(e,s)}}}function zt(n){const{stores:{pageName:e}}=gt();return e.set("Ward Mission Goals"),[]}class tl extends Ct{constructor(e){super(),Et(this,e,zt,jt,yt,{})}}export{tl as component,el as universal};
