import{s as A,j as J,n as C,r as S,o as K}from"../chunks/scheduler.C9-2ehqC.js";import{S as q,i as z,z as U,j as E,C as M,x as Q,a as j,w as W,t as D,f as b,e as _,s as T,c as h,b as I,g as N,d as L,h as c,k as p,D as P,o as B,q as x,r as F,v as G,m as X,n as Y,u as Z}from"../chunks/index.Bpqzly7s.js";import{g as R}from"../chunks/app.state.SerDnyJj.js";import{g as ee}from"../chunks/entry.CPd3k0vE.js";import{L as te}from"../chunks/Loading.CGwp2y2t.js";import{i as se,t as ne}from"../chunks/analytics.BqvobXsC.js";const re=!0,ye=Object.freeze(Object.defineProperty({__proto__:null,prerender:re},Symbol.toStringTag,{value:"Module"}));function le(o){let e,t,s='<img src="/assets/logo.png" alt="logo" class="logo svelte-1n4t3wo"/> <h1 class="mb-0 h4">Lehi Tolutaha</h1>',n,i,r,a,l,u,f,v='<a href="/home" class="btn-link btn">Back to home</a> <button type="submit" class="btn btn-secondary">Submit</button>',w,H,d=o[4]&&O(o);function V(m,g){return m[3]?ie:oe}let k=V(o),y=k(o);return{c(){e=_("div"),t=_("a"),t.innerHTML=s,n=T(),d&&d.c(),i=T(),r=_("form"),a=_("input"),l=T(),y.c(),u=T(),f=_("div"),f.innerHTML=v,this.h()},l(m){e=h(m,"DIV",{class:!0});var g=I(e);t=h(g,"A",{href:!0,class:!0,"data-svelte-h":!0}),N(t)!=="svelte-1inzn7"&&(t.innerHTML=s),n=L(g),d&&d.l(g),i=L(g),r=h(g,"FORM",{class:!0});var $=I(r);a=h($,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0,"aria-describedby":!0}),l=L($),y.l($),u=L($),f=h($,"DIV",{class:!0,"data-svelte-h":!0}),N(f)!=="svelte-1jydk9b"&&(f.innerHTML=v),$.forEach(b),g.forEach(b),this.h()},h(){c(t,"href","/home"),c(t,"class","header-content d-flex align-items-center gap-2 text-decoration-none svelte-1n4t3wo"),c(a,"type","text"),c(a,"class","form-control"),c(a,"placeholder","username"),c(a,"id","user-name"),c(a,"aria-describedby","username"),c(f,"class","d-flex justify-content-between"),c(r,"class","d-flex gap-3 flex-column"),c(e,"class","container d-flex flex-column gap-3 mt-5 mb-5 svelte-1n4t3wo")},m(m,g){E(m,e,g),p(e,t),p(e,n),d&&d.m(e,null),p(e,i),p(e,r),p(r,a),P(a,o[1]),p(r,l),y.m(r,null),p(r,u),p(r,f),w||(H=[M(a,"input",o[9]),J(o[8].call(null,a)),M(r,"submit",o[5])],w=!0)},p(m,g){m[4]?d?d.p(m,g):(d=O(m),d.c(),d.m(e,i)):d&&(d.d(1),d=null),g&2&&a.value!==m[1]&&P(a,m[1]),k===(k=V(m))&&y?y.p(m,g):(y.d(1),y=k(m),y&&(y.c(),y.m(r,u)))},i:C,o:C,d(m){m&&b(e),d&&d.d(),y.d(),w=!1,S(H)}}}function ae(o){let e,t;return e=new te({props:{message:o[4]}}),{c(){B(e.$$.fragment)},l(s){x(e.$$.fragment,s)},m(s,n){F(e,s,n),t=!0},p(s,n){const i={};n&16&&(i.message=s[4]),e.$set(i)},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){j(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function O(o){let e,t,s,n,i;return{c(){e=_("div"),t=_("i"),s=T(),n=_("div"),i=X(o[4]),this.h()},l(r){e=h(r,"DIV",{class:!0,role:!0});var a=I(e);t=h(a,"I",{class:!0}),I(t).forEach(b),s=L(a),n=h(a,"DIV",{});var l=I(n);i=Y(l,o[4]),l.forEach(b),a.forEach(b),this.h()},h(){c(t,"class","bi bi-exclamation-triangle-fill"),c(e,"class","alert alert-danger d-flex align-items-center gap-2"),c(e,"role","alert")},m(r,a){E(r,e,a),p(e,t),p(e,s),p(e,n),p(n,i)},p(r,a){a&16&&Z(i,r[4])},d(r){r&&b(e)}}}function oe(o){let e,t,s,n,i='<i class="bi bi-eye"></i>',r,a;return{c(){e=_("div"),t=_("input"),s=T(),n=_("button"),n.innerHTML=i,this.h()},l(l){e=h(l,"DIV",{class:!0});var u=I(e);t=h(u,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0,"aria-describedby":!0}),s=L(u),n=h(u,"BUTTON",{class:!0,"data-svelte-h":!0}),N(n)!=="svelte-mjb1ay"&&(n.innerHTML=i),u.forEach(b),this.h()},h(){c(t,"type","password"),c(t,"class","form-control"),c(t,"placeholder","password"),c(t,"id","password"),c(t,"aria-describedby","password"),c(n,"class","input-group-text"),c(e,"class","input-group")},m(l,u){E(l,e,u),p(e,t),P(t,o[2]),p(e,s),p(e,n),r||(a=[M(t,"input",o[11]),M(n,"click",o[6])],r=!0)},p(l,u){u&4&&t.value!==l[2]&&P(t,l[2])},d(l){l&&b(e),r=!1,S(a)}}}function ie(o){let e,t,s,n,i='<i class="bi bi-eye-slash"></i>',r,a;return{c(){e=_("div"),t=_("input"),s=T(),n=_("button"),n.innerHTML=i,this.h()},l(l){e=h(l,"DIV",{class:!0});var u=I(e);t=h(u,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0,"aria-describedby":!0}),s=L(u),n=h(u,"BUTTON",{class:!0,"data-svelte-h":!0}),N(n)!=="svelte-63xbvi"&&(n.innerHTML=i),u.forEach(b),this.h()},h(){c(t,"type","text"),c(t,"class","form-control"),c(t,"placeholder","password"),c(t,"id","password"),c(t,"aria-describedby","password"),c(n,"class","input-group-text"),c(e,"class","input-group")},m(l,u){E(l,e,u),p(e,t),P(t,o[2]),p(e,s),p(e,n),r||(a=[M(t,"input",o[10]),M(n,"click",o[6])],r=!0)},p(l,u){u&4&&t.value!==l[2]&&P(t,l[2])},d(l){l&&b(e),r=!1,S(a)}}}function ue(o){let e,t,s,n,i,r;const a=[ae,le],l=[];function u(f,v){return f[0]?0:1}return e=u(o),t=l[e]=a[e](o),{c(){t.c(),s=U()},l(f){t.l(f),s=U()},m(f,v){l[e].m(f,v),E(f,s,v),n=!0,i||(r=M(window,"keydown",o[7]),i=!0)},p(f,[v]){let w=e;e=u(f),e===w?l[e].p(f,v):(Q(),j(l[w],1,1,()=>{l[w]=null}),W(),t=l[e],t?t.p(f,v):(t=l[e]=a[e](f),t.c()),D(t,1),t.m(s.parentNode,s))},i(f){n||(D(t),n=!0)},o(f){j(t),n=!1},d(f){f&&b(s),l[e].d(f),i=!1,r()}}}function ce(o,e,t){const{actions:{login:s}}=R();let n=!1,i,r,a,l;const u=()=>{t(0,n=!0),i&&r&&s(i,r)?(t(4,l="Logging you in ..."),setTimeout(()=>{ee("/home")},1e3)):(t(4,l=!i||!r?"Username and password is required":"Login failed, please try again"),setTimeout(()=>{t(0,n=!1)},1e3))},f=()=>{t(3,a=!a)},v=k=>{k.key==="Enter"&&u()},w=k=>{k.focus()};function H(){i=this.value,t(1,i)}function d(){r=this.value,t(2,r)}function V(){r=this.value,t(2,r)}return[n,i,r,a,l,u,f,v,w,H,d,V]}class fe extends q{constructor(e){super(),z(this,e,ce,ue,A,{})}}function de(o){let e,t;return e=new fe({}),{c(){B(e.$$.fragment)},l(s){x(e.$$.fragment,s)},m(s,n){F(e,s,n),t=!0},p:C,i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){j(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function pe(o){const{stores:{pageName:e}}=R();return e.set("Auth - Login"),K(()=>{typeof window<"u"&&(se(),ne(window.location.pathname))}),[]}class we extends q{constructor(e){super(),z(this,e,pe,de,A,{})}}export{we as component,ye as universal};
