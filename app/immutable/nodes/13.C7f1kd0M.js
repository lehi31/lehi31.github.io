import{s as F,d as x,i as M,A as P,x as V,n as H,b as p,p as c,c as b,e as D,w as E,g as L,h as v,j as T,a as G,f as J,t as K,y as Q,z as q,R as X,B as Y}from"../chunks/pH736Kvp.js";import{S as B,i as N,t as S,a as R,g as Z,e as $,d as z,m as j,c as O,b as U}from"../chunks/THtqwFCh.js";import{g as W}from"../chunks/ayqPATMY.js";import{L as ee}from"../chunks/QJNTbXsP.js";function te(u){let e,t,s='<img src="/assets/logo.png" alt="logo" class="logo svelte-1n4t3wo"/> <h1 class="mb-0 h4">Lehi Tolutaha</h1>',a,r,n="Forgot Password",d,l,f="Enter your email address and we'll send you a link to reset your password.",i,m,h,_,I=`<small class="text-muted">Don&#39;t have an account?
				<a href="/auth/signup" class="link-primary">Sign up</a></small>`,o=u[2]&&A(u);function y(k,g){return k[4]?le:re}let w=y(u),C=w(u);return{c(){e=v("div"),t=v("a"),t.innerHTML=s,a=T(),r=v("h2"),r.textContent=n,d=T(),l=v("p"),l.textContent=f,i=T(),o&&o.c(),m=T(),C.c(),h=T(),_=v("div"),_.innerHTML=I,this.h()},l(k){e=b(k,"DIV",{class:!0});var g=D(e);t=b(g,"A",{href:!0,class:!0,"data-svelte-h":!0}),E(t)!=="svelte-1inzn7"&&(t.innerHTML=s),a=L(g),r=b(g,"H2",{class:!0,"data-svelte-h":!0}),E(r)!=="svelte-rwiy8k"&&(r.textContent=n),d=L(g),l=b(g,"P",{class:!0,"data-svelte-h":!0}),E(l)!=="svelte-f1945n"&&(l.textContent=f),i=L(g),o&&o.l(g),m=L(g),C.l(g),h=L(g),_=b(g,"DIV",{class:!0,"data-svelte-h":!0}),E(_)!=="svelte-7cmitz"&&(_.innerHTML=I),g.forEach(x),this.h()},h(){c(t,"href","/home"),c(t,"class","header-content d-flex align-items-center gap-2 text-decoration-none svelte-1n4t3wo"),c(r,"class","h5"),c(l,"class","text-muted small"),c(_,"class","text-center"),c(e,"class","container d-flex flex-column gap-3 mt-5 mb-5 svelte-1n4t3wo")},m(k,g){M(k,e,g),p(e,t),p(e,a),p(e,r),p(e,d),p(e,l),p(e,i),o&&o.m(e,null),p(e,m),C.m(e,null),p(e,h),p(e,_)},p(k,g){k[2]?o?o.p(k,g):(o=A(k),o.c(),o.m(e,m)):o&&(o.d(1),o=null),w===(w=y(k))&&C?C.p(k,g):(C.d(1),C=w(k),C&&(C.c(),C.m(e,h)))},i:H,o:H,d(k){k&&x(e),o&&o.d(),C.d()}}}function se(u){let e,t;return e=new ee({props:{message:"Sending password reset email..."}}),{c(){U(e.$$.fragment)},l(s){O(e.$$.fragment,s)},m(s,a){j(e,s,a),t=!0},p:H,i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){S(e.$$.fragment,s),t=!1},d(s){z(e,s)}}}function A(u){let e,t,s,a,r,n,d;return{c(){e=v("div"),t=v("i"),a=T(),r=v("div"),n=K(u[2]),this.h()},l(l){e=b(l,"DIV",{class:!0,role:!0});var f=D(e);t=b(f,"I",{class:!0}),D(t).forEach(x),a=L(f),r=b(f,"DIV",{});var i=D(r);n=J(i,u[2]),i.forEach(x),f.forEach(x),this.h()},h(){c(t,"class",s="bi "+(u[3]==="success"?"bi-check-circle-fill":"bi-exclamation-triangle-fill")),c(e,"class",d="alert "+(u[3]==="success"?"alert-success":"alert-danger")+" d-flex align-items-center gap-2"),c(e,"role","alert")},m(l,f){M(l,e,f),p(e,t),p(e,a),p(e,r),p(r,n)},p(l,f){f&8&&s!==(s="bi "+(l[3]==="success"?"bi-check-circle-fill":"bi-exclamation-triangle-fill"))&&c(t,"class",s),f&4&&G(n,l[2]),f&8&&d!==(d="alert "+(l[3]==="success"?"alert-success":"alert-danger")+" d-flex align-items-center gap-2")&&c(e,"class",d)},d(l){l&&x(e)}}}function le(u){let e,t=`<i class="bi bi-info-circle-fill"></i> <div><strong>Check your email</strong><br/>
					If an account exists with the email address you provided, you&#39;ll receive a password reset link
					shortly. The link will expire in 1 hour.</div>`,s,a,r,n="Return to Login",d,l,f="Send another reset link",i,m;return{c(){e=v("div"),e.innerHTML=t,s=T(),a=v("div"),r=v("a"),r.textContent=n,d=T(),l=v("button"),l.textContent=f,this.h()},l(h){e=b(h,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),E(e)!=="svelte-qx79tp"&&(e.innerHTML=t),s=L(h),a=b(h,"DIV",{class:!0});var _=D(a);r=b(_,"A",{href:!0,class:!0,"data-svelte-h":!0}),E(r)!=="svelte-y8wnfv"&&(r.textContent=n),d=L(_),l=b(_,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),E(l)!=="svelte-wwpd99"&&(l.textContent=f),_.forEach(x),this.h()},h(){c(e,"class","alert alert-info d-flex align-items-center gap-2"),c(e,"role","alert"),c(r,"href","/auth/login"),c(r,"class","btn btn-primary"),c(l,"type","button"),c(l,"class","btn btn-link"),c(a,"class","d-flex flex-column gap-2")},m(h,_){M(h,e,_),M(h,s,_),M(h,a,_),p(a,r),p(a,d),p(a,l),i||(m=P(l,"click",u[9]),i=!0)},p:H,d(h){h&&(x(e),x(s),x(a)),i=!1,m()}}}function re(u){let e,t,s,a="Email address",r,n,d,l,f="We'll send a password reset link to this email address",i,m,h='<a href="/auth/login" class="btn-link btn">Back to login</a> <button type="submit" class="btn btn-primary">Send Reset Link</button>',_,I;return{c(){e=v("form"),t=v("div"),s=v("label"),s.textContent=a,r=T(),n=v("input"),d=T(),l=v("small"),l.textContent=f,i=T(),m=v("div"),m.innerHTML=h,this.h()},l(o){e=b(o,"FORM",{class:!0});var y=D(e);t=b(y,"DIV",{});var w=D(t);s=b(w,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),E(s)!=="svelte-4w1dqu"&&(s.textContent=a),r=L(w),n=b(w,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0,"aria-describedby":!0}),d=L(w),l=b(w,"SMALL",{class:!0,"data-svelte-h":!0}),E(l)!=="svelte-2g39wn"&&(l.textContent=f),w.forEach(x),i=L(y),m=b(y,"DIV",{class:!0,"data-svelte-h":!0}),E(m)!=="svelte-9o6ru8"&&(m.innerHTML=h),y.forEach(x),this.h()},h(){c(s,"for","email"),c(s,"class","form-label"),c(n,"type","email"),c(n,"class","form-control"),c(n,"placeholder","your.email@example.com"),c(n,"id","email"),c(n,"aria-describedby","email"),n.required=!0,c(l,"class","text-muted"),c(m,"class","d-flex justify-content-between align-items-center"),c(e,"class","d-flex gap-3 flex-column")},m(o,y){M(o,e,y),p(e,t),p(t,s),p(t,r),p(t,n),q(n,u[1]),p(t,d),p(t,l),p(e,i),p(e,m),_||(I=[P(n,"input",u[8]),X(u[7].call(null,n)),P(e,"submit",Y(u[5]))],_=!0)},p(o,y){y&2&&n.value!==o[1]&&q(n,o[1])},d(o){o&&x(e),_=!1,Q(I)}}}function ne(u){let e,t,s,a,r,n;const d=[se,te],l=[];function f(i,m){return i[0]?0:1}return e=f(u),t=l[e]=d[e](u),{c(){t.c(),s=V()},l(i){t.l(i),s=V()},m(i,m){l[e].m(i,m),M(i,s,m),a=!0,r||(n=P(window,"keydown",u[6]),r=!0)},p(i,[m]){let h=e;e=f(i),e===h?l[e].p(i,m):(Z(),S(l[h],1,1,()=>{l[h]=null}),$(),t=l[e],t?t.p(i,m):(t=l[e]=d[e](i),t.c()),R(t,1),t.m(s.parentNode,s))},i(i){a||(R(t),a=!0)},o(i){S(t),a=!1},d(i){i&&x(s),l[e].d(i),r=!1,n()}}}function ae(u,e,t){const{actions:{requestPasswordReset:s}}=W();let a=!1,r="",n="",d="error",l=!1;const f=async()=>{if(t(0,a=!0),t(2,n=""),t(3,d="error"),!r){t(2,n="Email is required"),t(0,a=!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){t(2,n="Please enter a valid email address"),t(0,a=!1);return}const o=await s(r);o.success?(t(3,d="success"),t(2,n=o.message||"If an account exists with this email, a password reset link has been sent."),t(4,l=!0)):(t(3,d="error"),t(2,n=o.error||"Failed to send password reset email")),t(0,a=!1)},i=I=>{I.key==="Enter"&&!l&&f()},m=I=>{I.focus()};function h(){r=this.value,t(1,r)}return[a,r,n,d,l,f,i,m,h,()=>{t(4,l=!1),t(1,r=""),t(2,n="")}]}class ie extends B{constructor(e){super(),N(this,e,ae,ne,F,{})}}function oe(u){let e,t;return e=new ie({}),{c(){U(e.$$.fragment)},l(s){O(e.$$.fragment,s)},m(s,a){j(e,s,a),t=!0},p:H,i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){S(e.$$.fragment,s),t=!1},d(s){z(e,s)}}}function ce(u){const{stores:{pageName:e}}=W();return e.set("Auth - Forgot Password"),[]}class pe extends B{constructor(e){super(),N(this,e,ce,oe,F,{})}}export{pe as component};
