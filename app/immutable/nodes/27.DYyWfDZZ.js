import"../chunks/NZTpNUN0.js";import"../chunks/69_IOA4Y.js";import{c,r as l,s as n,t as Q,p as De,E as k,z as Je,D as f,ai as ee,g as e,w as Z,aj as Ve,u as a,F as Be,a as Ae,as as Pe,f as $e,i as Qe,R as se}from"../chunks/CPOcesE7.js";import{f as P,a as m,c as Fe,t as ie}from"../chunks/YsHTGu5k.js";import{p as U,s as ae,i as K,e as xe,b as Ne,a as la,f as le}from"../chunks/CCh4w6lW.js";import{i as Re}from"../chunks/C2Q_9cr2.js";import{o as Xe,a as Ta}from"../chunks/DHXte27T.js";import{e as Ee,i as je}from"../chunks/DAwrR-3T.js";import{s as pe,r as Ke,b as ia}from"../chunks/qyjGmwbN.js";import{t as Ha,c as ce,g as ba,f as Ca,P as Na,W as we}from"../chunks/BFZC0Q67.js";import{b as na,a as Da}from"../chunks/QDlYjqxz.js";import{b as ra}from"../chunks/DLuN8Kcu.js";import{P as ga,u as Aa,H as oe,a as Ra,b as Ba,c as pa,d as Ea,e as ja,f as La,g as ua,h as _a,B as sa,i as Ma,j as Wa,k as Ua,l as ya,m as Fa,S as Ie,n as Te,o as qe,C as Oa}from"../chunks/Cuo86-Yh.js";import{S as oa}from"../chunks/Dz8rHJy-.js";import{t as Le}from"../chunks/r7-tBYgy.js";import{A as za,a as de}from"../chunks/DawH1PbT.js";import{D as qa}from"../chunks/MTQjS-MA.js";import{f as Ya}from"../chunks/k3G3mGwX.js";import{i as Ga,W as Ka,a as Ja,B as Qa,b as Va,S as Xa}from"../chunks/DxzVoKkk.js";import{P as Za}from"../chunks/DwauWP8s.js";import{A as et,E as at}from"../chunks/DEhgilQa.js";function tt(L){return Ha(L).getDay()}function nt(L,_){let t=_-tt(L);return t<=0&&(t+=7),Ya(L,t)}function rt(L){return nt(L,0)}const st=!0,dn=Object.freeze(Object.defineProperty({__proto__:null,prerender:st},Symbol.toStringTag,{value:"Module"}));var it=P('<div class="d-flex justify-content-between"><div> </div> <div class="text-end"> <br/> <div class="d-flex align-items-center justify-content-end flex-row gap-2"><small class="small fw-lighter"> </small> <a class="btn btn-primary btn-sm d-print-none" target="_blank" tabindex="-1" role="button" style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: .70rem;">Lyrics</a></div></div></div>');function Ye(L,_){let t=U(_,"assignment",8,""),y=U(_,"title",8,""),r=U(_,"language",8,""),E=U(_,"page",8,0),i=U(_,"link",8,"");var u=it(),v=c(u),h=c(v,!0);l(v);var o=n(v,2),S=c(o,!0),$=n(S,3),T=c($),F=c(T);l(T);var C=n(T,2);l($),l(o),l(u),Q(()=>{ae(h,t()),ae(S,y()),ae(F,`${r()??""} Hymn No. ${E()??""}`),pe(C,"href",i())}),m(L,u)}var lt=P('<div class="d-flex justify-content-between"><div> </div> <div class="text-end"> <br/> <em class="small fw-lighter"> </em></div></div>');function fe(L,_){let t=U(_,"assignment",8,""),y=U(_,"name",8,""),r=U(_,"details",8,"");var E=lt(),i=c(E),u=c(i,!0);l(i);var v=n(i,2),h=c(v,!0),o=n(h,3),S=c(o,!0);l(o),l(v),l(E),Q(()=>{ae(u,t()),ae(h,y()),ae(S,r())}),m(L,E)}var ot=P("<div><strong> </strong></div>"),dt=P("<span> </span>"),ct=P("<div><small><em>Presets</em></small> <div></div></div>"),vt=P('<div class="d-flex flex-column gap-2"><div>Role</div> <input type="text" placeholder="Participant role" required/> <small class="fw-lighter fst-italic">Participant sacrament role. i.e. Speaker, Musical number, Pianist</small></div>'),mt=P('<span class="position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle"><span class="visually-hidden">Item not saved</span></span>'),gt=P('<div class="wrapper d-flex flex-column gap-4"><!> <!> <!> <div class="d-flex flex-column gap-2"><div>Name</div> <input type="text" placeholder="Participant name" required/> <small class="fw-lighter fst-italic">Participant name. i.e. Brother John Smith</small></div> <div class="d-flex flex-column gap-2"><div>Description</div> <input type="text" placeholder="Participant description" required/> <small class="fw-lighter fst-italic">Participant Calling or Title. i.e. Ward Member, Sunday School Teacher</small></div> <div class="d-flex justify-content-end align-items-center gap-2 flex-row"><small> </small> <span><!></span> <button class="btn btn-primary position-relative"><span>Save</span> <!></button></div></div>');function he(L,_){De(_,!1);const t=k(),y=k(),r=k(),E=k(),i=k();let u=U(_,"label",8,""),v=U(_,"editableRole",8,!1),h=U(_,"presets",24,()=>[]),o=U(_,"participant",28,()=>({name:"",description:"",role:ga.Unknown})),S=k(!1),$=o().id,T=k(),F=k(),C=k(),x=k({message:"",type:"info"}),z=k({name:"",description:"",role:ga.Unknown});const re=p=>{o({...p,id:$})},O=(p,j=0,W="info")=>{Pe(x,e(x).message=p),Pe(x,e(x).type=W),j&&setTimeout(()=>{Pe(x,e(x).message="")},j)},H=async()=>{if(!e(t)){O("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}if(!$){O("ID is not defined",0,"danger");return}if(!e(i)){let p=[];e(r)&&p.push("Name is invalid"),e(E)&&p.push("Description is invalid"),O(p.join(". ")+".  Please address accordingly.",0,"danger")}try{O("Saving ..."),f(S,!0);const p={description:o().description,member_given_name:o().name,role:v()?o().role:u()};await Aa($,p),console.log("Participant updated successfully"),Le("set_sacrament_participant_success","interaction",`Set Sacrament Participant Successful ${v()?o().role:u()}`,1),setTimeout(()=>{f(S,!1),f(z,{...o(),id:$}),O("Saved",3e3,"success")},800)}catch(p){Le("set_sacrament_participant_failed","interaction",`Set Sacrament Participant Failed ${v()?o().role:u()}`,1),setTimeout(()=>{f(S,!1),console.error("Participant update failed",p),O("Save failed, please reload browser and try again.",7e3,"danger")},800)}};Xe(async()=>{await Je(),f(z,{...o(),id:$})}),ee(()=>(e(z),Z(o())),()=>{f(t,e(z).role!==o().role||e(z).name!==o().name||e(z).description!==o().description)}),ee(()=>Z(o()),()=>{f(y,o().role==="")}),ee(()=>Z(o()),()=>{f(r,o().name==="")}),ee(()=>Z(o()),()=>{f(E,o().description==="")}),ee(()=>Z(o()),()=>{f(i,!!($&&o()&&o().name.length&&o().description.length))}),Ve(),Re();var w=gt(),M=c(w);{var V=p=>{var j=ot(),W=c(j),_e=c(W,!0);l(W),l(j),Q(()=>ae(_e,u())),m(p,j)};K(M,p=>{u()&&p(V)})}var q=n(M,2);{var te=p=>{var j=ct();let W;var _e=n(c(j),2);Ee(_e,5,h,je,(Se,Ce)=>{var ye=dt();let Oe;var Me=c(ye,!0);l(ye),Q(()=>{Oe=ce(ye,1,"badge me-2 cursor-pointer svelte-mo0ot3",null,Oe,{"text-bg-secondary":e(Ce).description!==o().description,"text-bg-warning":e(Ce).description===o().description}),ae(Me,(e(Ce),a(()=>e(Ce).description)))}),xe("click",ye,()=>re(e(Ce))),m(Se,ye)}),l(_e),l(j),Q(()=>W=ce(j,1,"",null,W,{loading:e(S)})),m(p,j)};K(q,p=>{Z(h()),a(()=>h()?.length)&&p(te)})}var G=n(q,2);{var J=p=>{var j=vt(),W=n(c(j),2);Ke(W);let _e;ra(W,Se=>f(T,Se),()=>e(T)),Be(2),l(j),Q(()=>{pe(W,"name",`${u()??""}-role`),_e=ce(W,1,"form-control",null,_e,{"is-invalid":e(y)}),W.disabled=e(S)}),xe("focus",W,()=>e(T).select()),na(W,()=>o().role,Se=>o(o().role=Se,!0)),m(p,j)};K(G,p=>{v()&&p(J)})}var Y=n(G,2),N=n(c(Y),2);Ke(N);let D;ra(N,p=>f(F,p),()=>e(F)),Be(2),l(Y);var A=n(Y,2),g=n(c(A),2);Ke(g);let R;ra(g,p=>f(C,p),()=>e(C)),Be(2),l(A);var ne=n(A,2),s=c(ne),b=c(s,!0);l(s);var d=n(s,2);let He;var me=c(d);oa(me,{size:"xs"}),l(d);var be=n(d,2),ge=n(c(be),2);{var X=p=>{var j=mt();m(p,j)};K(ge,p=>{e(t)&&p(X)})}l(be),l(ne),l(w),Q(()=>{pe(N,"name",`${u()??""}-name`),D=ce(N,1,"form-control",null,D,{"is-invalid":e(r)}),N.disabled=e(S),pe(g,"name",`${u()??""}-description`),R=ce(g,1,"form-control",null,R,{"is-invalid":e(E)}),g.disabled=e(S),ce(s,1,`fw-lighter fst-italic text-${e(x),a(()=>e(x).type)??""}`,"svelte-mo0ot3"),ae(b,(e(x),a(()=>e(x).message))),He=ce(d,1,"",null,He,{"d-none":!e(S)})}),xe("focus",N,()=>e(F).select()),na(N,()=>o().name,p=>o(o().name=p,!0)),xe("focus",g,()=>e(C).select()),na(g,()=>o().description,p=>o(o().description=p,!0)),xe("click",be,H),m(L,w),Ae()}var pt=P('<div><div class="form-check"><input class="form-check-input" type="checkbox"/> <label class="form-check-label">None</label></div> <small class="fw-lighter fst-italic">Check if this hymn is not needed</small></div>'),ut=P("<option> </option>"),_t=P("<option> </option>"),ft=P('<div class="d-flex flex-column gap-2"><div>Language</div> <select aria-label="Hymn Language"><option selected></option><!></select></div> <div class="d-flex flex-column gap-2"><div>Hymn</div> <select aria-label="Hymn List"></select></div>',1),bt=P('<span class="position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle"><span class="visually-hidden">Item not saved</span></span>'),yt=P('<div class="d-flex flex-column gap-4"><!> <!> <div class="d-flex justify-content-end align-items-center gap-2 flex-row"><small> </small> <span><!></span> <button type="button" class="btn btn btn-primary position-relative"><span>Save</span> <!></button></div></div>');function Ge(L,_){De(_,!1);const t=k(),y=k(),r=k(),E=k();let i=U(_,"hymn",28,()=>({page_number:0,language:oe.English})),u=U(_,"name",8,""),v=U(_,"nullable",8,!1),h=i().id,o=k(!1),S=k(!1),$=k({message:"",type:"info"}),T=k({page_number:0,language:oe.English});const F=[{label:"English",value:oe.English},{label:"Tongan",value:oe.Tongan},{label:"Samoan",value:oe.Samoan}];let C=k([]);const x=(g,R=0,ne="info")=>{Pe($,e($).message=g),Pe($,e($).type=ne),R&&setTimeout(()=>{Pe($,e($).message="")},R)},z=async()=>{if(!e(t)){x("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}if(!h){x("ID is not defined",0,"danger");return}if(!e(S)){let g=[];e(r)&&g.push("Page number is invalid"),e(y)&&g.push("Language is invalid"),x(g.join(". ")+".  Please address accordingly.",0,"danger");return}try{x("Saving ..."),f(o,!0);const g={page_number:i().blank?0:i().page_number,language:i().blank?oe.None:i().language,blank:i().blank};await Ea(h,g),console.log("Hymn updated successfully"),Le("set_sacrament_hymn_success","interaction",`Set Sacrament Hymn Successful: Page:${i().blank?0:i().page_number} | Lang:${i().blank?oe.None:i().language}`,1),setTimeout(()=>{f(o,!1),f(T,{...i(),id:h}),x("Saved",3e3,"success")},800)}catch(g){Le("set_sacrament_hymn_failed","interaction",`Set Sacrament Hymn Failed: Page:${i().blank?0:i().page_number} | Lang:${i().blank?oe.None:i().language}`,1),setTimeout(()=>{f(o,!1),console.error("Hymn update failed",g),x("Save failed, please reload browser and try again.",7e3,"danger")},800)}};Xe(async()=>{await Je(),f(T,{...i(),id:h})}),ee(()=>(e(T),Z(i())),()=>{f(t,e(T).page_number!==i().page_number||e(T).language!==i().language||e(T).blank!==i().blank)}),ee(()=>(Z(i()),oe),()=>{f(y,i().language===oe.None)}),ee(()=>Z(i()),()=>{f(r,i().page_number===0)}),ee(()=>(Z(i()),e(y),e(r)),()=>{f(S,i().blank||!!(h&&!i().blank&&!e(y)&&!e(r)))}),ee(()=>(Z(i()),oe),()=>{i().blank&&(i(i().page_number=0,!0),i(i().language=oe.None,!0))}),ee(()=>(Z(i()),pa),()=>{i().language===oe.English?f(C,Ra):i().language===oe.Samoan?f(C,Ba):i().language===oe.Tongan&&f(C,pa)}),ee(()=>e(C),()=>{f(E,e(C).map(g=>({label:`${g.page}. ${g.title}`,value:g.page})))}),Ve(),Re();var re=yt(),O=c(re);{var H=g=>{var R=pt(),ne=c(R),s=c(ne);Ke(s);var b=n(s,2);l(ne),Be(2),l(R),Q(()=>{pe(s,"name",`${u()??""}-none-check`),pe(b,"for",`${u()??""}-none-check`)}),Da(s,()=>i().blank,d=>i(i().blank=d,!0)),m(g,R)};K(O,g=>{v()&&g(H)})}var w=n(O,2);{var M=g=>{var R=ft(),ne=$e(R),s=n(c(ne),2);Q(()=>{i(),Qe(()=>{u(),e(o),e(y)})});let b;var d=n(c(s));Ee(d,1,()=>F,je,(ge,X)=>{var p=ut(),j=c(p,!0);l(p);var W={};Q(()=>{ae(j,(e(X),a(()=>e(X).label))),W!==(W=(e(X),a(()=>e(X).value)))&&(p.value=(p.__value=(e(X),a(()=>e(X).value)))??"")}),m(ge,p)}),l(s),l(ne);var He=n(ne,2),me=n(c(He),2);Q(()=>{i(),Qe(()=>{u(),e(o),e(r),e(E)})});let be;Ee(me,5,()=>e(E),je,(ge,X)=>{var p=_t(),j=c(p,!0);l(p);var W={};Q(()=>{ae(j,(e(X),a(()=>e(X).label))),W!==(W=(e(X),a(()=>e(X).value)))&&(p.value=(p.__value=(e(X),a(()=>e(X).value)))??"")}),m(ge,p)}),l(me),l(He),Q(()=>{b=ce(s,1,"form-select",null,b,{"is-invalid":e(y)}),pe(s,"name",`${u()??""}-language`),s.disabled=e(o),be=ce(me,1,"form-select",null,be,{"is-invalid":e(r)}),pe(me,"name",u()),me.disabled=(e(o),Z(i()),a(()=>e(o)||!i().language))}),ia(s,()=>i().language,ge=>i(i().language=ge,!0)),ia(me,()=>i().page_number,ge=>i(i().page_number=ge,!0)),m(g,R)};K(w,g=>{Z(i()),a(()=>!i().blank)&&g(M)})}var V=n(w,2),q=c(V),te=c(q,!0);l(q);var G=n(q,2);let J;var Y=c(G);oa(Y,{size:"xs"}),l(G);var N=n(G,2),D=n(c(N),2);{var A=g=>{var R=bt();m(g,R)};K(D,g=>{e(t)&&g(A)})}l(N),l(V),l(re),Q(()=>{ce(q,1,`fw-lighter fst-italic text-${e($),a(()=>e($).type)??""}`),ae(te,(e($),a(()=>e($).message))),J=ce(G,1,"",null,J,{"d-none":!e(o)})}),xe("click",N,z),m(L,re),Ae()}var ht=P("<div>loading ...</div>"),$t=P('<div class="d-flex flex-row gap-2"><div class="d-flex align-items-start"><div class="cursor-pointer text-danger-emphasis svelte-1lpd9wu"><i class="bi bi-dash-circle"></i></div></div> <!></div>'),xt=P('<div class="d-flex flex-column gap-2"><div></div> <div>No Participants</div></div>'),Pt=P('<div class="d-flex flex-column gap-2"><div class="d-flex justify-content-between"><div> </div> <div><div class="cursor-pointer text-success-emphasis svelte-1lpd9wu"><i class="bi bi-plus-circle"></i></div></div></div> <!></div>');function fa(L,_){De(_,!1);let t=U(_,"sacramentProgramId",8,0),y=U(_,"participants",28,()=>[]),r=U(_,"position",8,"after-rest-hymn"),E=U(_,"label",8,""),i=U(_,"max",8,50),u=k(!1);const v=async()=>{if(y().length>=i())return;f(u,!0);const H={description:sa.description,member_given_name:sa.name,role:sa.role},w=await ja(H);if(!w?.id)return;const M={sacrament_program_id:t(),participant_id:w.id,position:r(),sort_index:y().length};await La(M),y(await ua(t(),r())),await Je(),f(u,!1)},h=async H=>{f(u,!0);const w=y()[H];w?.id&&(await Ma(t(),w.id),await Wa(w.id),y(await ua(t(),r())),await Je(),f(u,!1))},o=H=>{h(H)};Re();var S=Pt(),$=c(S),T=c($),F=c(T,!0);l(T);var C=n(T,2),x=c(C);l(C),l($);var z=n($,2);{var re=H=>{var w=ht();m(H,w)},O=H=>{var w=xt(),M=c(w);let V;Ee(M,5,y,je,(G,J,Y)=>{var N=$t(),D=c(N),A=c(D);l(D);var g=n(D,2);he(g,{label:"Participant",get presets(){return Z(_a),a(()=>_a.speaker)},editableRole:!0,get participant(){return y()[Y]},set participant(R){y()[Y]=R,Qe(()=>y())},$$legacy:!0}),l(N),xe("click",A,()=>o(Y)),m(G,N)}),l(M);var q=n(M,2);let te;l(w),Q(()=>{V=ce(M,1,"flex-column gap-3",null,V,{"d-none":y().length===0,"d-flex":y().length>0}),te=ce(q,1,"bg-body-tertiary p-3",null,te,{"d-none":y().length>0,"d-block":y().length===0})}),m(H,w)};K(z,H=>{e(u)?H(re):H(O,!1)})}l(S),Q(()=>ae(F,E())),xe("click",x,v),m(L,S),Ae()}var St=P('<span class="position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle"><span class="visually-hidden">Item not saved</span></span>'),kt=P('<div class="d-flex flex-column gap-2"><div><label class="form-label"> </label> <select class="form-select"><option>Regular Program</option><option>Fast Sunday</option><option>Primary Program</option><option>Ward Conference</option></select></div> <div class="d-flex justify-content-end align-items-center gap-2 flex-row"><small> </small> <span><!></span> <button class="btn btn-primary position-relative"><span>Save</span> <!></button></div></div>');function wt(L,_){De(_,!1);const t=k();let y=U(_,"sacramentProgramId",8,0),r=U(_,"programType",12,"regular"),E=U(_,"label",8,"Program Type"),i=U(_,"name",8,""),u=k(!1),v=k({message:"",type:"info"}),h=k(r());const o=(D,A=0,g="info")=>{Pe(v,e(v).message=D),Pe(v,e(v).type=g),A&&setTimeout(()=>{Pe(v,e(v).message="")},A)},S=async()=>{if(!e(t)){o("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}try{o("Saving ..."),f(u,!0);const D={program_type:r()};await Ua(y(),D),console.log("Sacrament Program Type updated successfully"),Le("set_sacrament_program_type_success","interaction",`Set Sacrament Program Type Successful ${r()}`,1),setTimeout(()=>{f(u,!1),f(h,r()),o("Saved",3e3,"success")},800)}catch(D){Le("set_sacrament_program_type_failed","interaction",`Set Sacrament Program Type Failed ${r()}`,1),setTimeout(()=>{f(u,!1),console.error("Sacrament Program update failed",D),o("Save failed, please reload browser and try again.",7e3,"danger")},800)}};ee(()=>(e(h),Z(r())),()=>{f(t,e(h)!==r())}),Ve(),Re();var $=kt(),T=c($),F=c(T),C=c(F,!0);l(F);var x=n(F,2);Q(()=>{r(),Qe(()=>{i()})});var z=c(x);z.value=z.__value="regular";var re=n(z);re.value=re.__value="fast-sunday";var O=n(re);O.value=O.__value="primary-program";var H=n(O);H.value=H.__value="ward-conference",l(x),l(T);var w=n(T,2),M=c(w),V=c(M,!0);l(M);var q=n(M,2);let te;var G=c(q);oa(G,{size:"xs"}),l(q);var J=n(q,2),Y=n(c(J),2);{var N=D=>{var A=St();m(D,A)};K(Y,D=>{e(t)&&D(N)})}l(J),l(w),l($),Q(()=>{pe(F,"for",`${i()??""}-program-type`),ae(C,E()),pe(x,"id",`${i()??""}-program-type`),pe(x,"name",`${i()??""}-program-type`),ce(M,1,`fw-lighter fst-italic text-${e(v),a(()=>e(v).type)??""}`),ae(V,(e(v),a(()=>e(v).message))),te=ce(q,1,"",null,te,{"d-none":!e(u)})}),ia(x,r),xe("click",J,S),m(L,$),Ae()}var It=P("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),Tt=P('<div class="d-flex flex-column gap-4"><!></div>');function Ht(L,_){De(_,!1);const t=()=>Ne(u,"$ready",E),y=()=>Ne(h,"$currentSacramentId",E),r=()=>Ne(v,"$data",E),[E,i]=la(),{stores:{ready:u,data:v,currentSacramentId:h},actions:{init:o}}=ya();Xe(o),Ta(Fa),Re();var S=Fe(),$=$e(S);{var T=F=>{var C=Tt(),x=c(C);za(x,{id:"sacrament-form",children:(z,re)=>{var O=It(),H=$e(O);de(H,{id:"testimony-sunday",$$slots:{heading:(s,b)=>{var d=ie("Program Type");m(s,d)},body:(s,b)=>{wt(s,{get sacramentProgramId(){return y()},name:"testimony-sunday",label:"Select the type of Sacrament Program",get programType(){return r().program_type},set programType(d){le(v,a(r).program_type=d,a(r))},$$legacy:!0})}}});var w=n(H,2);de(w,{id:"presiding",$$slots:{heading:(s,b)=>{var d=ie("Presiding");m(s,d)},body:(s,b)=>{he(s,{label:"Presiding",get presets(){return Ie.presiding},get participant(){return r().presiding_participant},set participant(d){le(v,a(r).presiding_participant=d,a(r))},$$legacy:!0})}}});var M=n(w,2);de(M,{id:"conducting",$$slots:{heading:(s,b)=>{var d=ie("Conducting");m(s,d)},body:(s,b)=>{he(s,{label:"Conducting",get presets(){return Ie.conducting},get participant(){return r().conducting_participant},set participant(d){le(v,a(r).conducting_participant=d,a(r))},$$legacy:!0})}}});var V=n(M,2);de(V,{id:"chorister",$$slots:{heading:(s,b)=>{var d=ie("Chorister");m(s,d)},body:(s,b)=>{he(s,{label:"Chorister",get presets(){return Ie.chorister},get participant(){return r().chorister_participant},set participant(d){le(v,a(r).chorister_participant=d,a(r))},$$legacy:!0})}}});var q=n(V,2);de(q,{id:"organist",$$slots:{heading:(s,b)=>{var d=ie("Organist");m(s,d)},body:(s,b)=>{he(s,{label:"Organist",get presets(){return Ie.organist},get participant(){return r().organist_participant},set participant(d){le(v,a(r).organist_participant=d,a(r))},$$legacy:!0})}}});var te=n(q,2);de(te,{id:"opening-hymn",$$slots:{heading:(s,b)=>{var d=ie("Opening Hymn");m(s,d)},body:(s,b)=>{Ge(s,{name:"sacrament-form-opening-hymn",get hymn(){return r().opening_hymn},set hymn(d){le(v,a(r).opening_hymn=d,a(r))},$$legacy:!0})}}});var G=n(te,2);de(G,{id:"invocation",$$slots:{heading:(s,b)=>{var d=ie("Invocation");m(s,d)},body:(s,b)=>{he(s,{label:"Invocation",get presets(){return Ie.prayer},get participant(){return r().invocation_participant},set participant(d){le(v,a(r).invocation_participant=d,a(r))},$$legacy:!0})}}});var J=n(G,2);de(J,{id:"conducting-ward-business",$$slots:{heading:(s,b)=>{var d=ie("Conducting Ward Business");m(s,d)},body:(s,b)=>{he(s,{label:"Conducting Ward Business",get presets(){return Ie.wardBusiness},get participant(){return r().conduct_ward_business_participant},set participant(d){le(v,a(r).conduct_ward_business_participant=d,a(r))},$$legacy:!0})}}});var Y=n(J,2);de(Y,{id:"conducting-stake-business",$$slots:{heading:(s,b)=>{var d=ie("Conducting Stake Business");m(s,d)},body:(s,b)=>{he(s,{label:"Conducting Stake Business",get presets(){return Ie.stakeBusiness},get participant(){return r().conduct_stake_business_participant},set participant(d){le(v,a(r).conduct_stake_business_participant=d,a(r))},$$legacy:!0})}}});var N=n(Y,2);de(N,{id:"sacrament-hymn",$$slots:{heading:(s,b)=>{var d=ie("Sacrament Hymn");m(s,d)},body:(s,b)=>{Ge(s,{name:"sacrament-form-sacrament-hymn",get hymn(){return r().sacrament_hymn},set hymn(d){le(v,a(r).sacrament_hymn=d,a(r))},$$legacy:!0})}}});var D=n(N,2);de(D,{id:"participants-before-rest-hymn",$$slots:{heading:(s,b)=>{var d=ie("Participants before rest hymn");m(s,d)},body:(s,b)=>{fa(s,{label:"Participants before rest hymn",position:"before-rest-hymn",sacramentProgramId:1,get participants(){return r().participants_before_rest_hymn},set participants(d){le(v,a(r).participants_before_rest_hymn=d,a(r))},$$legacy:!0})}}});var A=n(D,2);de(A,{id:"rest-hymn",$$slots:{heading:(s,b)=>{var d=ie("Rest Hymn");m(s,d)},body:(s,b)=>{Ge(s,{name:"sacrament-form-rest-hymn",nullable:!0,get hymn(){return r().rest_hymn},set hymn(d){le(v,a(r).rest_hymn=d,a(r))},$$legacy:!0})}}});var g=n(A,2);de(g,{id:"participants-after-rest-hymn",$$slots:{heading:(s,b)=>{var d=ie("Participants after rest hymn");m(s,d)},body:(s,b)=>{fa(s,{label:"Participants after rest hymn",position:"after-rest-hymn",sacramentProgramId:1,get participants(){return r().participants_after_rest_hymn},set participants(d){le(v,a(r).participants_after_rest_hymn=d,a(r))},$$legacy:!0})}}});var R=n(g,2);de(R,{id:"closing-hymn",$$slots:{heading:(s,b)=>{var d=ie("Closing Hymn");m(s,d)},body:(s,b)=>{Ge(s,{name:"sacrament-form-closing-hymn",get hymn(){return r().closing_hymn},set hymn(d){le(v,a(r).closing_hymn=d,a(r))},$$legacy:!0})}}});var ne=n(R,2);de(ne,{id:"benediction",$$slots:{heading:(s,b)=>{var d=ie("Benediction");m(s,d)},body:(s,b)=>{he(s,{label:"Benediction",get presets(){return Ie.prayer},get participant(){return r().benediction_participant},set participant(d){le(v,a(r).benediction_participant=d,a(r))},$$legacy:!0})}}}),m(z,O)},$$slots:{default:!0}}),l(C),m(F,C)};K($,F=>{t()&&F(T)})}m(L,S),Ae(),i()}var Ct=P('<i slot="label" class="bi bi-pencil-square"></i>'),Nt=P("<div><!></div>"),Dt=P('<div class="text-center border-top pt-3"><h5>Ward Conference</h5></div>'),At=P('<div class="text-center"><h5>Fast Sunday: Bearing of Testimonies</h5></div>'),Rt=P('<div class="text-center"><h5>Primary Program</h5></div>'),Bt=P("<!> <!> <!>",1),Et=P('<div><div class="d-flex justify-content-between"><p class="w-75"> <br/> <small> <a target="_blank"> </a></small></p> <!></div> <!> <div class="d-flex flex-column gap-1 border-top pt-3"><!> <!> <!> <!></div> <div class="d-flex flex-column gap-1 border-top pt-3"><!> <!> <!> <!></div> <div class="d-flex flex-column gap-1 border-top pt-3"><!> <div class="text-center"><h5>Administration of Sacrament</h5></div></div> <div class="d-flex flex-column gap-1 border-top pt-3"><!></div> <div class="d-flex flex-column gap-1 border-top pt-3"><!> <!></div></div>');function jt(L,_){De(_,!1);const t=()=>Ne($,"$sacramentData",r),y=()=>Ne(T,"$currentUserHasPermission",r),[r,E]=la(),i=k(),u=k(),v=k(),h=k(),o=k(),{actions:{init:S},stores:{data:$}}=ya(),{stores:{currentUserHasPermission:T}}=ba();let F=k(!1);const C=new Date,x=Ga(C),z=rt(C),O=Ca(x?C:z,"cccc dd MMM"),H={reference:we.chapel.address.full,link:we.chapel.mapLink},w=we.meetingTimes.sacrament.start,M=we.meetingTimes.sacrament.end;Xe(async()=>{await S(),f(F,y()(Na.EditSacramentPrograms))}),ee(()=>t(),()=>{f(i,t()?.program_type||"regular")}),ee(()=>(t(),Te),()=>{f(u,t()?.opening_hymn?qe(t().opening_hymn?.page_number,t().opening_hymn.language):Te)}),ee(()=>(t(),Te),()=>{f(v,t()?.sacrament_hymn?qe(t().sacrament_hymn?.page_number,t().sacrament_hymn.language):Te)}),ee(()=>(t(),Te),()=>{f(h,t()?.rest_hymn?qe(t()?.rest_hymn?.page_number,t()?.rest_hymn?.language):Te)}),ee(()=>(t(),Te),()=>{f(o,t()?.closing_hymn?qe(t().closing_hymn?.page_number,t().closing_hymn.language):Te)}),Ve(),Re();var V=Fe(),q=$e(V);{var te=G=>{var J=Et(),Y=c(J),N=c(Y),D=c(N),A=n(D,3),g=c(A),R=n(g),ne=c(R,!0);l(R),l(A),l(N);var s=n(N,2);{var b=I=>{var B=Nt(),Ze=c(B);qa(Ze,{drawerTitle:"Sacrament Program",id:"sacrament-form",children:(We,ea)=>{Ht(We,{})},$$slots:{default:!0,label:(We,ea)=>{var ke=Ct();m(We,ke)}}}),l(B),m(I,B)};K(s,I=>{e(F)&&I(b)})}l(Y);var d=n(Y,2);{var He=I=>{var B=Dt();m(I,B)};K(d,I=>{e(i)==="ward-conference"&&I(He)})}var me=n(d,2),be=c(me);{let I=se(()=>(t(),a(()=>t().presiding_participant?.name))),B=se(()=>(t(),a(()=>t().presiding_participant?.description)));fe(be,{assignment:"Presiding",get name(){return e(I)},get details(){return e(B)}})}var ge=n(be,2);{let I=se(()=>(t(),a(()=>t().conducting_participant?.name))),B=se(()=>(t(),a(()=>t().conducting_participant?.description)));fe(ge,{assignment:"Conducting",get name(){return e(I)},get details(){return e(B)}})}var X=n(ge,2);{let I=se(()=>(t(),a(()=>t().chorister_participant?.name))),B=se(()=>(t(),a(()=>t().chorister_participant?.description)));fe(X,{assignment:"Chorister",get name(){return e(I)},get details(){return e(B)}})}var p=n(X,2);{let I=se(()=>(t(),a(()=>t().organist_participant?.name))),B=se(()=>(t(),a(()=>t().organist_participant?.description)));fe(p,{assignment:"Organist",get name(){return e(I)},get details(){return e(B)}})}l(me);var j=n(me,2),W=c(j);Ye(W,{assignment:"Opening Hymn",get title(){return e(u),a(()=>e(u).title)},get page(){return e(u),a(()=>e(u).page)},get language(){return e(u),a(()=>e(u).language)},get link(){return e(u),a(()=>e(u).link)}});var _e=n(W,2);{let I=se(()=>(t(),a(()=>t().invocation_participant?.name))),B=se(()=>(t(),a(()=>t().invocation_participant?.description)));fe(_e,{assignment:"Invocation",get name(){return e(I)},get details(){return e(B)}})}var Se=n(_e,2);{let I=se(()=>(t(),a(()=>t().conduct_ward_business_participant?.name))),B=se(()=>(t(),a(()=>t().conduct_ward_business_participant?.description)));fe(Se,{assignment:"Ward Business",get name(){return e(I)},get details(){return e(B)}})}var Ce=n(Se,2);{let I=se(()=>(t(),a(()=>t().conduct_stake_business_participant?.name))),B=se(()=>(t(),a(()=>t().conduct_stake_business_participant?.description)));fe(Ce,{assignment:"Stake Business",get name(){return e(I)},get details(){return e(B)}})}l(j);var ye=n(j,2),Oe=c(ye);Ye(Oe,{assignment:"Sacrament Hymn",get title(){return e(v),a(()=>e(v).title)},get page(){return e(v),a(()=>e(v).page)},get language(){return e(v),a(()=>e(v).language)},get link(){return e(v),a(()=>e(v).link)}}),Be(2),l(ye);var Me=n(ye,2),ha=c(Me);{var $a=I=>{var B=At();m(I,B)},xa=I=>{var B=Fe(),Ze=$e(B);{var We=ke=>{var ze=Rt();m(ke,ze)},ea=ke=>{var ze=Bt(),va=$e(ze);{var Sa=ue=>{var Ue=Fe(),aa=$e(Ue);Ee(aa,1,()=>(t(),a(()=>t().participants_before_rest_hymn)),je,(ta,ve)=>{fe(ta,{get assignment(){return e(ve),a(()=>e(ve).role)},get name(){return e(ve),a(()=>e(ve).name)},get details(){return e(ve),a(()=>e(ve).description)}})}),m(ue,Ue)};K(va,ue=>{t(),a(()=>t().participants_before_rest_hymn?.length)&&ue(Sa)})}var ma=n(va,2);{var ka=ue=>{Ye(ue,{assignment:"Rest Hymn",get title(){return e(h),a(()=>e(h).title)},get page(){return e(h),a(()=>e(h).page)},get language(){return e(h),a(()=>e(h).language)},get link(){return e(h),a(()=>e(h).link)}})};K(ma,ue=>{e(h),a(()=>e(h)&&e(h).page!==0)&&ue(ka)})}var wa=n(ma,2);{var Ia=ue=>{var Ue=Fe(),aa=$e(Ue);Ee(aa,1,()=>(t(),a(()=>t().participants_after_rest_hymn)),je,(ta,ve)=>{fe(ta,{get assignment(){return e(ve),a(()=>e(ve).role)},get name(){return e(ve),a(()=>e(ve).name)},get details(){return e(ve),a(()=>e(ve).description)}})}),m(ue,Ue)};K(wa,ue=>{t(),a(()=>t().participants_after_rest_hymn?.length)&&ue(Ia)})}m(ke,ze)};K(Ze,ke=>{e(i)==="primary-program"?ke(We):ke(ea,!1)},!0)}m(I,B)};K(ha,I=>{e(i)==="fast-sunday"?I($a):I(xa,!1)})}l(Me);var da=n(Me,2),ca=c(da);Ye(ca,{assignment:"Closing Hymn",get title(){return e(o),a(()=>e(o).title)},get page(){return e(o),a(()=>e(o).page)},get language(){return e(o),a(()=>e(o).language)},get link(){return e(o),a(()=>e(o).link)}});var Pa=n(ca,2);{let I=se(()=>(t(),a(()=>t().benediction_participant?.name))),B=se(()=>(t(),a(()=>t().benediction_participant?.description)));fe(Pa,{assignment:"Benediction",get name(){return e(I)},get details(){return e(B)}})}l(da),l(J),Q(()=>{ae(D,`${Z(we),a(()=>we.name)??""} | ${Z(we),a(()=>we.stake)??""}`),ae(g,`${O??""},
					${w??""} to ${M??""}, `),pe(R,"href",a(()=>H?.link)),ae(ne,a(()=>H?.reference))}),m(G,J)};K(q,G=>{t()&&G(te)})}m(L,V),Ae(),E()}var Lt=P('<button class="nav-link" id="nav-cheat-sheet-tab" data-bs-toggle="tab" data-bs-target="#nav-cheat-sheet" type="button" role="tab" aria-controls="nav-cheat-sheet" aria-selected="false">Cheat Sheet</button>'),Mt=P('<div class="tab-pane fade" id="nav-cheat-sheet" role="tabpanel" aria-labelledby="nav-cheat-sheet-tab" tabindex="0"><div class="d-flex gap-4 flex-column"><!></div></div>'),Wt=P('<nav class="d-print-none"><div class="nav nav-tabs" id="nav-tab" role="tablist"><button class="nav-link active" id="nav-sacrament-program-tab" data-bs-toggle="tab" data-bs-target="#nav-sacrament-program" type="button" role="tab" aria-controls="nav-sacrament-program" aria-selected="true">Program</button> <!> <button class="nav-link" id="nav-announcements-tab" data-bs-toggle="tab" data-bs-target="#nav-announcements" type="button" role="tab" aria-controls="nav-announcements" aria-selected="false">Announcements & Events</button></div></nav> <div class="tab-content" id="nav-tabContent"><div class="tab-pane fade show active" id="nav-sacrament-program" role="tabpanel" aria-labelledby="nav-sacrament-program-tab" tabindex="0"><div class="d-flex gap-4 flex-column"><!> <!> <!> <!> <div class="d-flex flex-column flex-md-row gap-4 olay-info-block svelte-16jl7eu"><!> <!></div></div></div> <!> <div class="tab-pane fade" id="nav-announcements" role="tabpanel" aria-labelledby="nav-announcements-tab" tabindex="0"><div class="d-flex flex-column gap-4"><!> <!></div></div></div>',1);function cn(L,_){De(_,!1);const t=()=>Ne(i,"$currentUserIsAdmin",r),y=()=>Ne(u,"$currentUserIsRoot",r),[r,E]=la(),{stores:{currentUserIsAdmin:i,currentUserIsRoot:u}}=ba();Re(),Za(L,{pageTitle:"Sacrament",children:(v,h)=>{var o=Wt(),S=$e(o),$=c(S),T=n(c($),2);{var F=A=>{var g=Lt();m(A,g)};K(T,A=>{(t()||y())&&A(F)})}Be(2),l($),l(S);var C=n(S,2),x=c(C),z=c(x),re=c(z);jt(re,{});var O=n(re,2);Ka(O,{});var H=n(O,2);Ja(H,{});var w=n(H,2);Qa(w,{});var M=n(w,2),V=c(M);Va(V,{});var q=n(V,2);Xa(q,{}),l(M),l(z),l(x);var te=n(x,2);{var G=A=>{var g=Mt(),R=c(g),ne=c(R);Oa(ne,{}),l(R),l(g),m(A,g)};K(te,A=>{(t()||y())&&A(G)})}var J=n(te,2),Y=c(J),N=c(Y);et(N,{});var D=n(N,2);at(D,{}),l(Y),l(J),l(C),m(v,o)},$$slots:{default:!0}}),Ae(),E()}export{cn as component,dn as universal};
