import{s as xe,d as k,i as K,z as q,t as Ce,n as fe,r as pe,y as H,q as n,S as Me,A as Ne,a as l,c as d,k as I,g as L,l as v,e as f,m as g,v as De,w as He,x as Se}from"../chunks/Is0eQybD.js";import{S as Le,i as Te,t as te,a as le,g as Ve,e as qe,d as Ee,m as Pe,c as Ie,b as Ae}from"../chunks/DtCfv1Xo.js";import{g as Be}from"../chunks/B7muYh3r.js";import{g as Ue}from"../chunks/Oc_eB7Hn.js";import{L as Oe}from"../chunks/DyUY6ujj.js";function Re(o){let t,e,a='<img src="/assets/logo.png" alt="logo" class="logo svelte-1n4t3wo"/> <h1 class="mb-0 h4">Lehi Tolutaha</h1>',r,u,m="Create Account",p,s,i="Sign up to create an account. You'll need to verify your email before logging in.",c,y,h,S,A,Q="Email address",Y,w,G,E,M,V="Display Name (Optional)",se,T,re,O,me="This will be shown instead of your email",ae,N,B,he="Password",ne,X,R,_e="Minimum 8 characters",ie,z,U,be="Confirm Password",oe,x,ue,j,ve='<a href="/auth/login" class="btn-link btn">Back to login</a> <button type="submit" class="btn btn-primary">Create Account</button>',ce,F,ge=`<small class="text-muted">Already have an account?
				<a href="/auth/login" class="link-primary">Sign in</a></small>`,de,ye,C=o[6]&&ke(o);function we(b,_){return b[5]?Fe:je}let Z=we(o),P=Z(o);return{c(){t=f("div"),e=f("a"),e.innerHTML=a,r=g(),u=f("h2"),u.textContent=m,p=g(),s=f("p"),s.textContent=i,c=g(),C&&C.c(),y=g(),h=f("form"),S=f("div"),A=f("label"),A.textContent=Q,Y=g(),w=f("input"),G=g(),E=f("div"),M=f("label"),M.textContent=V,se=g(),T=f("input"),re=g(),O=f("small"),O.textContent=me,ae=g(),N=f("div"),B=f("label"),B.textContent=he,ne=g(),P.c(),X=g(),R=f("small"),R.textContent=_e,ie=g(),z=f("div"),U=f("label"),U.textContent=be,oe=g(),x=f("input"),ue=g(),j=f("div"),j.innerHTML=ve,ce=g(),F=f("div"),F.innerHTML=ge,this.h()},l(b){t=d(b,"DIV",{class:!0});var _=I(t);e=d(_,"A",{href:!0,class:!0,"data-svelte-h":!0}),L(e)!=="svelte-1inzn7"&&(e.innerHTML=a),r=v(_),u=d(_,"H2",{class:!0,"data-svelte-h":!0}),L(u)!=="svelte-1bkrvel"&&(u.textContent=m),p=v(_),s=d(_,"P",{class:!0,"data-svelte-h":!0}),L(s)!=="svelte-llo57f"&&(s.textContent=i),c=v(_),C&&C.l(_),y=v(_),h=d(_,"FORM",{class:!0});var D=I(h);S=d(D,"DIV",{});var $=I(S);A=d($,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(A)!=="svelte-4w1dqu"&&(A.textContent=Q),Y=v($),w=d($,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0,"aria-describedby":!0}),$.forEach(k),G=v(D),E=d(D,"DIV",{});var J=I(E);M=d(J,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(M)!=="svelte-1npybh"&&(M.textContent=V),se=v(J),T=d(J,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0,"aria-describedby":!0}),re=v(J),O=d(J,"SMALL",{class:!0,"data-svelte-h":!0}),L(O)!=="svelte-xtrwy0"&&(O.textContent=me),J.forEach(k),ae=v(D),N=d(D,"DIV",{});var W=I(N);B=d(W,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(B)!=="svelte-tyrfrg"&&(B.textContent=he),ne=v(W),P.l(W),X=v(W),R=d(W,"SMALL",{class:!0,"data-svelte-h":!0}),L(R)!=="svelte-txew5q"&&(R.textContent=_e),W.forEach(k),ie=v(D),z=d(D,"DIV",{});var ee=I(z);U=d(ee,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(U)!=="svelte-1f0nq9o"&&(U.textContent=be),oe=v(ee),x=d(ee,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0,"aria-describedby":!0}),ee.forEach(k),ue=v(D),j=d(D,"DIV",{class:!0,"data-svelte-h":!0}),L(j)!=="svelte-yxo7lv"&&(j.innerHTML=ve),D.forEach(k),ce=v(_),F=d(_,"DIV",{class:!0,"data-svelte-h":!0}),L(F)!=="svelte-1y70ov0"&&(F.innerHTML=ge),_.forEach(k),this.h()},h(){l(e,"href","/home"),l(e,"class","header-content d-flex align-items-center gap-2 text-decoration-none svelte-1n4t3wo"),l(u,"class","h5"),l(s,"class","text-muted small"),l(A,"for","email"),l(A,"class","form-label"),l(w,"type","email"),l(w,"class","form-control"),l(w,"placeholder","your.email@example.com"),l(w,"id","email"),l(w,"aria-describedby","email"),w.required=!0,l(M,"for","displayName"),l(M,"class","form-label"),l(T,"type","text"),l(T,"class","form-control"),l(T,"placeholder","John Smith"),l(T,"id","displayName"),l(T,"aria-describedby","displayName"),l(O,"class","text-muted"),l(B,"for","password"),l(B,"class","form-label"),l(R,"class","text-muted"),l(U,"for","confirmPassword"),l(U,"class","form-label"),l(x,"type","password"),l(x,"class","form-control"),l(x,"placeholder","Re-enter password"),l(x,"id","confirmPassword"),l(x,"aria-describedby","confirmPassword"),x.required=!0,l(j,"class","d-flex justify-content-between align-items-center"),l(h,"class","d-flex gap-3 flex-column"),l(F,"class","text-center"),l(t,"class","container d-flex flex-column gap-3 mt-5 mb-5 svelte-1n4t3wo")},m(b,_){K(b,t,_),n(t,e),n(t,r),n(t,u),n(t,p),n(t,s),n(t,c),C&&C.m(t,null),n(t,y),n(t,h),n(h,S),n(S,A),n(S,Y),n(S,w),H(w,o[1]),n(h,G),n(h,E),n(E,M),n(E,se),n(E,T),H(T,o[2]),n(E,re),n(E,O),n(h,ae),n(h,N),n(N,B),n(N,ne),P.m(N,null),n(N,X),n(N,R),n(h,ie),n(h,z),n(z,U),n(z,oe),n(z,x),H(x,o[4]),n(h,ue),n(h,j),n(t,ce),n(t,F),de||(ye=[q(w,"input",o[12]),Me(o[11].call(null,w)),q(T,"input",o[13]),q(x,"input",o[16]),q(h,"submit",Ne(o[8]))],de=!0)},p(b,_){b[6]?C?C.p(b,_):(C=ke(b),C.c(),C.m(t,y)):C&&(C.d(1),C=null),_&2&&w.value!==b[1]&&H(w,b[1]),_&4&&T.value!==b[2]&&H(T,b[2]),Z===(Z=we(b))&&P?P.p(b,_):(P.d(1),P=Z(b),P&&(P.c(),P.m(N,X))),_&16&&x.value!==b[4]&&H(x,b[4])},i:fe,o:fe,d(b){b&&k(t),C&&C.d(),P.d(),de=!1,pe(ye)}}}function ze(o){let t,e;return t=new Oe({props:{message:o[6]}}),{c(){Ae(t.$$.fragment)},l(a){Ie(t.$$.fragment,a)},m(a,r){Pe(t,a,r),e=!0},p(a,r){const u={};r&64&&(u.message=a[6]),t.$set(u)},i(a){e||(le(t.$$.fragment,a),e=!0)},o(a){te(t.$$.fragment,a),e=!1},d(a){Ee(t,a)}}}function ke(o){let t,e,a,r,u,m,p;return{c(){t=f("div"),e=f("i"),r=g(),u=f("div"),m=Se(o[6]),this.h()},l(s){t=d(s,"DIV",{class:!0,role:!0});var i=I(t);e=d(i,"I",{class:!0}),I(e).forEach(k),r=v(i),u=d(i,"DIV",{});var c=I(u);m=He(c,o[6]),c.forEach(k),i.forEach(k),this.h()},h(){l(e,"class",a="bi "+(o[7]==="success"?"bi-check-circle-fill":"bi-exclamation-triangle-fill")),l(t,"class",p="alert "+(o[7]==="success"?"alert-success":"alert-danger")+" d-flex align-items-center gap-2"),l(t,"role","alert")},m(s,i){K(s,t,i),n(t,e),n(t,r),n(t,u),n(u,m)},p(s,i){i&128&&a!==(a="bi "+(s[7]==="success"?"bi-check-circle-fill":"bi-exclamation-triangle-fill"))&&l(e,"class",a),i&64&&De(m,s[6]),i&128&&p!==(p="alert "+(s[7]==="success"?"alert-success":"alert-danger")+" d-flex align-items-center gap-2")&&l(t,"class",p)},d(s){s&&k(t)}}}function je(o){let t,e,a,r,u='<i class="bi bi-eye"></i>',m,p;return{c(){t=f("div"),e=f("input"),a=g(),r=f("button"),r.innerHTML=u,this.h()},l(s){t=d(s,"DIV",{class:!0});var i=I(t);e=d(i,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0,"aria-describedby":!0}),a=v(i),r=d(i,"BUTTON",{type:!0,class:!0,"aria-label":!0,"data-svelte-h":!0}),L(r)!=="svelte-1xq8rxc"&&(r.innerHTML=u),i.forEach(k),this.h()},h(){l(e,"type","password"),l(e,"class","form-control"),l(e,"placeholder","At least 8 characters"),l(e,"id","password"),l(e,"aria-describedby","password"),e.required=!0,l(r,"type","button"),l(r,"class","input-group-text"),l(r,"aria-label","Show password"),l(t,"class","input-group")},m(s,i){K(s,t,i),n(t,e),H(e,o[3]),n(t,a),n(t,r),m||(p=[q(e,"input",o[15]),q(r,"click",o[9])],m=!0)},p(s,i){i&8&&e.value!==s[3]&&H(e,s[3])},d(s){s&&k(t),m=!1,pe(p)}}}function Fe(o){let t,e,a,r,u='<i class="bi bi-eye-slash"></i>',m,p;return{c(){t=f("div"),e=f("input"),a=g(),r=f("button"),r.innerHTML=u,this.h()},l(s){t=d(s,"DIV",{class:!0});var i=I(t);e=d(i,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0,"aria-describedby":!0}),a=v(i),r=d(i,"BUTTON",{type:!0,class:!0,"aria-label":!0,"data-svelte-h":!0}),L(r)!=="svelte-1dhefwr"&&(r.innerHTML=u),i.forEach(k),this.h()},h(){l(e,"type","text"),l(e,"class","form-control"),l(e,"placeholder","At least 8 characters"),l(e,"id","password"),l(e,"aria-describedby","password"),e.required=!0,l(r,"type","button"),l(r,"class","input-group-text"),l(r,"aria-label","Hide password"),l(t,"class","input-group")},m(s,i){K(s,t,i),n(t,e),H(e,o[3]),n(t,a),n(t,r),m||(p=[q(e,"input",o[14]),q(r,"click",o[9])],m=!0)},p(s,i){i&8&&e.value!==s[3]&&H(e,s[3])},d(s){s&&k(t),m=!1,pe(p)}}}function Je(o){let t,e,a,r,u,m;const p=[ze,Re],s=[];function i(c,y){return c[0]?0:1}return t=i(o),e=s[t]=p[t](o),{c(){e.c(),a=Ce()},l(c){e.l(c),a=Ce()},m(c,y){s[t].m(c,y),K(c,a,y),r=!0,u||(m=q(window,"keydown",o[10]),u=!0)},p(c,[y]){let h=t;t=i(c),t===h?s[t].p(c,y):(Ve(),te(s[h],1,1,()=>{s[h]=null}),qe(),e=s[t],e?e.p(c,y):(e=s[t]=p[t](c),e.c()),le(e,1),e.m(a.parentNode,a))},i(c){r||(le(e),r=!0)},o(c){te(e),r=!1},d(c){c&&k(a),s[t].d(c),u=!1,m()}}}function We(o,t,e){const{actions:{registerWithEmail:a}}=Be();let r=!1,u="",m="",p="",s="",i=!1,c="",y="error";const h=async()=>{if(e(0,r=!0),e(6,c=""),e(7,y="error"),!u||!p||!s){e(6,c="Email, password, and password confirmation are required"),e(0,r=!1);return}if(p!==s){e(6,c="Passwords do not match"),e(0,r=!1);return}if(p.length<8){e(6,c="Password must be at least 8 characters"),e(0,r=!1);return}const V=await a(u,p,m);V.success?(e(7,y="success"),e(6,c="Account created! Please check your email to verify your account."),setTimeout(()=>{Ue("/auth/login?verified=pending")},3e3)):(e(7,y="error"),e(6,c=V.error||"Registration failed"),e(0,r=!1))},S=()=>{e(5,i=!i)},A=V=>{V.key==="Enter"&&h()},Q=V=>{V.focus()};function Y(){u=this.value,e(1,u)}function w(){m=this.value,e(2,m)}function G(){p=this.value,e(3,p)}function E(){p=this.value,e(3,p)}function M(){s=this.value,e(4,s)}return[r,u,m,p,s,i,c,y,h,S,A,Q,Y,w,G,E,M]}class Ye extends Le{constructor(t){super(),Te(this,t,We,Je,xe,{})}}function Ge(o){let t,e;return t=new Ye({}),{c(){Ae(t.$$.fragment)},l(a){Ie(t.$$.fragment,a)},m(a,r){Pe(t,a,r),e=!0},p:fe,i(a){e||(le(t.$$.fragment,a),e=!0)},o(a){te(t.$$.fragment,a),e=!1},d(a){Ee(t,a)}}}class et extends Le{constructor(t){super(),Te(this,t,null,Ge,xe,{})}}export{et as component};
