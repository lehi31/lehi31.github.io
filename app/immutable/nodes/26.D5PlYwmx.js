import"../chunks/NZTpNUN0.js";import"../chunks/69_IOA4Y.js";import{c,r as l,s as r,t as Q,p as De,E as w,z as Je,D as f,aj as Z,g as e,w as X,ak as Ve,u as a,F as Ee,a as Ae,ao as Pe,f as $e,i as Qe,R as re}from"../chunks/JKZwkikK.js";import{f as S,a as m,c as Fe,t as ie}from"../chunks/JDsN5plM.js";import{p as U,s as ee,i as K,e as xe,b as Ne,a as la,d as le}from"../chunks/CbqHek51.js";import{i as Re}from"../chunks/b8c_lO2i.js";import{o as Xe,a as Ta}from"../chunks/DjNGvcU6.js";import{e as Be,i as je}from"../chunks/B2BlSr7K.js";import{s as pe,r as Ke,b as ia}from"../chunks/DT-M5L8L.js";import{t as Ha,b as ce,g as ba,f as Ca,P as Na,W as we}from"../chunks/D-ksVZd_.js";import{b as na,a as Da}from"../chunks/BL6gm64P.js";import{b as ra}from"../chunks/Bk8fdyPk.js";import{P as ga,u as Aa,H as oe,a as Ra,b as Ea,c as pa,d as Ba,e as ja,f as La,g as ua,h as _a,B as sa,i as Ma,j as Wa,k as Ua,l as ya,m as Fa,S as Ie,n as Te,o as qe,C as Oa}from"../chunks/DKXXCVrf.js";import{S as oa}from"../chunks/C_6jAjI6.js";import{t as Le}from"../chunks/r7-tBYgy.js";import{A as za,a as de}from"../chunks/CFWh8bwb.js";import{D as qa}from"../chunks/C0ma-3gc.js";import{f as Ya}from"../chunks/Cu3aDY4M.js";import{i as Ga,W as Ka,a as Ja,b as Qa,S as Va}from"../chunks/C-jcWZQ8.js";import{P as Xa}from"../chunks/YpF6n0d6.js";import{A as Za,E as et}from"../chunks/C0Ur8VHA.js";function at(j){return Ha(j).getDay()}function tt(j,_){let t=_-at(j);return t<=0&&(t+=7),Ya(j,t)}function nt(j){return tt(j,0)}const rt=!0,on=Object.freeze(Object.defineProperty({__proto__:null,prerender:rt},Symbol.toStringTag,{value:"Module"}));var st=S('<div class="d-flex justify-content-between"><div> </div> <div class="text-end"> <br/> <div class="d-flex align-items-center justify-content-end flex-row gap-2"><small class="small fw-lighter"> </small> <a class="btn btn-primary btn-sm d-print-none" target="_blank" tabindex="-1" role="button" style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: .70rem;">Lyrics</a></div></div></div>');function Ye(j,_){let t=U(_,"assignment",8,""),y=U(_,"title",8,""),n=U(_,"language",8,""),R=U(_,"page",8,0),i=U(_,"link",8,"");var p=st(),v=c(p),h=c(v,!0);l(v);var o=r(v,2),k=c(o,!0),$=r(k,3),H=c($),F=c(H);l(H);var N=r(H,2);l($),l(o),l(p),Q(()=>{ee(h,t()),ee(k,y()),ee(F,`${n()??""} Hymn No. ${R()??""}`),pe(N,"href",i())}),m(j,p)}var it=S('<div class="d-flex justify-content-between"><div> </div> <div class="text-end"> <br/> <em class="small fw-lighter"> </em></div></div>');function fe(j,_){let t=U(_,"assignment",8,""),y=U(_,"name",8,""),n=U(_,"details",8,"");var R=it(),i=c(R),p=c(i,!0);l(i);var v=r(i,2),h=c(v,!0),o=r(h,3),k=c(o,!0);l(o),l(v),l(R),Q(()=>{ee(p,t()),ee(h,y()),ee(k,n())}),m(j,R)}var lt=S("<div><strong> </strong></div>"),ot=S("<span> </span>"),dt=S("<div><small><em>Presets</em></small> <div></div></div>"),ct=S('<div class="d-flex flex-column gap-2"><div>Role</div> <input type="text" placeholder="Participant role" required/> <small class="fw-lighter fst-italic">Participant sacrament role. i.e. Speaker, Musical number, Pianist</small></div>'),vt=S('<span class="position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle"><span class="visually-hidden">Item not saved</span></span>'),mt=S('<div class="wrapper d-flex flex-column gap-4"><!> <!> <!> <div class="d-flex flex-column gap-2"><div>Name</div> <input type="text" placeholder="Participant name" required/> <small class="fw-lighter fst-italic">Participant name. i.e. Brother John Smith</small></div> <div class="d-flex flex-column gap-2"><div>Description</div> <input type="text" placeholder="Participant description" required/> <small class="fw-lighter fst-italic">Participant Calling or Title. i.e. Ward Member, Sunday School Teacher</small></div> <div class="d-flex justify-content-end align-items-center gap-2 flex-row"><small> </small> <span><!></span> <button class="btn btn-primary position-relative"><span>Save</span> <!></button></div></div>');function he(j,_){De(_,!1);const t=w(),y=w(),n=w(),R=w(),i=w();let p=U(_,"label",8,""),v=U(_,"editableRole",8,!1),h=U(_,"presets",24,()=>[]),o=U(_,"participant",28,()=>({name:"",description:"",role:ga.Unknown})),k=w(!1),$=o().id,H=w(),F=w(),N=w(),x=w({message:"",type:"info"}),q=w({name:"",description:"",role:ga.Unknown});const te=g=>{o({...g,id:$})},O=(g,B=0,W="info")=>{Pe(x,e(x).message=g),Pe(x,e(x).type=W),B&&setTimeout(()=>{Pe(x,e(x).message="")},B)},C=async()=>{if(!e(t)){O("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}if(!$){O("ID is not defined",0,"danger");return}if(!e(i)){let g=[];e(n)&&g.push("Name is invalid"),e(R)&&g.push("Description is invalid"),O(g.join(". ")+".  Please address accordingly.",0,"danger")}try{O("Saving ..."),f(k,!0);const g={description:o().description,member_given_name:o().name,role:v()?o().role:p()};await Aa($,g),console.log("Participant updated successfully"),Le("set_sacrament_participant_success","interaction",`Set Sacrament Participant Successful ${v()?o().role:p()}`,1),setTimeout(()=>{f(k,!1),f(q,{...o(),id:$}),O("Saved",3e3,"success")},800)}catch(g){Le("set_sacrament_participant_failed","interaction",`Set Sacrament Participant Failed ${v()?o().role:p()}`,1),setTimeout(()=>{f(k,!1),console.error("Participant update failed",g),O("Save failed, please reload browser and try again.",7e3,"danger")},800)}};Xe(async()=>{await Je(),f(q,{...o(),id:$})}),Z(()=>(e(q),X(o())),()=>{f(t,e(q).role!==o().role||e(q).name!==o().name||e(q).description!==o().description)}),Z(()=>X(o()),()=>{f(y,o().role==="")}),Z(()=>X(o()),()=>{f(n,o().name==="")}),Z(()=>X(o()),()=>{f(R,o().description==="")}),Z(()=>X(o()),()=>{f(i,!!($&&o()&&o().name.length&&o().description.length))}),Ve(),Re();var I=mt(),L=c(I);{var ae=g=>{var B=lt(),W=c(B),_e=c(W,!0);l(W),l(B),Q(()=>ee(_e,p())),m(g,B)};K(L,g=>{p()&&g(ae)})}var z=r(L,2);{var ne=g=>{var B=dt();let W;var _e=r(c(B),2);Be(_e,5,h,je,(Se,Ce)=>{var ye=ot();let Oe;var Me=c(ye,!0);l(ye),Q(()=>{Oe=ce(ye,1,"badge me-2 cursor-pointer svelte-mo0ot3",null,Oe,{"text-bg-secondary":e(Ce).description!==o().description,"text-bg-warning":e(Ce).description===o().description}),ee(Me,(e(Ce),a(()=>e(Ce).description)))}),xe("click",ye,()=>te(e(Ce))),m(Se,ye)}),l(_e),l(B),Q(()=>W=ce(B,1,"",null,W,{loading:e(k)})),m(g,B)};K(z,g=>{X(h()),a(()=>h()?.length)&&g(ne)})}var Y=r(z,2);{var J=g=>{var B=ct(),W=r(c(B),2);Ke(W);let _e;ra(W,Se=>f(H,Se),()=>e(H)),Ee(2),l(B),Q(()=>{pe(W,"name",`${p()??""}-role`),_e=ce(W,1,"form-control",null,_e,{"is-invalid":e(y)}),W.disabled=e(k)}),xe("focus",W,()=>e(H).select()),na(W,()=>o().role,Se=>o(o().role=Se,!0)),m(g,B)};K(Y,g=>{v()&&g(J)})}var G=r(Y,2),D=r(c(G),2);Ke(D);let P;ra(D,g=>f(F,g),()=>e(F)),Ee(2),l(G);var M=r(G,2),u=r(c(M),2);Ke(u);let E;ra(u,g=>f(N,g),()=>e(N)),Ee(2),l(M);var se=r(M,2),s=c(se),b=c(s,!0);l(s);var d=r(s,2);let He;var me=c(d);oa(me,{size:"xs"}),l(d);var be=r(d,2),ge=r(c(be),2);{var V=g=>{var B=vt();m(g,B)};K(ge,g=>{e(t)&&g(V)})}l(be),l(se),l(I),Q(()=>{pe(D,"name",`${p()??""}-name`),P=ce(D,1,"form-control",null,P,{"is-invalid":e(n)}),D.disabled=e(k),pe(u,"name",`${p()??""}-description`),E=ce(u,1,"form-control",null,E,{"is-invalid":e(R)}),u.disabled=e(k),ce(s,1,`fw-lighter fst-italic text-${e(x),a(()=>e(x).type)??""}`,"svelte-mo0ot3"),ee(b,(e(x),a(()=>e(x).message))),He=ce(d,1,"",null,He,{"d-none":!e(k)})}),xe("focus",D,()=>e(F).select()),na(D,()=>o().name,g=>o(o().name=g,!0)),xe("focus",u,()=>e(N).select()),na(u,()=>o().description,g=>o(o().description=g,!0)),xe("click",be,C),m(j,I),Ae()}var gt=S('<div><div class="form-check"><input class="form-check-input" type="checkbox"/> <label class="form-check-label">None</label></div> <small class="fw-lighter fst-italic">Check if this hymn is not needed</small></div>'),pt=S("<option> </option>"),ut=S("<option> </option>"),_t=S('<div class="d-flex flex-column gap-2"><div>Language</div> <select aria-label="Hymn Language"><option selected></option><!></select></div> <div class="d-flex flex-column gap-2"><div>Hymn</div> <select aria-label="Hymn List"></select></div>',1),ft=S('<span class="position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle"><span class="visually-hidden">Item not saved</span></span>'),bt=S('<div class="d-flex flex-column gap-4"><!> <!> <div class="d-flex justify-content-end align-items-center gap-2 flex-row"><small> </small> <span><!></span> <button type="button" class="btn btn btn-primary position-relative"><span>Save</span> <!></button></div></div>');function Ge(j,_){De(_,!1);const t=w(),y=w(),n=w(),R=w();let i=U(_,"hymn",28,()=>({page_number:0,language:oe.English})),p=U(_,"name",8,""),v=U(_,"nullable",8,!1),h=i().id,o=w(!1),k=w(!1),$=w({message:"",type:"info"}),H=w({page_number:0,language:oe.English});const F=[{label:"English",value:oe.English},{label:"Tongan",value:oe.Tongan},{label:"Samoan",value:oe.Samoan}];let N=w([]);const x=(u,E=0,se="info")=>{Pe($,e($).message=u),Pe($,e($).type=se),E&&setTimeout(()=>{Pe($,e($).message="")},E)},q=async()=>{if(!e(t)){x("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}if(!h){x("ID is not defined",0,"danger");return}if(!e(k)){let u=[];e(n)&&u.push("Page number is invalid"),e(y)&&u.push("Language is invalid"),x(u.join(". ")+".  Please address accordingly.",0,"danger");return}try{x("Saving ..."),f(o,!0);const u={page_number:i().blank?0:i().page_number,language:i().blank?oe.None:i().language,blank:i().blank};await Ba(h,u),console.log("Hymn updated successfully"),Le("set_sacrament_hymn_success","interaction",`Set Sacrament Hymn Successful: Page:${i().blank?0:i().page_number} | Lang:${i().blank?oe.None:i().language}`,1),setTimeout(()=>{f(o,!1),f(H,{...i(),id:h}),x("Saved",3e3,"success")},800)}catch(u){Le("set_sacrament_hymn_failed","interaction",`Set Sacrament Hymn Failed: Page:${i().blank?0:i().page_number} | Lang:${i().blank?oe.None:i().language}`,1),setTimeout(()=>{f(o,!1),console.error("Hymn update failed",u),x("Save failed, please reload browser and try again.",7e3,"danger")},800)}};Xe(async()=>{await Je(),f(H,{...i(),id:h})}),Z(()=>(e(H),X(i())),()=>{f(t,e(H).page_number!==i().page_number||e(H).language!==i().language||e(H).blank!==i().blank)}),Z(()=>(X(i()),oe),()=>{f(y,i().language===oe.None)}),Z(()=>X(i()),()=>{f(n,i().page_number===0)}),Z(()=>(X(i()),e(y),e(n)),()=>{f(k,i().blank||!!(h&&!i().blank&&!e(y)&&!e(n)))}),Z(()=>(X(i()),oe),()=>{i().blank&&(i(i().page_number=0,!0),i(i().language=oe.None,!0))}),Z(()=>(X(i()),pa),()=>{i().language===oe.English?f(N,Ra):i().language===oe.Samoan?f(N,Ea):i().language===oe.Tongan&&f(N,pa)}),Z(()=>e(N),()=>{f(R,e(N).map(u=>({label:`${u.page}. ${u.title}`,value:u.page})))}),Ve(),Re();var te=bt(),O=c(te);{var C=u=>{var E=gt(),se=c(E),s=c(se);Ke(s);var b=r(s,2);l(se),Ee(2),l(E),Q(()=>{pe(s,"name",`${p()??""}-none-check`),pe(b,"for",`${p()??""}-none-check`)}),Da(s,()=>i().blank,d=>i(i().blank=d,!0)),m(u,E)};K(O,u=>{v()&&u(C)})}var I=r(O,2);{var L=u=>{var E=_t(),se=$e(E),s=r(c(se),2);Q(()=>{i(),Qe(()=>{p(),e(o),e(y)})});let b;var d=r(c(s));Be(d,1,()=>F,je,(ge,V)=>{var g=pt(),B=c(g,!0);l(g);var W={};Q(()=>{ee(B,(e(V),a(()=>e(V).label))),W!==(W=(e(V),a(()=>e(V).value)))&&(g.value=(g.__value=(e(V),a(()=>e(V).value)))??"")}),m(ge,g)}),l(s),l(se);var He=r(se,2),me=r(c(He),2);Q(()=>{i(),Qe(()=>{p(),e(o),e(n),e(R)})});let be;Be(me,5,()=>e(R),je,(ge,V)=>{var g=ut(),B=c(g,!0);l(g);var W={};Q(()=>{ee(B,(e(V),a(()=>e(V).label))),W!==(W=(e(V),a(()=>e(V).value)))&&(g.value=(g.__value=(e(V),a(()=>e(V).value)))??"")}),m(ge,g)}),l(me),l(He),Q(()=>{b=ce(s,1,"form-select",null,b,{"is-invalid":e(y)}),pe(s,"name",`${p()??""}-language`),s.disabled=e(o),be=ce(me,1,"form-select",null,be,{"is-invalid":e(n)}),pe(me,"name",p()),me.disabled=(e(o),X(i()),a(()=>e(o)||!i().language))}),ia(s,()=>i().language,ge=>i(i().language=ge,!0)),ia(me,()=>i().page_number,ge=>i(i().page_number=ge,!0)),m(u,E)};K(I,u=>{X(i()),a(()=>!i().blank)&&u(L)})}var ae=r(I,2),z=c(ae),ne=c(z,!0);l(z);var Y=r(z,2);let J;var G=c(Y);oa(G,{size:"xs"}),l(Y);var D=r(Y,2),P=r(c(D),2);{var M=u=>{var E=ft();m(u,E)};K(P,u=>{e(t)&&u(M)})}l(D),l(ae),l(te),Q(()=>{ce(z,1,`fw-lighter fst-italic text-${e($),a(()=>e($).type)??""}`),ee(ne,(e($),a(()=>e($).message))),J=ce(Y,1,"",null,J,{"d-none":!e(o)})}),xe("click",D,q),m(j,te),Ae()}var yt=S("<div>loading ...</div>"),ht=S('<div class="d-flex flex-row gap-2"><div class="d-flex align-items-start"><div class="cursor-pointer text-danger-emphasis svelte-1lpd9wu"><i class="bi bi-dash-circle"></i></div></div> <!></div>'),$t=S('<div class="d-flex flex-column gap-2"><div></div> <div>No Participants</div></div>'),xt=S('<div class="d-flex flex-column gap-2"><div class="d-flex justify-content-between"><div> </div> <div><div class="cursor-pointer text-success-emphasis svelte-1lpd9wu"><i class="bi bi-plus-circle"></i></div></div></div> <!></div>');function fa(j,_){De(_,!1);let t=U(_,"sacramentProgramId",8,0),y=U(_,"participants",28,()=>[]),n=U(_,"position",8,"after-rest-hymn"),R=U(_,"label",8,""),i=U(_,"max",8,50),p=w(!1);const v=async()=>{if(y().length>=i())return;f(p,!0);const C={description:sa.description,member_given_name:sa.name,role:sa.role},I=await ja(C);if(!I?.id)return;const L={sacrament_program_id:t(),participant_id:I.id,position:n(),sort_index:y().length};await La(L),y(await ua(t(),n())),await Je(),f(p,!1)},h=async C=>{f(p,!0);const I=y()[C];I?.id&&(await Ma(t(),I.id),await Wa(I.id),y(await ua(t(),n())),await Je(),f(p,!1))},o=C=>{h(C)};Re();var k=xt(),$=c(k),H=c($),F=c(H,!0);l(H);var N=r(H,2),x=c(N);l(N),l($);var q=r($,2);{var te=C=>{var I=yt();m(C,I)},O=C=>{var I=$t(),L=c(I);let ae;Be(L,5,y,je,(Y,J,G)=>{var D=ht(),P=c(D),M=c(P);l(P);var u=r(P,2);he(u,{label:"Participant",get presets(){return X(_a),a(()=>_a.speaker)},editableRole:!0,get participant(){return y()[G]},set participant(E){y()[G]=E,Qe(()=>y())},$$legacy:!0}),l(D),xe("click",M,()=>o(G)),m(Y,D)}),l(L);var z=r(L,2);let ne;l(I),Q(()=>{ae=ce(L,1,"flex-column gap-3",null,ae,{"d-none":y().length===0,"d-flex":y().length>0}),ne=ce(z,1,"bg-body-tertiary p-3",null,ne,{"d-none":y().length>0,"d-block":y().length===0})}),m(C,I)};K(q,C=>{e(p)?C(te):C(O,!1)})}l(k),Q(()=>ee(F,R())),xe("click",x,v),m(j,k),Ae()}var Pt=S('<span class="position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle"><span class="visually-hidden">Item not saved</span></span>'),St=S('<div class="d-flex flex-column gap-2"><div><label class="form-label"> </label> <select class="form-select"><option>Regular Program</option><option>Fast Sunday</option><option>Primary Program</option><option>Ward Conference</option></select></div> <div class="d-flex justify-content-end align-items-center gap-2 flex-row"><small> </small> <span><!></span> <button class="btn btn-primary position-relative"><span>Save</span> <!></button></div></div>');function kt(j,_){De(_,!1);const t=w();let y=U(_,"sacramentProgramId",8,0),n=U(_,"programType",12,"regular"),R=U(_,"label",8,"Program Type"),i=U(_,"name",8,""),p=w(!1),v=w({message:"",type:"info"}),h=w(n());const o=(P,M=0,u="info")=>{Pe(v,e(v).message=P),Pe(v,e(v).type=u),M&&setTimeout(()=>{Pe(v,e(v).message="")},M)},k=async()=>{if(!e(t)){o("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}try{o("Saving ..."),f(p,!0);const P={program_type:n()};await Ua(y(),P),console.log("Sacrament Program Type updated successfully"),Le("set_sacrament_program_type_success","interaction",`Set Sacrament Program Type Successful ${n()}`,1),setTimeout(()=>{f(p,!1),f(h,n()),o("Saved",3e3,"success")},800)}catch(P){Le("set_sacrament_program_type_failed","interaction",`Set Sacrament Program Type Failed ${n()}`,1),setTimeout(()=>{f(p,!1),console.error("Sacrament Program update failed",P),o("Save failed, please reload browser and try again.",7e3,"danger")},800)}};Z(()=>(e(h),X(n())),()=>{f(t,e(h)!==n())}),Ve(),Re();var $=St(),H=c($),F=c(H),N=c(F,!0);l(F);var x=r(F,2);Q(()=>{n(),Qe(()=>{i()})});var q=c(x);q.value=q.__value="regular";var te=r(q);te.value=te.__value="fast-sunday";var O=r(te);O.value=O.__value="primary-program";var C=r(O);C.value=C.__value="ward-conference",l(x),l(H);var I=r(H,2),L=c(I),ae=c(L,!0);l(L);var z=r(L,2);let ne;var Y=c(z);oa(Y,{size:"xs"}),l(z);var J=r(z,2),G=r(c(J),2);{var D=P=>{var M=Pt();m(P,M)};K(G,P=>{e(t)&&P(D)})}l(J),l(I),l($),Q(()=>{pe(F,"for",`${i()??""}-program-type`),ee(N,R()),pe(x,"id",`${i()??""}-program-type`),pe(x,"name",`${i()??""}-program-type`),ce(L,1,`fw-lighter fst-italic text-${e(v),a(()=>e(v).type)??""}`),ee(ae,(e(v),a(()=>e(v).message))),ne=ce(z,1,"",null,ne,{"d-none":!e(p)})}),ia(x,n),xe("click",J,k),m(j,$),Ae()}var wt=S("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),It=S('<div class="d-flex flex-column gap-4"><!></div>');function Tt(j,_){De(_,!1);const t=()=>Ne(p,"$ready",R),y=()=>Ne(h,"$currentSacramentId",R),n=()=>Ne(v,"$data",R),[R,i]=la(),{stores:{ready:p,data:v,currentSacramentId:h},actions:{init:o}}=ya();Xe(o),Ta(Fa),Re();var k=Fe(),$=$e(k);{var H=F=>{var N=It(),x=c(N);za(x,{id:"sacrament-form",children:(q,te)=>{var O=wt(),C=$e(O);de(C,{id:"testimony-sunday",$$slots:{heading:(s,b)=>{var d=ie("Program Type");m(s,d)},body:(s,b)=>{kt(s,{get sacramentProgramId(){return y()},name:"testimony-sunday",label:"Select the type of Sacrament Program",get programType(){return n().program_type},set programType(d){le(v,a(n).program_type=d,a(n))},$$legacy:!0})}}});var I=r(C,2);de(I,{id:"presiding",$$slots:{heading:(s,b)=>{var d=ie("Presiding");m(s,d)},body:(s,b)=>{he(s,{label:"Presiding",get presets(){return Ie.presiding},get participant(){return n().presiding_participant},set participant(d){le(v,a(n).presiding_participant=d,a(n))},$$legacy:!0})}}});var L=r(I,2);de(L,{id:"conducting",$$slots:{heading:(s,b)=>{var d=ie("Conducting");m(s,d)},body:(s,b)=>{he(s,{label:"Conducting",get presets(){return Ie.conducting},get participant(){return n().conducting_participant},set participant(d){le(v,a(n).conducting_participant=d,a(n))},$$legacy:!0})}}});var ae=r(L,2);de(ae,{id:"chorister",$$slots:{heading:(s,b)=>{var d=ie("Chorister");m(s,d)},body:(s,b)=>{he(s,{label:"Chorister",get presets(){return Ie.chorister},get participant(){return n().chorister_participant},set participant(d){le(v,a(n).chorister_participant=d,a(n))},$$legacy:!0})}}});var z=r(ae,2);de(z,{id:"organist",$$slots:{heading:(s,b)=>{var d=ie("Organist");m(s,d)},body:(s,b)=>{he(s,{label:"Organist",get presets(){return Ie.organist},get participant(){return n().organist_participant},set participant(d){le(v,a(n).organist_participant=d,a(n))},$$legacy:!0})}}});var ne=r(z,2);de(ne,{id:"opening-hymn",$$slots:{heading:(s,b)=>{var d=ie("Opening Hymn");m(s,d)},body:(s,b)=>{Ge(s,{name:"sacrament-form-opening-hymn",get hymn(){return n().opening_hymn},set hymn(d){le(v,a(n).opening_hymn=d,a(n))},$$legacy:!0})}}});var Y=r(ne,2);de(Y,{id:"invocation",$$slots:{heading:(s,b)=>{var d=ie("Invocation");m(s,d)},body:(s,b)=>{he(s,{label:"Invocation",get presets(){return Ie.prayer},get participant(){return n().invocation_participant},set participant(d){le(v,a(n).invocation_participant=d,a(n))},$$legacy:!0})}}});var J=r(Y,2);de(J,{id:"conducting-ward-business",$$slots:{heading:(s,b)=>{var d=ie("Conducting Ward Business");m(s,d)},body:(s,b)=>{he(s,{label:"Conducting Ward Business",get presets(){return Ie.wardBusiness},get participant(){return n().conduct_ward_business_participant},set participant(d){le(v,a(n).conduct_ward_business_participant=d,a(n))},$$legacy:!0})}}});var G=r(J,2);de(G,{id:"conducting-stake-business",$$slots:{heading:(s,b)=>{var d=ie("Conducting Stake Business");m(s,d)},body:(s,b)=>{he(s,{label:"Conducting Stake Business",get presets(){return Ie.stakeBusiness},get participant(){return n().conduct_stake_business_participant},set participant(d){le(v,a(n).conduct_stake_business_participant=d,a(n))},$$legacy:!0})}}});var D=r(G,2);de(D,{id:"sacrament-hymn",$$slots:{heading:(s,b)=>{var d=ie("Sacrament Hymn");m(s,d)},body:(s,b)=>{Ge(s,{name:"sacrament-form-sacrament-hymn",get hymn(){return n().sacrament_hymn},set hymn(d){le(v,a(n).sacrament_hymn=d,a(n))},$$legacy:!0})}}});var P=r(D,2);de(P,{id:"participants-before-rest-hymn",$$slots:{heading:(s,b)=>{var d=ie("Participants before rest hymn");m(s,d)},body:(s,b)=>{fa(s,{label:"Participants before rest hymn",position:"before-rest-hymn",sacramentProgramId:1,get participants(){return n().participants_before_rest_hymn},set participants(d){le(v,a(n).participants_before_rest_hymn=d,a(n))},$$legacy:!0})}}});var M=r(P,2);de(M,{id:"rest-hymn",$$slots:{heading:(s,b)=>{var d=ie("Rest Hymn");m(s,d)},body:(s,b)=>{Ge(s,{name:"sacrament-form-rest-hymn",nullable:!0,get hymn(){return n().rest_hymn},set hymn(d){le(v,a(n).rest_hymn=d,a(n))},$$legacy:!0})}}});var u=r(M,2);de(u,{id:"participants-after-rest-hymn",$$slots:{heading:(s,b)=>{var d=ie("Participants after rest hymn");m(s,d)},body:(s,b)=>{fa(s,{label:"Participants after rest hymn",position:"after-rest-hymn",sacramentProgramId:1,get participants(){return n().participants_after_rest_hymn},set participants(d){le(v,a(n).participants_after_rest_hymn=d,a(n))},$$legacy:!0})}}});var E=r(u,2);de(E,{id:"closing-hymn",$$slots:{heading:(s,b)=>{var d=ie("Closing Hymn");m(s,d)},body:(s,b)=>{Ge(s,{name:"sacrament-form-closing-hymn",get hymn(){return n().closing_hymn},set hymn(d){le(v,a(n).closing_hymn=d,a(n))},$$legacy:!0})}}});var se=r(E,2);de(se,{id:"benediction",$$slots:{heading:(s,b)=>{var d=ie("Benediction");m(s,d)},body:(s,b)=>{he(s,{label:"Benediction",get presets(){return Ie.prayer},get participant(){return n().benediction_participant},set participant(d){le(v,a(n).benediction_participant=d,a(n))},$$legacy:!0})}}}),m(q,O)},$$slots:{default:!0}}),l(N),m(F,N)};K($,F=>{t()&&F(H)})}m(j,k),Ae(),i()}var Ht=S('<i slot="label" class="bi bi-pencil-square"></i>'),Ct=S("<div><!></div>"),Nt=S('<div class="text-center border-top pt-3"><h5>Ward Conference</h5></div>'),Dt=S('<div class="text-center"><h5>Fast Sunday: Bearing of Testimonies</h5></div>'),At=S('<div class="text-center"><h5>Primary Program</h5></div>'),Rt=S("<!> <!> <!>",1),Et=S('<div><div class="d-flex justify-content-between"><p class="w-75"> <br/> <small> <a target="_blank"> </a></small></p> <!></div> <!> <div class="d-flex flex-column gap-1 border-top pt-3"><!> <!> <!> <!></div> <div class="d-flex flex-column gap-1 border-top pt-3"><!> <!> <!> <!></div> <div class="d-flex flex-column gap-1 border-top pt-3"><!> <div class="text-center"><h5>Administration of Sacrament</h5></div></div> <div class="d-flex flex-column gap-1 border-top pt-3"><!></div> <div class="d-flex flex-column gap-1 border-top pt-3"><!> <!></div></div>');function Bt(j,_){De(_,!1);const t=()=>Ne($,"$sacramentData",n),y=()=>Ne(H,"$currentUserHasPermission",n),[n,R]=la(),i=w(),p=w(),v=w(),h=w(),o=w(),{actions:{init:k},stores:{data:$}}=ya(),{stores:{currentUserHasPermission:H}}=ba();let F=w(!1);const N=new Date,x=Ga(N),q=nt(N),O=Ca(x?N:q,"cccc dd MMM"),C={reference:we.chapel.address.full,link:we.chapel.mapLink},I=we.meetingTimes.sacrament.start,L=we.meetingTimes.sacrament.end;Xe(async()=>{await k(),f(F,y()(Na.EditSacramentPrograms))}),Z(()=>t(),()=>{f(i,t()?.program_type||"regular")}),Z(()=>(t(),Te),()=>{f(p,t()?.opening_hymn?qe(t().opening_hymn?.page_number,t().opening_hymn.language):Te)}),Z(()=>(t(),Te),()=>{f(v,t()?.sacrament_hymn?qe(t().sacrament_hymn?.page_number,t().sacrament_hymn.language):Te)}),Z(()=>(t(),Te),()=>{f(h,t()?.rest_hymn?qe(t()?.rest_hymn?.page_number,t()?.rest_hymn?.language):Te)}),Z(()=>(t(),Te),()=>{f(o,t()?.closing_hymn?qe(t().closing_hymn?.page_number,t().closing_hymn.language):Te)}),Ve(),Re();var ae=Fe(),z=$e(ae);{var ne=Y=>{var J=Et(),G=c(J),D=c(G),P=c(D),M=r(P,3),u=c(M),E=r(u),se=c(E,!0);l(E),l(M),l(D);var s=r(D,2);{var b=T=>{var A=Ct(),Ze=c(A);qa(Ze,{drawerTitle:"Sacrament Program",id:"sacrament-form",children:(We,ea)=>{Tt(We,{})},$$slots:{default:!0,label:(We,ea)=>{var ke=Ht();m(We,ke)}}}),l(A),m(T,A)};K(s,T=>{e(F)&&T(b)})}l(G);var d=r(G,2);{var He=T=>{var A=Nt();m(T,A)};K(d,T=>{e(i)==="ward-conference"&&T(He)})}var me=r(d,2),be=c(me);{let T=re(()=>(t(),a(()=>t().presiding_participant?.name))),A=re(()=>(t(),a(()=>t().presiding_participant?.description)));fe(be,{assignment:"Presiding",get name(){return e(T)},get details(){return e(A)}})}var ge=r(be,2);{let T=re(()=>(t(),a(()=>t().conducting_participant?.name))),A=re(()=>(t(),a(()=>t().conducting_participant?.description)));fe(ge,{assignment:"Conducting",get name(){return e(T)},get details(){return e(A)}})}var V=r(ge,2);{let T=re(()=>(t(),a(()=>t().chorister_participant?.name))),A=re(()=>(t(),a(()=>t().chorister_participant?.description)));fe(V,{assignment:"Chorister",get name(){return e(T)},get details(){return e(A)}})}var g=r(V,2);{let T=re(()=>(t(),a(()=>t().organist_participant?.name))),A=re(()=>(t(),a(()=>t().organist_participant?.description)));fe(g,{assignment:"Organist",get name(){return e(T)},get details(){return e(A)}})}l(me);var B=r(me,2),W=c(B);Ye(W,{assignment:"Opening Hymn",get title(){return e(p),a(()=>e(p).title)},get page(){return e(p),a(()=>e(p).page)},get language(){return e(p),a(()=>e(p).language)},get link(){return e(p),a(()=>e(p).link)}});var _e=r(W,2);{let T=re(()=>(t(),a(()=>t().invocation_participant?.name))),A=re(()=>(t(),a(()=>t().invocation_participant?.description)));fe(_e,{assignment:"Invocation",get name(){return e(T)},get details(){return e(A)}})}var Se=r(_e,2);{let T=re(()=>(t(),a(()=>t().conduct_ward_business_participant?.name))),A=re(()=>(t(),a(()=>t().conduct_ward_business_participant?.description)));fe(Se,{assignment:"Ward Business",get name(){return e(T)},get details(){return e(A)}})}var Ce=r(Se,2);{let T=re(()=>(t(),a(()=>t().conduct_stake_business_participant?.name))),A=re(()=>(t(),a(()=>t().conduct_stake_business_participant?.description)));fe(Ce,{assignment:"Stake Business",get name(){return e(T)},get details(){return e(A)}})}l(B);var ye=r(B,2),Oe=c(ye);Ye(Oe,{assignment:"Sacrament Hymn",get title(){return e(v),a(()=>e(v).title)},get page(){return e(v),a(()=>e(v).page)},get language(){return e(v),a(()=>e(v).language)},get link(){return e(v),a(()=>e(v).link)}}),Ee(2),l(ye);var Me=r(ye,2),ha=c(Me);{var $a=T=>{var A=Dt();m(T,A)},xa=T=>{var A=Fe(),Ze=$e(A);{var We=ke=>{var ze=At();m(ke,ze)},ea=ke=>{var ze=Rt(),va=$e(ze);{var Sa=ue=>{var Ue=Fe(),aa=$e(Ue);Be(aa,1,()=>(t(),a(()=>t().participants_before_rest_hymn)),je,(ta,ve)=>{fe(ta,{get assignment(){return e(ve),a(()=>e(ve).role)},get name(){return e(ve),a(()=>e(ve).name)},get details(){return e(ve),a(()=>e(ve).description)}})}),m(ue,Ue)};K(va,ue=>{t(),a(()=>t().participants_before_rest_hymn?.length)&&ue(Sa)})}var ma=r(va,2);{var ka=ue=>{Ye(ue,{assignment:"Rest Hymn",get title(){return e(h),a(()=>e(h).title)},get page(){return e(h),a(()=>e(h).page)},get language(){return e(h),a(()=>e(h).language)},get link(){return e(h),a(()=>e(h).link)}})};K(ma,ue=>{e(h),a(()=>e(h)&&e(h).page!==0)&&ue(ka)})}var wa=r(ma,2);{var Ia=ue=>{var Ue=Fe(),aa=$e(Ue);Be(aa,1,()=>(t(),a(()=>t().participants_after_rest_hymn)),je,(ta,ve)=>{fe(ta,{get assignment(){return e(ve),a(()=>e(ve).role)},get name(){return e(ve),a(()=>e(ve).name)},get details(){return e(ve),a(()=>e(ve).description)}})}),m(ue,Ue)};K(wa,ue=>{t(),a(()=>t().participants_after_rest_hymn?.length)&&ue(Ia)})}m(ke,ze)};K(Ze,ke=>{e(i)==="primary-program"?ke(We):ke(ea,!1)},!0)}m(T,A)};K(ha,T=>{e(i)==="fast-sunday"?T($a):T(xa,!1)})}l(Me);var da=r(Me,2),ca=c(da);Ye(ca,{assignment:"Closing Hymn",get title(){return e(o),a(()=>e(o).title)},get page(){return e(o),a(()=>e(o).page)},get language(){return e(o),a(()=>e(o).language)},get link(){return e(o),a(()=>e(o).link)}});var Pa=r(ca,2);{let T=re(()=>(t(),a(()=>t().benediction_participant?.name))),A=re(()=>(t(),a(()=>t().benediction_participant?.description)));fe(Pa,{assignment:"Benediction",get name(){return e(T)},get details(){return e(A)}})}l(da),l(J),Q(()=>{ee(P,`${X(we),a(()=>we.name)??""} | ${X(we),a(()=>we.stake)??""}`),ee(u,`${O??""},
					${I??""} to ${L??""}, `),pe(E,"href",a(()=>C?.link)),ee(se,a(()=>C?.reference))}),m(Y,J)};K(z,Y=>{t()&&Y(ne)})}m(j,ae),Ae(),R()}var jt=S('<button class="nav-link" id="nav-cheat-sheet-tab" data-bs-toggle="tab" data-bs-target="#nav-cheat-sheet" type="button" role="tab" aria-controls="nav-cheat-sheet" aria-selected="false">Cheat Sheet</button>'),Lt=S('<div class="tab-pane fade" id="nav-cheat-sheet" role="tabpanel" aria-labelledby="nav-cheat-sheet-tab" tabindex="0"><div class="d-flex gap-4 flex-column"><!></div></div>'),Mt=S('<nav class="d-print-none"><div class="nav nav-tabs" id="nav-tab" role="tablist"><button class="nav-link active" id="nav-sacrament-program-tab" data-bs-toggle="tab" data-bs-target="#nav-sacrament-program" type="button" role="tab" aria-controls="nav-sacrament-program" aria-selected="true">Program</button> <!> <button class="nav-link" id="nav-announcements-tab" data-bs-toggle="tab" data-bs-target="#nav-announcements" type="button" role="tab" aria-controls="nav-announcements" aria-selected="false">Announcements & Events</button></div></nav> <div class="tab-content" id="nav-tabContent"><div class="tab-pane fade show active" id="nav-sacrament-program" role="tabpanel" aria-labelledby="nav-sacrament-program-tab" tabindex="0"><div class="d-flex gap-4 flex-column"><!> <!> <!> <div class="d-flex flex-column flex-md-row gap-4 olay-info-block svelte-16jl7eu"><!> <!></div></div></div> <!> <div class="tab-pane fade" id="nav-announcements" role="tabpanel" aria-labelledby="nav-announcements-tab" tabindex="0"><div class="d-flex flex-column gap-4"><!> <!></div></div></div>',1);function dn(j,_){De(_,!1);const t=()=>Ne(i,"$currentUserIsAdmin",n),y=()=>Ne(p,"$currentUserIsRoot",n),[n,R]=la(),{stores:{currentUserIsAdmin:i,currentUserIsRoot:p}}=ba();Re(),Xa(j,{pageTitle:"Sacrament",children:(v,h)=>{var o=Mt(),k=$e(o),$=c(k),H=r(c($),2);{var F=P=>{var M=jt();m(P,M)};K(H,P=>{(t()||y())&&P(F)})}Ee(2),l($),l(k);var N=r(k,2),x=c(N),q=c(x),te=c(q);Bt(te,{});var O=r(te,2);Ka(O,{});var C=r(O,2);Ja(C,{});var I=r(C,2),L=c(I);Qa(L,{});var ae=r(L,2);Va(ae,{}),l(I),l(q),l(x);var z=r(x,2);{var ne=P=>{var M=Lt(),u=c(M),E=c(u);Oa(E,{}),l(u),l(M),m(P,M)};K(z,P=>{(t()||y())&&P(ne)})}var Y=r(z,2),J=c(Y),G=c(J);Za(G,{});var D=r(G,2);et(D,{}),l(J),l(Y),l(N),m(v,o)},$$slots:{default:!0}}),Ae(),R()}export{dn as component,on as universal};
