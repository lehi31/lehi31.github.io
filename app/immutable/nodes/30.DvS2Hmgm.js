import"../chunks/NZTpNUN0.js";import"../chunks/69_IOA4Y.js";import{c,r as o,s as n,B as Q,p as De,E as k,v as Je,D as f,ah as ee,m as e,n as Z,ai as Ve,u as a,F as Be,a as Re,as as Pe,f as $e,C as Qe,R as se}from"../chunks/DimshypG.js";import{f as P,a as m,c as Fe,t as ie}from"../chunks/BpMnIePG.js";import{p as U,s as ae,i as K,e as xe,a as Ne,b as oa,o as oe}from"../chunks/BxPd6b7X.js";import{i as Ae}from"../chunks/PCWoV1YN.js";import{o as Xe,a as Ha}from"../chunks/Bxf54LvK.js";import{e as Ee,i as Le}from"../chunks/DQUjufRY.js";import{s as pe,r as Ke,b as ia}from"../chunks/BsBwj3Bx.js";import{t as ba,e as ce,d as ya,h as Ca,P as Na,W as we}from"../chunks/B4JJrO5i.js";import{b as na,a as Da}from"../chunks/BArOhmIA.js";import{b as ra}from"../chunks/DjQMH9r6.js";import{P as ga,u as Ra,H as le,a as Aa,b as Ba,c as pa,d as Ea,e as La,f as ja,g as ua,h as _a,B as sa,i as Ma,j as Wa,k as Ua,l as ha,m as Fa,S as Ie,n as Te,o as ze,C as Oa}from"../chunks/61w0qdUS.js";import{S as la}from"../chunks/BxZqZ5n4.js";import{t as je}from"../chunks/r7-tBYgy.js";import{A as qa,a as de}from"../chunks/DX1HpcRN.js";import{D as za}from"../chunks/B1QxWqNy.js";import{a as Ya}from"../chunks/Wqtc3pYc.js";import{P as Ga}from"../chunks/CvBynbI7.js";import{W as Ka,a as Ja,S as Qa}from"../chunks/bs4dS8-0.js";import{A as Va,E as Xa}from"../chunks/BtPETEQ_.js";import{W as Za}from"../chunks/BwiSslle.js";import{B as et}from"../chunks/4iEJUeSy.js";function at(D){return ba(D).getDay()===0}function tt(D){return ba(D).getDay()}function nt(D,_){let t=_-tt(D);return t<=0&&(t+=7),Ya(D,t)}function rt(D){return nt(D,0)}const st=!0,vn=Object.freeze(Object.defineProperty({__proto__:null,prerender:st},Symbol.toStringTag,{value:"Module"}));var it=P('<div class="d-flex justify-content-between"><div> </div> <div class="text-end"> <br/> <div class="d-flex align-items-center justify-content-end flex-row gap-2"><small class="small fw-lighter"> </small> <a class="btn btn-primary btn-sm d-print-none" target="_blank" tabindex="-1" role="button" style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: .70rem;">Lyrics</a></div></div></div>');function Ye(D,_){let t=U(_,"assignment",8,""),y=U(_,"title",8,""),r=U(_,"language",8,""),L=U(_,"page",8,0),i=U(_,"link",8,"");var u=it(),v=c(u),h=c(v,!0);o(v);var l=n(v,2),S=c(l,!0),$=n(S,3),T=c($),F=c(T);o(T);var C=n(T,2);o($),o(l),o(u),Q(()=>{ae(h,t()),ae(S,y()),ae(F,`${r()??""} Hymn No. ${L()??""}`),pe(C,"href",i())}),m(D,u)}var ot=P('<div class="d-flex justify-content-between"><div> </div> <div class="text-end"> <br/> <em class="small fw-lighter"> </em></div></div>');function fe(D,_){let t=U(_,"assignment",8,""),y=U(_,"name",8,""),r=U(_,"details",8,"");var L=ot(),i=c(L),u=c(i,!0);o(i);var v=n(i,2),h=c(v,!0),l=n(h,3),S=c(l,!0);o(l),o(v),o(L),Q(()=>{ae(u,t()),ae(h,y()),ae(S,r())}),m(D,L)}var lt=P("<div><strong> </strong></div>"),dt=P("<span> </span>"),ct=P("<div><small><em>Presets</em></small> <div></div></div>"),vt=P('<div class="d-flex flex-column gap-2"><div>Role</div> <input type="text" placeholder="Participant role" required/> <small class="fw-lighter fst-italic">Participant sacrament role. i.e. Speaker, Musical number, Pianist</small></div>'),mt=P('<span class="position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle"><span class="visually-hidden">Item not saved</span></span>'),gt=P('<div class="wrapper d-flex flex-column gap-4"><!> <!> <!> <div class="d-flex flex-column gap-2"><div>Name</div> <input type="text" placeholder="Participant name" required/> <small class="fw-lighter fst-italic">Participant name. i.e. Brother John Smith</small></div> <div class="d-flex flex-column gap-2"><div>Description</div> <input type="text" placeholder="Participant description" required/> <small class="fw-lighter fst-italic">Participant Calling or Title. i.e. Ward Member, Sunday School Teacher</small></div> <div class="d-flex justify-content-end align-items-center gap-2 flex-row"><small> </small> <span><!></span> <button class="btn btn-primary position-relative"><span>Save</span> <!></button></div></div>');function he(D,_){De(_,!1);const t=k(),y=k(),r=k(),L=k(),i=k();let u=U(_,"label",8,""),v=U(_,"editableRole",8,!1),h=U(_,"presets",24,()=>[]),l=U(_,"participant",28,()=>({name:"",description:"",role:ga.Unknown})),S=k(!1),$=l().id,T=k(),F=k(),C=k(),x=k({message:"",type:"info"}),q=k({name:"",description:"",role:ga.Unknown});const re=p=>{l({...p,id:$})},O=(p,j=0,W="info")=>{Pe(x,e(x).message=p),Pe(x,e(x).type=W),j&&setTimeout(()=>{Pe(x,e(x).message="")},j)},H=async()=>{if(!e(t)){O("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}if(!$){O("ID is not defined",0,"danger");return}if(!e(i)){let p=[];e(r)&&p.push("Name is invalid"),e(L)&&p.push("Description is invalid"),O(p.join(". ")+".  Please address accordingly.",0,"danger")}try{O("Saving ..."),f(S,!0);const p={description:l().description,member_given_name:l().name,role:v()?l().role:u()};await Ra($,p),console.log("Participant updated successfully"),je("set_sacrament_participant_success","interaction",`Set Sacrament Participant Successful ${v()?l().role:u()}`,1),setTimeout(()=>{f(S,!1),f(q,{...l(),id:$}),O("Saved",3e3,"success")},800)}catch(p){je("set_sacrament_participant_failed","interaction",`Set Sacrament Participant Failed ${v()?l().role:u()}`,1),setTimeout(()=>{f(S,!1),console.error("Participant update failed",p),O("Save failed, please reload browser and try again.",7e3,"danger")},800)}};Xe(async()=>{await Je(),f(q,{...l(),id:$})}),ee(()=>(e(q),Z(l())),()=>{f(t,e(q).role!==l().role||e(q).name!==l().name||e(q).description!==l().description)}),ee(()=>Z(l()),()=>{f(y,l().role==="")}),ee(()=>Z(l()),()=>{f(r,l().name==="")}),ee(()=>Z(l()),()=>{f(L,l().description==="")}),ee(()=>Z(l()),()=>{f(i,!!($&&l()&&l().name.length&&l().description.length))}),Ve(),Ae();var w=gt(),M=c(w);{var V=p=>{var j=lt(),W=c(j),_e=c(W,!0);o(W),o(j),Q(()=>ae(_e,u())),m(p,j)};K(M,p=>{u()&&p(V)})}var z=n(M,2);{var te=p=>{var j=ct();let W;var _e=n(c(j),2);Ee(_e,5,h,Le,(Se,Ce)=>{var ye=dt();let Oe;var Me=c(ye,!0);o(ye),Q(()=>{Oe=ce(ye,1,"badge me-2 cursor-pointer svelte-mo0ot3",null,Oe,{"text-bg-secondary":e(Ce).description!==l().description,"text-bg-warning":e(Ce).description===l().description}),ae(Me,(e(Ce),a(()=>e(Ce).description)))}),xe("click",ye,()=>re(e(Ce))),m(Se,ye)}),o(_e),o(j),Q(()=>W=ce(j,1,"",null,W,{loading:e(S)})),m(p,j)};K(z,p=>{Z(h()),a(()=>h()?.length)&&p(te)})}var G=n(z,2);{var J=p=>{var j=vt(),W=n(c(j),2);Ke(W);let _e;ra(W,Se=>f(T,Se),()=>e(T)),Be(2),o(j),Q(()=>{pe(W,"name",`${u()??""}-role`),_e=ce(W,1,"form-control",null,_e,{"is-invalid":e(y)}),W.disabled=e(S)}),xe("focus",W,()=>e(T).select()),na(W,()=>l().role,Se=>l(l().role=Se,!0)),m(p,j)};K(G,p=>{v()&&p(J)})}var Y=n(G,2),N=n(c(Y),2);Ke(N);let R;ra(N,p=>f(F,p),()=>e(F)),Be(2),o(Y);var A=n(Y,2),g=n(c(A),2);Ke(g);let B;ra(g,p=>f(C,p),()=>e(C)),Be(2),o(A);var ne=n(A,2),s=c(ne),b=c(s,!0);o(s);var d=n(s,2);let He;var me=c(d);la(me,{size:"xs"}),o(d);var be=n(d,2),ge=n(c(be),2);{var X=p=>{var j=mt();m(p,j)};K(ge,p=>{e(t)&&p(X)})}o(be),o(ne),o(w),Q(()=>{pe(N,"name",`${u()??""}-name`),R=ce(N,1,"form-control",null,R,{"is-invalid":e(r)}),N.disabled=e(S),pe(g,"name",`${u()??""}-description`),B=ce(g,1,"form-control",null,B,{"is-invalid":e(L)}),g.disabled=e(S),ce(s,1,`fw-lighter fst-italic text-${e(x),a(()=>e(x).type)??""}`,"svelte-mo0ot3"),ae(b,(e(x),a(()=>e(x).message))),He=ce(d,1,"",null,He,{"d-none":!e(S)})}),xe("focus",N,()=>e(F).select()),na(N,()=>l().name,p=>l(l().name=p,!0)),xe("focus",g,()=>e(C).select()),na(g,()=>l().description,p=>l(l().description=p,!0)),xe("click",be,H),m(D,w),Re()}var pt=P('<div><div class="form-check"><input class="form-check-input" type="checkbox"/> <label class="form-check-label">None</label></div> <small class="fw-lighter fst-italic">Check if this hymn is not needed</small></div>'),ut=P("<option> </option>"),_t=P("<option> </option>"),ft=P('<div class="d-flex flex-column gap-2"><div>Language</div> <select aria-label="Hymn Language"><option selected></option><!></select></div> <div class="d-flex flex-column gap-2"><div>Hymn</div> <select aria-label="Hymn List"></select></div>',1),bt=P('<span class="position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle"><span class="visually-hidden">Item not saved</span></span>'),yt=P('<div class="d-flex flex-column gap-4"><!> <!> <div class="d-flex justify-content-end align-items-center gap-2 flex-row"><small> </small> <span><!></span> <button type="button" class="btn btn btn-primary position-relative"><span>Save</span> <!></button></div></div>');function Ge(D,_){De(_,!1);const t=k(),y=k(),r=k(),L=k();let i=U(_,"hymn",28,()=>({page_number:0,language:le.English})),u=U(_,"name",8,""),v=U(_,"nullable",8,!1),h=i().id,l=k(!1),S=k(!1),$=k({message:"",type:"info"}),T=k({page_number:0,language:le.English});const F=[{label:"English",value:le.English},{label:"Tongan",value:le.Tongan},{label:"Samoan",value:le.Samoan}];let C=k([]);const x=(g,B=0,ne="info")=>{Pe($,e($).message=g),Pe($,e($).type=ne),B&&setTimeout(()=>{Pe($,e($).message="")},B)},q=async()=>{if(!e(t)){x("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}if(!h){x("ID is not defined",0,"danger");return}if(!e(S)){let g=[];e(r)&&g.push("Page number is invalid"),e(y)&&g.push("Language is invalid"),x(g.join(". ")+".  Please address accordingly.",0,"danger");return}try{x("Saving ..."),f(l,!0);const g={page_number:i().blank?0:i().page_number,language:i().blank?le.None:i().language,blank:i().blank};await Ea(h,g),console.log("Hymn updated successfully"),je("set_sacrament_hymn_success","interaction",`Set Sacrament Hymn Successful: Page:${i().blank?0:i().page_number} | Lang:${i().blank?le.None:i().language}`,1),setTimeout(()=>{f(l,!1),f(T,{...i(),id:h}),x("Saved",3e3,"success")},800)}catch(g){je("set_sacrament_hymn_failed","interaction",`Set Sacrament Hymn Failed: Page:${i().blank?0:i().page_number} | Lang:${i().blank?le.None:i().language}`,1),setTimeout(()=>{f(l,!1),console.error("Hymn update failed",g),x("Save failed, please reload browser and try again.",7e3,"danger")},800)}};Xe(async()=>{await Je(),f(T,{...i(),id:h})}),ee(()=>(e(T),Z(i())),()=>{f(t,e(T).page_number!==i().page_number||e(T).language!==i().language||e(T).blank!==i().blank)}),ee(()=>(Z(i()),le),()=>{f(y,i().language===le.None)}),ee(()=>Z(i()),()=>{f(r,i().page_number===0)}),ee(()=>(Z(i()),e(y),e(r)),()=>{f(S,i().blank||!!(h&&!i().blank&&!e(y)&&!e(r)))}),ee(()=>(Z(i()),le),()=>{i().blank&&(i(i().page_number=0,!0),i(i().language=le.None,!0))}),ee(()=>(Z(i()),pa),()=>{i().language===le.English?f(C,Aa):i().language===le.Samoan?f(C,Ba):i().language===le.Tongan&&f(C,pa)}),ee(()=>e(C),()=>{f(L,e(C).map(g=>({label:`${g.page}. ${g.title}`,value:g.page})))}),Ve(),Ae();var re=yt(),O=c(re);{var H=g=>{var B=pt(),ne=c(B),s=c(ne);Ke(s);var b=n(s,2);o(ne),Be(2),o(B),Q(()=>{pe(s,"name",`${u()??""}-none-check`),pe(b,"for",`${u()??""}-none-check`)}),Da(s,()=>i().blank,d=>i(i().blank=d,!0)),m(g,B)};K(O,g=>{v()&&g(H)})}var w=n(O,2);{var M=g=>{var B=ft(),ne=$e(B),s=n(c(ne),2);Q(()=>{i(),Qe(()=>{u(),e(l),e(y)})});let b;var d=n(c(s));Ee(d,1,()=>F,Le,(ge,X)=>{var p=ut(),j=c(p,!0);o(p);var W={};Q(()=>{ae(j,(e(X),a(()=>e(X).label))),W!==(W=(e(X),a(()=>e(X).value)))&&(p.value=(p.__value=(e(X),a(()=>e(X).value)))??"")}),m(ge,p)}),o(s),o(ne);var He=n(ne,2),me=n(c(He),2);Q(()=>{i(),Qe(()=>{u(),e(l),e(r),e(L)})});let be;Ee(me,5,()=>e(L),Le,(ge,X)=>{var p=_t(),j=c(p,!0);o(p);var W={};Q(()=>{ae(j,(e(X),a(()=>e(X).label))),W!==(W=(e(X),a(()=>e(X).value)))&&(p.value=(p.__value=(e(X),a(()=>e(X).value)))??"")}),m(ge,p)}),o(me),o(He),Q(()=>{b=ce(s,1,"form-select",null,b,{"is-invalid":e(y)}),pe(s,"name",`${u()??""}-language`),s.disabled=e(l),be=ce(me,1,"form-select",null,be,{"is-invalid":e(r)}),pe(me,"name",u()),me.disabled=(e(l),Z(i()),a(()=>e(l)||!i().language))}),ia(s,()=>i().language,ge=>i(i().language=ge,!0)),ia(me,()=>i().page_number,ge=>i(i().page_number=ge,!0)),m(g,B)};K(w,g=>{Z(i()),a(()=>!i().blank)&&g(M)})}var V=n(w,2),z=c(V),te=c(z,!0);o(z);var G=n(z,2);let J;var Y=c(G);la(Y,{size:"xs"}),o(G);var N=n(G,2),R=n(c(N),2);{var A=g=>{var B=bt();m(g,B)};K(R,g=>{e(t)&&g(A)})}o(N),o(V),o(re),Q(()=>{ce(z,1,`fw-lighter fst-italic text-${e($),a(()=>e($).type)??""}`),ae(te,(e($),a(()=>e($).message))),J=ce(G,1,"",null,J,{"d-none":!e(l)})}),xe("click",N,q),m(D,re),Re()}var ht=P("<div>loading ...</div>"),$t=P('<div class="d-flex flex-row gap-2"><div class="d-flex align-items-start"><div class="cursor-pointer text-danger-emphasis svelte-1lpd9wu"><i class="bi bi-dash-circle"></i></div></div> <!></div>'),xt=P('<div class="d-flex flex-column gap-2"><div></div> <div>No Participants</div></div>'),Pt=P('<div class="d-flex flex-column gap-2"><div class="d-flex justify-content-between"><div> </div> <div><div class="cursor-pointer text-success-emphasis svelte-1lpd9wu"><i class="bi bi-plus-circle"></i></div></div></div> <!></div>');function fa(D,_){De(_,!1);let t=U(_,"sacramentProgramId",8,0),y=U(_,"participants",28,()=>[]),r=U(_,"position",8,"after-rest-hymn"),L=U(_,"label",8,""),i=U(_,"max",8,50),u=k(!1);const v=async()=>{if(y().length>=i())return;f(u,!0);const H={description:sa.description,member_given_name:sa.name,role:sa.role},w=await La(H);if(!w?.id)return;const M={sacrament_program_id:t(),participant_id:w.id,position:r(),sort_index:y().length};await ja(M),y(await ua(t(),r())),await Je(),f(u,!1)},h=async H=>{f(u,!0);const w=y()[H];w?.id&&(await Ma(t(),w.id),await Wa(w.id),y(await ua(t(),r())),await Je(),f(u,!1))},l=H=>{h(H)};Ae();var S=Pt(),$=c(S),T=c($),F=c(T,!0);o(T);var C=n(T,2),x=c(C);o(C),o($);var q=n($,2);{var re=H=>{var w=ht();m(H,w)},O=H=>{var w=xt(),M=c(w);let V;Ee(M,5,y,Le,(G,J,Y)=>{var N=$t(),R=c(N),A=c(R);o(R);var g=n(R,2);he(g,{label:"Participant",get presets(){return Z(_a),a(()=>_a.speaker)},editableRole:!0,get participant(){return y()[Y]},set participant(B){y()[Y]=B,Qe(()=>y())},$$legacy:!0}),o(N),xe("click",A,()=>l(Y)),m(G,N)}),o(M);var z=n(M,2);let te;o(w),Q(()=>{V=ce(M,1,"flex-column gap-3",null,V,{"d-none":y().length===0,"d-flex":y().length>0}),te=ce(z,1,"bg-body-tertiary p-3",null,te,{"d-none":y().length>0,"d-block":y().length===0})}),m(H,w)};K(q,H=>{e(u)?H(re):H(O,!1)})}o(S),Q(()=>ae(F,L())),xe("click",x,v),m(D,S),Re()}var St=P('<span class="position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle"><span class="visually-hidden">Item not saved</span></span>'),kt=P('<div class="d-flex flex-column gap-2"><div><label class="form-label"> </label> <select class="form-select"><option>Regular Program</option><option>Fast Sunday</option><option>Primary Program</option><option>Ward Conference</option></select></div> <div class="d-flex justify-content-end align-items-center gap-2 flex-row"><small> </small> <span><!></span> <button class="btn btn-primary position-relative"><span>Save</span> <!></button></div></div>');function wt(D,_){De(_,!1);const t=k();let y=U(_,"sacramentProgramId",8,0),r=U(_,"programType",12,"regular"),L=U(_,"label",8,"Program Type"),i=U(_,"name",8,""),u=k(!1),v=k({message:"",type:"info"}),h=k(r());const l=(R,A=0,g="info")=>{Pe(v,e(v).message=R),Pe(v,e(v).type=g),A&&setTimeout(()=>{Pe(v,e(v).message="")},A)},S=async()=>{if(!e(t)){l("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}try{l("Saving ..."),f(u,!0);const R={program_type:r()};await Ua(y(),R),console.log("Sacrament Program Type updated successfully"),je("set_sacrament_program_type_success","interaction",`Set Sacrament Program Type Successful ${r()}`,1),setTimeout(()=>{f(u,!1),f(h,r()),l("Saved",3e3,"success")},800)}catch(R){je("set_sacrament_program_type_failed","interaction",`Set Sacrament Program Type Failed ${r()}`,1),setTimeout(()=>{f(u,!1),console.error("Sacrament Program update failed",R),l("Save failed, please reload browser and try again.",7e3,"danger")},800)}};ee(()=>(e(h),Z(r())),()=>{f(t,e(h)!==r())}),Ve(),Ae();var $=kt(),T=c($),F=c(T),C=c(F,!0);o(F);var x=n(F,2);Q(()=>{r(),Qe(()=>{i()})});var q=c(x);q.value=q.__value="regular";var re=n(q);re.value=re.__value="fast-sunday";var O=n(re);O.value=O.__value="primary-program";var H=n(O);H.value=H.__value="ward-conference",o(x),o(T);var w=n(T,2),M=c(w),V=c(M,!0);o(M);var z=n(M,2);let te;var G=c(z);la(G,{size:"xs"}),o(z);var J=n(z,2),Y=n(c(J),2);{var N=R=>{var A=St();m(R,A)};K(Y,R=>{e(t)&&R(N)})}o(J),o(w),o($),Q(()=>{pe(F,"for",`${i()??""}-program-type`),ae(C,L()),pe(x,"id",`${i()??""}-program-type`),pe(x,"name",`${i()??""}-program-type`),ce(M,1,`fw-lighter fst-italic text-${e(v),a(()=>e(v).type)??""}`),ae(V,(e(v),a(()=>e(v).message))),te=ce(z,1,"",null,te,{"d-none":!e(u)})}),ia(x,r),xe("click",J,S),m(D,$),Re()}var It=P("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),Tt=P('<div class="d-flex flex-column gap-4"><!></div>');function Ht(D,_){De(_,!1);const t=()=>Ne(u,"$ready",L),y=()=>Ne(h,"$currentSacramentId",L),r=()=>Ne(v,"$data",L),[L,i]=oa(),{stores:{ready:u,data:v,currentSacramentId:h},actions:{init:l}}=ha();Xe(l),Ha(Fa),Ae();var S=Fe(),$=$e(S);{var T=F=>{var C=Tt(),x=c(C);qa(x,{id:"sacrament-form",children:(q,re)=>{var O=It(),H=$e(O);de(H,{id:"testimony-sunday",$$slots:{heading:(s,b)=>{var d=ie("Program Type");m(s,d)},body:(s,b)=>{wt(s,{get sacramentProgramId(){return y()},name:"testimony-sunday",label:"Select the type of Sacrament Program",get programType(){return r().program_type},set programType(d){oe(v,a(r).program_type=d,a(r))},$$legacy:!0})}}});var w=n(H,2);de(w,{id:"presiding",$$slots:{heading:(s,b)=>{var d=ie("Presiding");m(s,d)},body:(s,b)=>{he(s,{label:"Presiding",get presets(){return Ie.presiding},get participant(){return r().presiding_participant},set participant(d){oe(v,a(r).presiding_participant=d,a(r))},$$legacy:!0})}}});var M=n(w,2);de(M,{id:"conducting",$$slots:{heading:(s,b)=>{var d=ie("Conducting");m(s,d)},body:(s,b)=>{he(s,{label:"Conducting",get presets(){return Ie.conducting},get participant(){return r().conducting_participant},set participant(d){oe(v,a(r).conducting_participant=d,a(r))},$$legacy:!0})}}});var V=n(M,2);de(V,{id:"chorister",$$slots:{heading:(s,b)=>{var d=ie("Chorister");m(s,d)},body:(s,b)=>{he(s,{label:"Chorister",get presets(){return Ie.chorister},get participant(){return r().chorister_participant},set participant(d){oe(v,a(r).chorister_participant=d,a(r))},$$legacy:!0})}}});var z=n(V,2);de(z,{id:"organist",$$slots:{heading:(s,b)=>{var d=ie("Organist");m(s,d)},body:(s,b)=>{he(s,{label:"Organist",get presets(){return Ie.organist},get participant(){return r().organist_participant},set participant(d){oe(v,a(r).organist_participant=d,a(r))},$$legacy:!0})}}});var te=n(z,2);de(te,{id:"opening-hymn",$$slots:{heading:(s,b)=>{var d=ie("Opening Hymn");m(s,d)},body:(s,b)=>{Ge(s,{name:"sacrament-form-opening-hymn",get hymn(){return r().opening_hymn},set hymn(d){oe(v,a(r).opening_hymn=d,a(r))},$$legacy:!0})}}});var G=n(te,2);de(G,{id:"invocation",$$slots:{heading:(s,b)=>{var d=ie("Invocation");m(s,d)},body:(s,b)=>{he(s,{label:"Invocation",get presets(){return Ie.prayer},get participant(){return r().invocation_participant},set participant(d){oe(v,a(r).invocation_participant=d,a(r))},$$legacy:!0})}}});var J=n(G,2);de(J,{id:"conducting-ward-business",$$slots:{heading:(s,b)=>{var d=ie("Conducting Ward Business");m(s,d)},body:(s,b)=>{he(s,{label:"Conducting Ward Business",get presets(){return Ie.wardBusiness},get participant(){return r().conduct_ward_business_participant},set participant(d){oe(v,a(r).conduct_ward_business_participant=d,a(r))},$$legacy:!0})}}});var Y=n(J,2);de(Y,{id:"conducting-stake-business",$$slots:{heading:(s,b)=>{var d=ie("Conducting Stake Business");m(s,d)},body:(s,b)=>{he(s,{label:"Conducting Stake Business",get presets(){return Ie.stakeBusiness},get participant(){return r().conduct_stake_business_participant},set participant(d){oe(v,a(r).conduct_stake_business_participant=d,a(r))},$$legacy:!0})}}});var N=n(Y,2);de(N,{id:"sacrament-hymn",$$slots:{heading:(s,b)=>{var d=ie("Sacrament Hymn");m(s,d)},body:(s,b)=>{Ge(s,{name:"sacrament-form-sacrament-hymn",get hymn(){return r().sacrament_hymn},set hymn(d){oe(v,a(r).sacrament_hymn=d,a(r))},$$legacy:!0})}}});var R=n(N,2);de(R,{id:"participants-before-rest-hymn",$$slots:{heading:(s,b)=>{var d=ie("Participants before rest hymn");m(s,d)},body:(s,b)=>{fa(s,{label:"Participants before rest hymn",position:"before-rest-hymn",sacramentProgramId:1,get participants(){return r().participants_before_rest_hymn},set participants(d){oe(v,a(r).participants_before_rest_hymn=d,a(r))},$$legacy:!0})}}});var A=n(R,2);de(A,{id:"rest-hymn",$$slots:{heading:(s,b)=>{var d=ie("Rest Hymn");m(s,d)},body:(s,b)=>{Ge(s,{name:"sacrament-form-rest-hymn",nullable:!0,get hymn(){return r().rest_hymn},set hymn(d){oe(v,a(r).rest_hymn=d,a(r))},$$legacy:!0})}}});var g=n(A,2);de(g,{id:"participants-after-rest-hymn",$$slots:{heading:(s,b)=>{var d=ie("Participants after rest hymn");m(s,d)},body:(s,b)=>{fa(s,{label:"Participants after rest hymn",position:"after-rest-hymn",sacramentProgramId:1,get participants(){return r().participants_after_rest_hymn},set participants(d){oe(v,a(r).participants_after_rest_hymn=d,a(r))},$$legacy:!0})}}});var B=n(g,2);de(B,{id:"closing-hymn",$$slots:{heading:(s,b)=>{var d=ie("Closing Hymn");m(s,d)},body:(s,b)=>{Ge(s,{name:"sacrament-form-closing-hymn",get hymn(){return r().closing_hymn},set hymn(d){oe(v,a(r).closing_hymn=d,a(r))},$$legacy:!0})}}});var ne=n(B,2);de(ne,{id:"benediction",$$slots:{heading:(s,b)=>{var d=ie("Benediction");m(s,d)},body:(s,b)=>{he(s,{label:"Benediction",get presets(){return Ie.prayer},get participant(){return r().benediction_participant},set participant(d){oe(v,a(r).benediction_participant=d,a(r))},$$legacy:!0})}}}),m(q,O)},$$slots:{default:!0}}),o(C),m(F,C)};K($,F=>{t()&&F(T)})}m(D,S),Re(),i()}var Ct=P('<i slot="label" class="bi bi-pencil-square"></i>'),Nt=P("<div><!></div>"),Dt=P('<div class="text-center border-top pt-3"><h5>Ward Conference</h5></div>'),Rt=P('<div class="text-center"><h5>Fast Sunday: Bearing of Testimonies</h5></div>'),At=P('<div class="text-center"><h5>Primary Program</h5></div>'),Bt=P("<!> <!> <!>",1),Et=P('<div><div class="d-flex justify-content-between"><p class="w-75"> <br/> <small> <a target="_blank"> </a></small></p> <!></div> <!> <div class="d-flex flex-column gap-1 border-top pt-3"><!> <!> <!> <!></div> <div class="d-flex flex-column gap-1 border-top pt-3"><!> <!> <!> <!></div> <div class="d-flex flex-column gap-1 border-top pt-3"><!> <div class="text-center"><h5>Administration of Sacrament</h5></div></div> <div class="d-flex flex-column gap-1 border-top pt-3"><!></div> <div class="d-flex flex-column gap-1 border-top pt-3"><!> <!></div></div>');function Lt(D,_){De(_,!1);const t=()=>Ne($,"$sacramentData",r),y=()=>Ne(T,"$currentUserHasPermission",r),[r,L]=oa(),i=k(),u=k(),v=k(),h=k(),l=k(),{actions:{init:S},stores:{data:$}}=ha(),{stores:{currentUserHasPermission:T}}=ya();let F=k(!1);const C=new Date,x=at(C),q=rt(C),O=Ca(x?C:q,"cccc dd MMM"),H={reference:we.chapel.address.full,link:we.chapel.mapLink},w=we.meetingTimes.sacrament.start,M=we.meetingTimes.sacrament.end;Xe(async()=>{await S(),f(F,y()(Na.EditSacramentPrograms))}),ee(()=>t(),()=>{f(i,t()?.program_type||"regular")}),ee(()=>(t(),Te),()=>{f(u,t()?.opening_hymn?ze(t().opening_hymn?.page_number,t().opening_hymn.language):Te)}),ee(()=>(t(),Te),()=>{f(v,t()?.sacrament_hymn?ze(t().sacrament_hymn?.page_number,t().sacrament_hymn.language):Te)}),ee(()=>(t(),Te),()=>{f(h,t()?.rest_hymn?ze(t()?.rest_hymn?.page_number,t()?.rest_hymn?.language):Te)}),ee(()=>(t(),Te),()=>{f(l,t()?.closing_hymn?ze(t().closing_hymn?.page_number,t().closing_hymn.language):Te)}),Ve(),Ae();var V=Fe(),z=$e(V);{var te=G=>{var J=Et(),Y=c(J),N=c(Y),R=c(N),A=n(R,3),g=c(A),B=n(g),ne=c(B,!0);o(B),o(A),o(N);var s=n(N,2);{var b=I=>{var E=Nt(),Ze=c(E);za(Ze,{drawerTitle:"Sacrament Program",id:"sacrament-form",children:(We,ea)=>{Ht(We,{})},$$slots:{default:!0,label:(We,ea)=>{var ke=Ct();m(We,ke)}}}),o(E),m(I,E)};K(s,I=>{e(F)&&I(b)})}o(Y);var d=n(Y,2);{var He=I=>{var E=Dt();m(I,E)};K(d,I=>{e(i)==="ward-conference"&&I(He)})}var me=n(d,2),be=c(me);{let I=se(()=>(t(),a(()=>t().presiding_participant?.name))),E=se(()=>(t(),a(()=>t().presiding_participant?.description)));fe(be,{assignment:"Presiding",get name(){return e(I)},get details(){return e(E)}})}var ge=n(be,2);{let I=se(()=>(t(),a(()=>t().conducting_participant?.name))),E=se(()=>(t(),a(()=>t().conducting_participant?.description)));fe(ge,{assignment:"Conducting",get name(){return e(I)},get details(){return e(E)}})}var X=n(ge,2);{let I=se(()=>(t(),a(()=>t().chorister_participant?.name))),E=se(()=>(t(),a(()=>t().chorister_participant?.description)));fe(X,{assignment:"Chorister",get name(){return e(I)},get details(){return e(E)}})}var p=n(X,2);{let I=se(()=>(t(),a(()=>t().organist_participant?.name))),E=se(()=>(t(),a(()=>t().organist_participant?.description)));fe(p,{assignment:"Organist",get name(){return e(I)},get details(){return e(E)}})}o(me);var j=n(me,2),W=c(j);Ye(W,{assignment:"Opening Hymn",get title(){return e(u),a(()=>e(u).title)},get page(){return e(u),a(()=>e(u).page)},get language(){return e(u),a(()=>e(u).language)},get link(){return e(u),a(()=>e(u).link)}});var _e=n(W,2);{let I=se(()=>(t(),a(()=>t().invocation_participant?.name))),E=se(()=>(t(),a(()=>t().invocation_participant?.description)));fe(_e,{assignment:"Invocation",get name(){return e(I)},get details(){return e(E)}})}var Se=n(_e,2);{let I=se(()=>(t(),a(()=>t().conduct_ward_business_participant?.name))),E=se(()=>(t(),a(()=>t().conduct_ward_business_participant?.description)));fe(Se,{assignment:"Ward Business",get name(){return e(I)},get details(){return e(E)}})}var Ce=n(Se,2);{let I=se(()=>(t(),a(()=>t().conduct_stake_business_participant?.name))),E=se(()=>(t(),a(()=>t().conduct_stake_business_participant?.description)));fe(Ce,{assignment:"Stake Business",get name(){return e(I)},get details(){return e(E)}})}o(j);var ye=n(j,2),Oe=c(ye);Ye(Oe,{assignment:"Sacrament Hymn",get title(){return e(v),a(()=>e(v).title)},get page(){return e(v),a(()=>e(v).page)},get language(){return e(v),a(()=>e(v).language)},get link(){return e(v),a(()=>e(v).link)}}),Be(2),o(ye);var Me=n(ye,2),$a=c(Me);{var xa=I=>{var E=Rt();m(I,E)},Pa=I=>{var E=Fe(),Ze=$e(E);{var We=ke=>{var qe=At();m(ke,qe)},ea=ke=>{var qe=Bt(),va=$e(qe);{var ka=ue=>{var Ue=Fe(),aa=$e(Ue);Ee(aa,1,()=>(t(),a(()=>t().participants_before_rest_hymn)),Le,(ta,ve)=>{fe(ta,{get assignment(){return e(ve),a(()=>e(ve).role)},get name(){return e(ve),a(()=>e(ve).name)},get details(){return e(ve),a(()=>e(ve).description)}})}),m(ue,Ue)};K(va,ue=>{t(),a(()=>t().participants_before_rest_hymn?.length)&&ue(ka)})}var ma=n(va,2);{var wa=ue=>{Ye(ue,{assignment:"Rest Hymn",get title(){return e(h),a(()=>e(h).title)},get page(){return e(h),a(()=>e(h).page)},get language(){return e(h),a(()=>e(h).language)},get link(){return e(h),a(()=>e(h).link)}})};K(ma,ue=>{e(h),a(()=>e(h)&&e(h).page!==0)&&ue(wa)})}var Ia=n(ma,2);{var Ta=ue=>{var Ue=Fe(),aa=$e(Ue);Ee(aa,1,()=>(t(),a(()=>t().participants_after_rest_hymn)),Le,(ta,ve)=>{fe(ta,{get assignment(){return e(ve),a(()=>e(ve).role)},get name(){return e(ve),a(()=>e(ve).name)},get details(){return e(ve),a(()=>e(ve).description)}})}),m(ue,Ue)};K(Ia,ue=>{t(),a(()=>t().participants_after_rest_hymn?.length)&&ue(Ta)})}m(ke,qe)};K(Ze,ke=>{e(i)==="primary-program"?ke(We):ke(ea,!1)},!0)}m(I,E)};K($a,I=>{e(i)==="fast-sunday"?I(xa):I(Pa,!1)})}o(Me);var da=n(Me,2),ca=c(da);Ye(ca,{assignment:"Closing Hymn",get title(){return e(l),a(()=>e(l).title)},get page(){return e(l),a(()=>e(l).page)},get language(){return e(l),a(()=>e(l).language)},get link(){return e(l),a(()=>e(l).link)}});var Sa=n(ca,2);{let I=se(()=>(t(),a(()=>t().benediction_participant?.name))),E=se(()=>(t(),a(()=>t().benediction_participant?.description)));fe(Sa,{assignment:"Benediction",get name(){return e(I)},get details(){return e(E)}})}o(da),o(J),Q(()=>{ae(R,`${Z(we),a(()=>we.name)??""} | ${Z(we),a(()=>we.stake)??""}`),ae(g,`${O??""},
					${w??""} to ${M??""}, `),pe(B,"href",a(()=>H?.link)),ae(ne,a(()=>H?.reference))}),m(G,J)};K(z,G=>{t()&&G(te)})}m(D,V),Re(),L()}var jt=P('<button class="nav-link" id="nav-cheat-sheet-tab" data-bs-toggle="tab" data-bs-target="#nav-cheat-sheet" type="button" role="tab" aria-controls="nav-cheat-sheet" aria-selected="false">Cheat Sheet</button>'),Mt=P('<div class="tab-pane fade" id="nav-cheat-sheet" role="tabpanel" aria-labelledby="nav-cheat-sheet-tab" tabindex="0"><div class="d-flex gap-4 flex-column"><!></div></div>'),Wt=P('<nav class="d-print-none"><div class="nav nav-tabs" id="nav-tab" role="tablist"><button class="nav-link active" id="nav-sacrament-program-tab" data-bs-toggle="tab" data-bs-target="#nav-sacrament-program" type="button" role="tab" aria-controls="nav-sacrament-program" aria-selected="true">Program</button> <!> <button class="nav-link" id="nav-announcements-tab" data-bs-toggle="tab" data-bs-target="#nav-announcements" type="button" role="tab" aria-controls="nav-announcements" aria-selected="false">Calendar</button></div></nav> <div class="tab-content" id="nav-tabContent"><div class="tab-pane fade show active" id="nav-sacrament-program" role="tabpanel" aria-labelledby="nav-sacrament-program-tab" tabindex="0"><div class="d-flex gap-4 flex-column"><!> <!> <!> <!> <div class="d-flex flex-column flex-md-row gap-4 olay-info-block svelte-16jl7eu"><!> <!></div></div></div> <!> <div class="tab-pane fade" id="nav-announcements" role="tabpanel" aria-labelledby="nav-announcements-tab" tabindex="0"><div class="d-flex flex-column gap-4"><!> <!></div></div></div>',1);function mn(D,_){De(_,!1);const t=()=>Ne(i,"$currentUserIsAdmin",r),y=()=>Ne(u,"$currentUserIsRoot",r),[r,L]=oa(),{stores:{currentUserIsAdmin:i,currentUserIsRoot:u}}=ya();Ae(),Ga(D,{pageTitle:"Sacrament",children:(v,h)=>{var l=Wt(),S=$e(l),$=c(S),T=n(c($),2);{var F=A=>{var g=jt();m(A,g)};K(T,A=>{(t()||y())&&A(F)})}Be(2),o($),o(S);var C=n(S,2),x=c(C),q=c(x),re=c(q);Lt(re,{});var O=n(re,2);Ka(O,{});var H=n(O,2);Za(H,{});var w=n(H,2);et(w,{});var M=n(w,2),V=c(M);Ja(V,{});var z=n(V,2);Qa(z,{}),o(M),o(q),o(x);var te=n(x,2);{var G=A=>{var g=Mt(),B=c(g),ne=c(B);Oa(ne,{}),o(B),o(g),m(A,g)};K(te,A=>{(t()||y())&&A(G)})}var J=n(te,2),Y=c(J),N=c(Y);Va(N,{});var R=n(N,2);Xa(R,{}),o(Y),o(J),o(C),m(v,l)},$$slots:{default:!0}}),Re(),L()}export{mn as component,vn as universal};
