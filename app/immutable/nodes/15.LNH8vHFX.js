import"../chunks/NZTpNUN0.js";import"../chunks/69_IOA4Y.js";import{p as O,f as R,a as U,g as t,U as n,s as g,c as v,r as u,t as A,aa as E,a8 as e}from"../chunks/D6GkHfO-.js";import{i as h,s as B,e as D}from"../chunks/DYmw-k_K.js";import{c as H,a as m,f as p}from"../chunks/D8wZRsgK.js";import{r as J}from"../chunks/BzM8VPE5.js";import{c as z,s as C,d as G}from"../chunks/vFKQls-f.js";import{b as I}from"../chunks/6wL3GoW6.js";import{p as K}from"../chunks/CdEA5IGF.js";import{i as M}from"../chunks/XlJfi8GN.js";import{L as Q}from"../chunks/f46sgKzV.js";var W=p('<div role="alert"> </div>'),X=p('<form class="d-flex flex-column gap-3"><div><label for="email" class="form-label">Email Address</label> <input type="email" class="form-control" id="email" required/> <div class="form-text">Enter the email address you used to sign up.</div></div> <div class="d-flex justify-content-between"><a href="/auth/login" class="btn btn-link">Back to Login</a> <button type="submit" class="btn btn-primary">Send Verification Email</button></div></form>'),Y=p('<a href="/auth/login" class="btn btn-primary">Return to Login</a>'),Z=p('<div class="container d-flex flex-column gap-3 mt-5 mb-5 svelte-9ylefh"><a href="/home" class="header-content d-flex align-items-center gap-2 text-decoration-none"><img src="/assets/logo.png" alt="logo" class="logo svelte-9ylefh"/> <h1 class="mb-0 h4">Lehi Tolutaha</h1></a> <h2 class="h5">Resend Verification Email</h2> <!> <!></div>');function fe(k,L){O(L,!1);let f=n(!1),c=n(""),r=n(""),l=n("error"),b=n(!1);async function w(){if(e(f,!0),e(r,""),!t(c)){e(r,"Email is required"),e(l,"error"),e(f,!1);return}try{const o=await(await fetch(`${C}/functions/v1/auth-resend-verification`,{method:"POST",headers:G(),body:JSON.stringify({email:t(c)})})).json();o.success?(e(l,"success"),e(r,"Verification email sent! Please check your inbox."),e(b,!0)):(e(l,"error"),e(r,o.error||"Failed to send verification email"))}catch{e(l,"error"),e(r,"Network error. Please try again.")}finally{e(f,!1)}}M();var _=H(),S=R(_);{var V=i=>{Q(i,{message:"Sending verification email..."})},P=i=>{var o=Z(),y=g(v(o),4);{var T=s=>{var a=W(),d=v(a,!0);u(a),A(()=>{z(a,1,`alert alert-${t(l)==="success"?"success":"danger"}`),B(d,t(r))}),m(s,a)};h(y,s=>{t(r)&&s(T)})}var j=g(y,2);{var q=s=>{var a=X(),d=v(a),x=g(v(d),2);J(x),E(2),u(d),E(2),u(a),I(x,()=>t(c),N=>e(c,N)),D("submit",a,K(w)),m(s,a)},F=s=>{var a=Y();m(s,a)};h(j,s=>{t(b)?s(F,!1):s(q)})}u(o),m(i,o)};h(S,i=>{t(f)?i(V):i(P,!1)})}m(k,_),U()}export{fe as component};
