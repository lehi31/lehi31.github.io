import"../chunks/NZTpNUN0.js";import"../chunks/69_IOA4Y.js";import{p as $,f as aa,a as ea,ak as sa,m as a,E as m,D as e,s as i,c as o,e as ta,r as n,F as _,B as ra}from"../chunks/BWCcv1pC.js";import{e as x,i as L,s as ia}from"../chunks/KiCntiD6.js";import{c as la,a as b,f as k}from"../chunks/DqgkBxsg.js";import{a as oa}from"../chunks/C1uGTM31.js";import{r as g}from"../chunks/DJqvlSKH.js";import{d as na,e as M}from"../chunks/B_dwA4Xd.js";import{b as h}from"../chunks/CzDGc265.js";import{p as ca}from"../chunks/CdEA5IGF.js";import{i as da}from"../chunks/BeNQ5BU7.js";import{g as ma}from"../chunks/Du_zg4x4.js";import{L as pa}from"../chunks/BxLtQzFY.js";var ua=k('<div role="alert"><i></i> <div> </div></div>'),fa=k('<div class="input-group"><input type="text" class="form-control" placeholder="At least 8 characters" id="password" aria-describedby="password" required/> <button type="button" class="input-group-text" aria-label="Hide password"><i class="bi bi-eye-slash"></i></button></div>'),va=k('<div class="input-group"><input type="password" class="form-control" placeholder="At least 8 characters" id="password" aria-describedby="password" required/> <button type="button" class="input-group-text" aria-label="Show password"><i class="bi bi-eye"></i></button></div>'),ba=k(`<div class="container d-flex flex-column gap-3 mt-5 mb-5 svelte-k1bqmm"><a href="/home" class="header-content d-flex align-items-center gap-2 text-decoration-none svelte-k1bqmm"><img src="/assets/logo.png" alt="logo" class="logo svelte-k1bqmm"/> <h1 class="mb-0 h4">Lehi Tolutaha</h1></a> <h2 class="h5">Create Account</h2> <p class="text-muted small">Sign up to create an account. You'll need to verify your email before logging in.</p> <!> <form class="d-flex gap-3 flex-column"><div><label for="email" class="form-label">Email address</label> <input type="email" class="form-control" placeholder="your.email@example.com" id="email" aria-describedby="email" required/></div> <div><label for="displayName" class="form-label">Display Name (Optional)</label> <input type="text" class="form-control" placeholder="John Smith" id="displayName" aria-describedby="displayName"/> <small class="text-muted">This will be shown instead of your email</small></div> <div><label for="password" class="form-label">Password</label> <!> <small class="text-muted">Minimum 8 characters</small></div> <div><label for="confirmPassword" class="form-label">Confirm Password</label> <input type="password" class="form-control" placeholder="Re-enter password" id="confirmPassword" aria-describedby="confirmPassword" required/></div> <div class="d-flex justify-content-between align-items-center"><a href="/auth/login" class="btn-link btn">Back to login</a> <button type="submit" class="btn btn-primary">Create Account</button></div></form> <div class="text-center"><small class="text-muted">Already have an account? <a href="/auth/login" class="link-primary">Sign in</a></small></div></div>`);function ga(P,O){$(O,!1);const{actions:{registerWithEmail:V}}=na();let p=m(!1),y=m(""),q=m(""),d=m(""),w=m(""),A=m(!1),c=m(""),f=m("error");const B=async()=>{if(e(p,!0),e(c,""),e(f,"error"),!a(y)||!a(d)||!a(w)){e(c,"Email, password, and password confirmation are required"),e(p,!1);return}if(a(d)!==a(w)){e(c,"Passwords do not match"),e(p,!1);return}if(a(d).length<8){e(c,"Password must be at least 8 characters"),e(p,!1);return}const t=await V(a(y),a(d),a(q));t.success?(e(f,"success"),e(c,"Account created! Please check your email to verify your account."),setTimeout(()=>{ma("/auth/login?verified=pending")},3e3)):(e(f,"error"),e(c,t.error||"Registration failed"),e(p,!1))},R=()=>{e(A,!a(A))},W=t=>{t.key==="Enter"&&B()},Y=t=>{t.focus()};da();var j=la();x("keydown",sa,W);var z=aa(j);{var G=t=>{pa(t,{get message(){return a(c)}})},K=t=>{var S=ba(),F=i(o(S),6);{var Q=s=>{var r=ua(),l=o(r),u=i(l,2),v=o(u,!0);n(u),n(r),ra(()=>{M(r,1,`alert ${a(f)==="success"?"alert-success":"alert-danger"} d-flex align-items-center gap-2`),M(l,1,`bi ${a(f)==="success"?"bi-check-circle-fill":"bi-exclamation-triangle-fill"}`),ia(v,a(c))}),b(s,r)};L(F,s=>{a(c)&&s(Q)})}var E=i(F,2),N=o(E),T=i(o(N),2);g(T),ta(()=>h(T,()=>a(y),s=>e(y,s))),oa(T,s=>Y?.(s)),n(N);var C=i(N,2),H=i(o(C),2);g(H),_(2),n(C);var D=i(C,2),U=i(o(D),2);{var X=s=>{var r=fa(),l=o(r);g(l);var u=i(l,2);n(r),h(l,()=>a(d),v=>e(d,v)),x("click",u,R),b(s,r)},Z=s=>{var r=va(),l=o(r);g(l);var u=i(l,2);n(r),h(l,()=>a(d),v=>e(d,v)),x("click",u,R),b(s,r)};L(U,s=>{a(A)?s(X):s(Z,!1)})}_(2),n(D);var I=i(D,2),J=i(o(I),2);g(J),n(I),_(2),n(E),_(2),n(S),h(H,()=>a(q),s=>e(q,s)),h(J,()=>a(w),s=>e(w,s)),x("submit",E,ca(B)),b(t,S)};L(z,t=>{a(p)?t(G):t(K,!1)})}b(P,j),ea()}function Ca(P){ga(P,{})}export{Ca as component};
