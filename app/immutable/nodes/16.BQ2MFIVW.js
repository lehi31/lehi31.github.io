import{s as D,d as v,i as V,x as H,n as w,b as _,p as f,c as b,e as T,w as C,g as E,h as g,j as L,a as M,f as P,t as N,y as B,z as I,A as S,B as F}from"../chunks/pH736Kvp.js";import{S as O,i as R,t as j,a as q,e as z,d as U,m as J,c as G,b as K,g as Q}from"../chunks/THtqwFCh.js";import{s as W,b as X}from"../chunks/jIfZw83t.js";import{L as Y}from"../chunks/QJNTbXsP.js";function Z(i){let e,t,s='<img src="/assets/logo.png" alt="logo" class="logo svelte-aqjxex"/> <h1 class="mb-0 h4">Lehi Tolutaha</h1>',r,n,a="Resend Verification Email",p,l,o=i[2]&&A(i);function h(c,u){return c[4]?ee:te}let m=h(i),d=m(i);return{c(){e=g("div"),t=g("a"),t.innerHTML=s,r=L(),n=g("h2"),n.textContent=a,p=L(),o&&o.c(),l=L(),d.c(),this.h()},l(c){e=b(c,"DIV",{class:!0});var u=T(e);t=b(u,"A",{href:!0,class:!0,"data-svelte-h":!0}),C(t)!=="svelte-1inzn7"&&(t.innerHTML=s),r=E(u),n=b(u,"H2",{class:!0,"data-svelte-h":!0}),C(n)!=="svelte-1e3v5pe"&&(n.textContent=a),p=E(u),o&&o.l(u),l=E(u),d.l(u),u.forEach(v),this.h()},h(){f(t,"href","/home"),f(t,"class","header-content d-flex align-items-center gap-2 text-decoration-none"),f(n,"class","h5"),f(e,"class","container d-flex flex-column gap-3 mt-5 mb-5 svelte-aqjxex")},m(c,u){V(c,e,u),_(e,t),_(e,r),_(e,n),_(e,p),o&&o.m(e,null),_(e,l),d.m(e,null)},p(c,u){c[2]?o?o.p(c,u):(o=A(c),o.c(),o.m(e,l)):o&&(o.d(1),o=null),m===(m=h(c))&&d?d.p(c,u):(d.d(1),d=m(c),d&&(d.c(),d.m(e,null)))},i:w,o:w,d(c){c&&v(e),o&&o.d(),d.d()}}}function $(i){let e,t;return e=new Y({props:{message:"Sending verification email..."}}),{c(){K(e.$$.fragment)},l(s){G(e.$$.fragment,s)},m(s,r){J(e,s,r),t=!0},p:w,i(s){t||(q(e.$$.fragment,s),t=!0)},o(s){j(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function A(i){let e,t,s;return{c(){e=g("div"),t=N(i[2]),this.h()},l(r){e=b(r,"DIV",{class:!0,role:!0});var n=T(e);t=P(n,i[2]),n.forEach(v),this.h()},h(){f(e,"class",s="alert alert-"+(i[3]==="success"?"success":"danger")),f(e,"role","alert")},m(r,n){V(r,e,n),_(e,t)},p(r,n){n&4&&M(t,r[2]),n&8&&s!==(s="alert alert-"+(r[3]==="success"?"success":"danger"))&&f(e,"class",s)},d(r){r&&v(e)}}}function ee(i){let e,t="Return to Login";return{c(){e=g("a"),e.textContent=t,this.h()},l(s){e=b(s,"A",{href:!0,class:!0,"data-svelte-h":!0}),C(e)!=="svelte-y8wnfv"&&(e.textContent=t),this.h()},h(){f(e,"href","/auth/login"),f(e,"class","btn btn-primary")},m(s,r){V(s,e,r)},p:w,d(s){s&&v(e)}}}function te(i){let e,t,s,r="Email Address",n,a,p,l,o="Enter the email address you used to sign up.",h,m,d='<a href="/auth/login" class="btn btn-link">Back to Login</a> <button type="submit" class="btn btn-primary">Send Verification Email</button>',c,u;return{c(){e=g("form"),t=g("div"),s=g("label"),s.textContent=r,n=L(),a=g("input"),p=L(),l=g("div"),l.textContent=o,h=L(),m=g("div"),m.innerHTML=d,this.h()},l(y){e=b(y,"FORM",{class:!0});var k=T(e);t=b(k,"DIV",{});var x=T(t);s=b(x,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),C(s)!=="svelte-1pc0iwm"&&(s.textContent=r),n=E(x),a=b(x,"INPUT",{type:!0,class:!0,id:!0}),p=E(x),l=b(x,"DIV",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-14cjcbv"&&(l.textContent=o),x.forEach(v),h=E(k),m=b(k,"DIV",{class:!0,"data-svelte-h":!0}),C(m)!=="svelte-5k0qpm"&&(m.innerHTML=d),k.forEach(v),this.h()},h(){f(s,"for","email"),f(s,"class","form-label"),f(a,"type","email"),f(a,"class","form-control"),f(a,"id","email"),a.required=!0,f(l,"class","form-text"),f(m,"class","d-flex justify-content-between"),f(e,"class","d-flex flex-column gap-3")},m(y,k){V(y,e,k),_(e,t),_(t,s),_(t,n),_(t,a),I(a,i[1]),_(t,p),_(t,l),_(e,h),_(e,m),c||(u=[S(a,"input",i[6]),S(e,"submit",F(i[5]))],c=!0)},p(y,k){k&2&&a.value!==y[1]&&I(a,y[1])},d(y){y&&v(e),c=!1,B(u)}}}function se(i){let e,t,s,r;const n=[$,Z],a=[];function p(l,o){return l[0]?0:1}return e=p(i),t=a[e]=n[e](i),{c(){t.c(),s=H()},l(l){t.l(l),s=H()},m(l,o){a[e].m(l,o),V(l,s,o),r=!0},p(l,[o]){let h=e;e=p(l),e===h?a[e].p(l,o):(Q(),j(a[h],1,1,()=>{a[h]=null}),z(),t=a[e],t?t.p(l,o):(t=a[e]=n[e](l),t.c()),q(t,1),t.m(s.parentNode,s))},i(l){r||(q(t),r=!0)},o(l){j(t),r=!1},d(l){l&&v(s),a[e].d(l)}}}function le(i,e,t){let s=!1,r="",n="",a="error",p=!1;async function l(){if(t(0,s=!0),t(2,n=""),!r){t(2,n="Email is required"),t(3,a="error"),t(0,s=!1);return}try{const m=await(await fetch(`${W}/functions/v1/auth-resend-verification`,{method:"POST",headers:X(),body:JSON.stringify({email:r})})).json();m.success?(t(3,a="success"),t(2,n="Verification email sent! Please check your inbox."),t(4,p=!0)):(t(3,a="error"),t(2,n=m.error||"Failed to send verification email"))}catch{t(3,a="error"),t(2,n="Network error. Please try again.")}finally{t(0,s=!1)}}function o(){r=this.value,t(1,r)}return[s,r,n,a,p,l,o]}class ie extends O{constructor(e){super(),R(this,e,le,se,D,{})}}export{ie as component};
