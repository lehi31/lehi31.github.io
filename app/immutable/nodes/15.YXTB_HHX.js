import"../chunks/NZTpNUN0.js";import"../chunks/69_IOA4Y.js";import{p as N,f as O,a as R,d as t,E as n,s as g,c as v,r as u,t as A,F as E,D as e}from"../chunks/DkHtKwEy.js";import{i as h,s as B,e as H}from"../chunks/DJ88wS1R.js";import{c as J,a as f,f as p}from"../chunks/B190dNFg.js";import{r as U}from"../chunks/DSRfHcWV.js";import{e as z,a as C,f as G}from"../chunks/DsQF7ATG.js";import{b as I}from"../chunks/Cf6qqcEk.js";import{p as K}from"../chunks/CdEA5IGF.js";import{i as M}from"../chunks/CrhaOPk_.js";import{L as Q}from"../chunks/9DDX7ArO.js";var W=p('<div role="alert"> </div>'),X=p('<form class="d-flex flex-column gap-3"><div><label for="email" class="form-label">Email Address</label> <input type="email" class="form-control" id="email" required/> <div class="form-text">Enter the email address you used to sign up.</div></div> <div class="d-flex justify-content-between"><a href="/auth/login" class="btn btn-link">Back to Login</a> <button type="submit" class="btn btn-primary">Send Verification Email</button></div></form>'),Y=p('<a href="/auth/login" class="btn btn-primary">Return to Login</a>'),Z=p('<div class="container d-flex flex-column gap-3 mt-5 mb-5 svelte-9ylefh"><a href="/home" class="header-content d-flex align-items-center gap-2 text-decoration-none"><img src="/assets/logo.png" alt="logo" class="logo svelte-9ylefh"/> <h1 class="mb-0 h4">Lehi Tolutaha</h1></a> <h2 class="h5">Resend Verification Email</h2> <!> <!></div>');function me(k,L){N(L,!1);let m=n(!1),c=n(""),r=n(""),l=n("error"),b=n(!1);async function w(){if(e(m,!0),e(r,""),!t(c)){e(r,"Email is required"),e(l,"error"),e(m,!1);return}try{const o=await(await fetch(`${C}/functions/v1/auth-resend-verification`,{method:"POST",headers:G(),body:JSON.stringify({email:t(c)})})).json();o.success?(e(l,"success"),e(r,"Verification email sent! Please check your inbox."),e(b,!0)):(e(l,"error"),e(r,o.error||"Failed to send verification email"))}catch{e(l,"error"),e(r,"Network error. Please try again.")}finally{e(m,!1)}}M();var _=J(),S=O(_);{var V=i=>{Q(i,{message:"Sending verification email..."})},F=i=>{var o=Z(),y=g(v(o),4);{var P=s=>{var a=W(),d=v(a,!0);u(a),A(()=>{z(a,1,`alert alert-${t(l)==="success"?"success":"danger"}`),B(d,t(r))}),f(s,a)};h(y,s=>{t(r)&&s(P)})}var T=g(y,2);{var j=s=>{var a=X(),d=v(a),x=g(v(d),2);U(x),E(2),u(d),E(2),u(a),I(x,()=>t(c),D=>e(c,D)),H("submit",a,K(w)),f(s,a)},q=s=>{var a=Y();f(s,a)};h(T,s=>{t(b)?s(q,!1):s(j)})}u(o),f(i,o)};h(S,i=>{t(m)?i(V):i(F,!1)})}f(k,_),R()}export{me as component};
