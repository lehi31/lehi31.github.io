import{e as X}from"../chunks/pfMRWl6z.js";import"../chunks/NZTpNUN0.js";import{o as Y}from"../chunks/DHXte27T.js";import{p as Z,a as ss,s,c as e,g as r,al as u,r as t,f as T,D as a,t as U,F as es}from"../chunks/CPOcesE7.js";import{d as ts,i as k,s as Q}from"../chunks/opPvMm1W.js";import{f as h,a as c,c as q}from"../chunks/YsHTGu5k.js";import{s as as}from"../chunks/D6oCpGNC.js";import{s as ls}from"../chunks/BtfwFtYe.js";import{P as rs}from"../chunks/DysknW2X.js";const os=!1,is=()=>{throw X(404,"Page not found")},ys=Object.freeze(Object.defineProperty({__proto__:null,load:is,prerender:os},Symbol.toStringTag,{value:"Module"}));var ns=h('<div class="loading svelte-1ps4s4f"><div class="spinner svelte-1ps4s4f"></div> <p class="svelte-1ps4s4f">Generating QR code...</p></div>'),vs=h('<div class="error svelte-1ps4s4f"><h2 class="svelte-1ps4s4f">Error</h2> <p class="svelte-1ps4s4f"> </p> <button class="svelte-1ps4s4f">Try Again</button></div>'),cs=h(`<div class="qr-section svelte-1ps4s4f"><div class="qr-container svelte-1ps4s4f"><img alt="MCP Configuration QR Code" class="svelte-1ps4s4f"/></div> <div class="info svelte-1ps4s4f"><h2 class="svelte-1ps4s4f">Setup Instructions</h2> <ol class="svelte-1ps4s4f"><li class="svelte-1ps4s4f">Open Claude or ChatGPT mobile app</li> <li class="svelte-1ps4s4f">Go to Settings â†’ MCP Servers</li> <li class="svelte-1ps4s4f">Tap "Add Server" or "Scan QR Code"</li> <li class="svelte-1ps4s4f">Scan the QR code above</li> <li class="svelte-1ps4s4f">The ward calendar server will be automatically configured</li></ol> <div class="expiration svelte-1ps4s4f"><strong class="svelte-1ps4s4f">Token Expires:</strong> </div> <button class="regenerate svelte-1ps4s4f">Regenerate QR Code</button></div></div> <div class="manual-setup svelte-1ps4s4f"><h2 class="svelte-1ps4s4f">Manual Configuration (Optional)</h2> <p class="svelte-1ps4s4f">If QR code scanning doesn't work, you can manually configure the MCP server:</p> <div class="config-code svelte-1ps4s4f"><pre class="svelte-1ps4s4f"> </pre></div> <button class="svelte-1ps4s4f">Copy Configuration</button></div> <div class="usage-guide svelte-1ps4s4f"><h2 class="svelte-1ps4s4f">How to Use</h2> <p class="svelte-1ps4s4f">Once configured, you can ask Claude or ChatGPT to:</p> <ul class="svelte-1ps4s4f"><li class="svelte-1ps4s4f">List upcoming ward events</li> <li class="svelte-1ps4s4f">Create new calendar events</li> <li class="svelte-1ps4s4f">Update existing events</li> <li class="svelte-1ps4s4f">Manage announcements</li> <li class="svelte-1ps4s4f">Upload attachments to events</li></ul> <p class="svelte-1ps4s4f"><strong class="svelte-1ps4s4f">Example prompts:</strong></p> <ul class="svelte-1ps4s4f"><li class="svelte-1ps4s4f">"Show me all events this week"</li> <li class="svelte-1ps4s4f">"Create a Relief Society activity for next Saturday at 10 AM"</li> <li class="svelte-1ps4s4f">"List all pinned announcements"</li> <li class="svelte-1ps4s4f">"Update the Primary activity to start at 11 AM instead"</li></ul></div>`,1),ps=h('<div class="container svelte-1ps4s4f"><div class="header svelte-1ps4s4f"><h1 class="svelte-1ps4s4f">MCP Mobile Setup</h1> <p class="svelte-1ps4s4f">Configure Claude or ChatGPT mobile app to access the ward calendar</p></div> <!></div>');function Ss(L,$){Z($,!0);let g=u(!0),p=u(""),b=u(""),C=u(null),O=u("");async function y(){a(g,!0),a(p,"");try{const l=localStorage.getItem("authToken");if(!l){a(p,"Please log in to generate a QR code"),a(g,!1);return}const m=await fetch(`${ls}/functions/v1/mcp-mobile-setup`,{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});if(!m.ok){const S=await m.json();throw new Error(S.message||"Failed to generate QR code")}const o=await m.json();a(b,o.qr_code,!0),a(C,o.config,!0),a(O,new Date(o.expires_at).toLocaleString(),!0)}catch(l){console.error("Error generating QR code:",l),a(p,l instanceof Error?l.message:"Failed to generate QR code",!0)}finally{a(g,!1)}}Y(()=>{y()}),rs(L,{pageTitle:"MCP Mobile Setup",children:(l,m)=>{var o=ps(),S=s(e(o),2);{var D=i=>{var _=ns();c(i,_)},F=i=>{var _=q(),I=T(_);{var z=n=>{var v=vs(),f=s(e(v),2),w=e(f,!0);t(f);var d=s(f,2);d.__click=y,t(v),U(()=>Q(w,r(p))),c(n,v)},J=n=>{var v=q(),f=T(v);{var w=d=>{var A=cs(),P=T(A),x=e(P),N=e(x);t(x);var E=s(x,2),M=s(e(E),4),B=s(e(M));t(M);var H=s(M,2);H.__click=y,t(E),t(P);var j=s(P,2),R=s(e(j),4),G=e(R),K=e(G,!0);t(G),t(R);var V=s(R,2);V.__click=()=>{navigator.clipboard.writeText(JSON.stringify(r(C),null,2)),alert("Configuration copied to clipboard!")},t(j),es(2),U(W=>{as(N,"src",r(b)),Q(B,` ${r(O)??""}`),Q(K,W)},[()=>JSON.stringify(r(C),null,2)]),c(d,A)};k(f,d=>{r(b)&&d(w)},!0)}c(n,v)};k(I,n=>{r(p)?n(z):n(J,!1)},!0)}c(i,_)};k(S,i=>{r(g)?i(D):i(F,!1)})}t(o),c(l,o)},$$slots:{default:!0}}),ss()}ts(["click"]);export{Ss as component,ys as universal};
