import"../chunks/NZTpNUN0.js";import"../chunks/69_IOA4Y.js";import{c as d,r as l,s,t as J,p as De,E as k,x as Je,D as f,ah as Z,g as e,o as X,ai as Ve,u as a,F as Be,a as Ae,as as Pe,f as $e,i as Qe,R as re}from"../chunks/D2Wl5k_M.js";import{f as P,a as m,c as Oe,t as ie}from"../chunks/DfqsuKYE.js";import{p as U,s as ee,i as G,e as xe,a as Ne,b as la,q as le}from"../chunks/Dp64CMOB.js";import{i as Re}from"../chunks/CPbJ_PqI.js";import{o as Xe,a as Ha}from"../chunks/DB0qkhVq.js";import{e as Ee,i as Le}from"../chunks/DrikPB-j.js";import{s as pe,r as Ge,b as ia}from"../chunks/DGqGryaB.js";import{t as ba,e as de,d as ya,h as Ca,P as Na,W as we}from"../chunks/O7waypZ2.js";import{b as na,a as Da}from"../chunks/CMEL2kP5.js";import{b as ra}from"../chunks/vhQtniU6.js";import{P as ga,u as Aa,H as oe,a as Ra,b as Ba,c as pa,d as Ea,e as La,f as ja,g as ua,h as _a,B as sa,i as Ma,j as Ua,k as Fa,l as ha,m as Oa,S as Ie,n as Te,o as ze,C as Wa}from"../chunks/D5DISGO1.js";import{S as oa}from"../chunks/C4FGAEp5.js";import{t as je}from"../chunks/r7-tBYgy.js";import{A as qa,a as ce}from"../chunks/CiPWitD5.js";import{D as za}from"../chunks/DGhOfXo0.js";import{a as Ya}from"../chunks/CLBoo4lD.js";import{P as Ka}from"../chunks/DoY8txIz.js";import{W as Ga,S as Ja}from"../chunks/QI2lA8dZ.js";import{A as Qa,E as Va}from"../chunks/QPeC-2H8.js";function Xa(A){return ba(A).getDay()===0}function Za(A){return ba(A).getDay()}function et(A,_){let t=_-Za(A);return t<=0&&(t+=7),Ya(A,t)}function at(A){return et(A,0)}const tt=!0,sn=Object.freeze(Object.defineProperty({__proto__:null,prerender:tt},Symbol.toStringTag,{value:"Module"}));var nt=P('<div class="d-flex justify-content-between"><div> </div> <div class="text-end"> <br/> <div class="d-flex align-items-center justify-content-end flex-row gap-2"><small class="small fw-lighter"> </small> <a class="btn btn-primary btn-sm d-print-none" target="_blank" tabindex="-1" role="button" style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: .70rem;">Lyrics</a></div></div></div>');function Ye(A,_){let t=U(_,"assignment",8,""),y=U(_,"title",8,""),n=U(_,"language",8,""),E=U(_,"page",8,0),i=U(_,"link",8,"");var p=nt(),v=d(p),h=d(v,!0);l(v);var o=s(v,2),S=d(o,!0),$=s(S,3),H=d($),F=d(H);l(H);var N=s(H,2);l($),l(o),l(p),J(()=>{ee(h,t()),ee(S,y()),ee(F,`${n()??""} Hymn No. ${E()??""}`),pe(N,"href",i())}),m(A,p)}var rt=P('<div class="d-flex justify-content-between"><div> </div> <div class="text-end"> <br/> <em class="small fw-lighter"> </em></div></div>');function fe(A,_){let t=U(_,"assignment",8,""),y=U(_,"name",8,""),n=U(_,"details",8,"");var E=rt(),i=d(E),p=d(i,!0);l(i);var v=s(i,2),h=d(v,!0),o=s(h,3),S=d(o,!0);l(o),l(v),l(E),J(()=>{ee(p,t()),ee(h,y()),ee(S,n())}),m(A,E)}var st=P("<div><strong> </strong></div>"),it=P("<span> </span>"),lt=P("<div><small><em>Presets</em></small> <div></div></div>"),ot=P('<div class="d-flex flex-column gap-2"><div>Role</div> <input type="text" placeholder="Participant role" required/> <small class="fw-lighter fst-italic">Participant sacrament role. i.e. Speaker, Musical number, Pianist</small></div>'),ct=P('<span class="position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle"><span class="visually-hidden">Item not saved</span></span>'),dt=P('<div class="wrapper d-flex flex-column gap-4"><!> <!> <!> <div class="d-flex flex-column gap-2"><div>Name</div> <input type="text" placeholder="Participant name" required/> <small class="fw-lighter fst-italic">Participant name. i.e. Brother John Smith</small></div> <div class="d-flex flex-column gap-2"><div>Description</div> <input type="text" placeholder="Participant description" required/> <small class="fw-lighter fst-italic">Participant Calling or Title. i.e. Ward Member, Sunday School Teacher</small></div> <div class="d-flex justify-content-end align-items-center gap-2 flex-row"><small> </small> <span><!></span> <button class="btn btn-primary position-relative"><span>Save</span> <!></button></div></div>');function he(A,_){De(_,!1);const t=k(),y=k(),n=k(),E=k(),i=k();let p=U(_,"label",8,""),v=U(_,"editableRole",8,!1),h=U(_,"presets",24,()=>[]),o=U(_,"participant",28,()=>({name:"",description:"",role:ga.Unknown})),S=k(!1),$=o().id,H=k(),F=k(),N=k(),x=k({message:"",type:"info"}),z=k({name:"",description:"",role:ga.Unknown});const ne=g=>{o({...g,id:$})},O=(g,L=0,M="info")=>{Pe(x,e(x).message=g),Pe(x,e(x).type=M),L&&setTimeout(()=>{Pe(x,e(x).message="")},L)},C=async()=>{if(!e(t)){O("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}if(!$){O("ID is not defined",0,"danger");return}if(!e(i)){let g=[];e(n)&&g.push("Name is invalid"),e(E)&&g.push("Description is invalid"),O(g.join(". ")+".  Please address accordingly.",0,"danger")}try{O("Saving ..."),f(S,!0);const g={description:o().description,member_given_name:o().name,role:v()?o().role:p()};await Aa($,g),console.log("Participant updated successfully"),je("set_sacrament_participant_success","interaction",`Set Sacrament Participant Successful ${v()?o().role:p()}`,1),setTimeout(()=>{f(S,!1),f(z,{...o(),id:$}),O("Saved",3e3,"success")},800)}catch(g){je("set_sacrament_participant_failed","interaction",`Set Sacrament Participant Failed ${v()?o().role:p()}`,1),setTimeout(()=>{f(S,!1),console.error("Participant update failed",g),O("Save failed, please reload browser and try again.",7e3,"danger")},800)}};Xe(async()=>{await Je(),f(z,{...o(),id:$})}),Z(()=>(e(z),X(o())),()=>{f(t,e(z).role!==o().role||e(z).name!==o().name||e(z).description!==o().description)}),Z(()=>X(o()),()=>{f(y,o().role==="")}),Z(()=>X(o()),()=>{f(n,o().name==="")}),Z(()=>X(o()),()=>{f(E,o().description==="")}),Z(()=>X(o()),()=>{f(i,!!($&&o()&&o().name.length&&o().description.length))}),Ve(),Re();var T=dt(),j=d(T);{var ae=g=>{var L=st(),M=d(L),_e=d(M,!0);l(M),l(L),J(()=>ee(_e,p())),m(g,L)};G(j,g=>{p()&&g(ae)})}var q=s(j,2);{var te=g=>{var L=lt();let M;var _e=s(d(L),2);Ee(_e,5,h,Le,(Se,Ce)=>{var ye=it();let We;var Me=d(ye,!0);l(ye),J(()=>{We=de(ye,1,"badge me-2 cursor-pointer svelte-mo0ot3",null,We,{"text-bg-secondary":e(Ce).description!==o().description,"text-bg-warning":e(Ce).description===o().description}),ee(Me,(e(Ce),a(()=>e(Ce).description)))}),xe("click",ye,()=>ne(e(Ce))),m(Se,ye)}),l(_e),l(L),J(()=>M=de(L,1,"",null,M,{loading:e(S)})),m(g,L)};G(q,g=>{X(h()),a(()=>h()?.length)&&g(te)})}var Y=s(q,2);{var Q=g=>{var L=ot(),M=s(d(L),2);Ge(M);let _e;ra(M,Se=>f(H,Se),()=>e(H)),Be(2),l(L),J(()=>{pe(M,"name",`${p()??""}-role`),_e=de(M,1,"form-control",null,_e,{"is-invalid":e(y)}),M.disabled=e(S)}),xe("focus",M,()=>e(H).select()),na(M,()=>o().role,Se=>o(o().role=Se,!0)),m(g,L)};G(Y,g=>{v()&&g(Q)})}var R=s(Y,2),w=s(d(R),2);Ge(w);let D;ra(w,g=>f(F,g),()=>e(F)),Be(2),l(R);var K=s(R,2),u=s(d(K),2);Ge(u);let W;ra(u,g=>f(N,g),()=>e(N)),Be(2),l(K);var se=s(K,2),r=d(se),b=d(r,!0);l(r);var c=s(r,2);let He;var me=d(c);oa(me,{size:"xs"}),l(c);var be=s(c,2),ge=s(d(be),2);{var V=g=>{var L=ct();m(g,L)};G(ge,g=>{e(t)&&g(V)})}l(be),l(se),l(T),J(()=>{pe(w,"name",`${p()??""}-name`),D=de(w,1,"form-control",null,D,{"is-invalid":e(n)}),w.disabled=e(S),pe(u,"name",`${p()??""}-description`),W=de(u,1,"form-control",null,W,{"is-invalid":e(E)}),u.disabled=e(S),de(r,1,`fw-lighter fst-italic text-${e(x),a(()=>e(x).type)??""}`,"svelte-mo0ot3"),ee(b,(e(x),a(()=>e(x).message))),He=de(c,1,"",null,He,{"d-none":!e(S)})}),xe("focus",w,()=>e(F).select()),na(w,()=>o().name,g=>o(o().name=g,!0)),xe("focus",u,()=>e(N).select()),na(u,()=>o().description,g=>o(o().description=g,!0)),xe("click",be,C),m(A,T),Ae()}var vt=P('<div><div class="form-check"><input class="form-check-input" type="checkbox"/> <label class="form-check-label">None</label></div> <small class="fw-lighter fst-italic">Check if this hymn is not needed</small></div>'),mt=P("<option> </option>"),gt=P("<option> </option>"),pt=P('<div class="d-flex flex-column gap-2"><div>Language</div> <select aria-label="Hymn Language"><option selected></option><!></select></div> <div class="d-flex flex-column gap-2"><div>Hymn</div> <select aria-label="Hymn List"></select></div>',1),ut=P('<span class="position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle"><span class="visually-hidden">Item not saved</span></span>'),_t=P('<div class="d-flex flex-column gap-4"><!> <!> <div class="d-flex justify-content-end align-items-center gap-2 flex-row"><small> </small> <span><!></span> <button type="button" class="btn btn btn-primary position-relative"><span>Save</span> <!></button></div></div>');function Ke(A,_){De(_,!1);const t=k(),y=k(),n=k(),E=k();let i=U(_,"hymn",28,()=>({page_number:0,language:oe.English})),p=U(_,"name",8,""),v=U(_,"nullable",8,!1),h=i().id,o=k(!1),S=k(!1),$=k({message:"",type:"info"}),H=k({page_number:0,language:oe.English});const F=[{label:"English",value:oe.English},{label:"Tongan",value:oe.Tongan},{label:"Samoan",value:oe.Samoan}];let N=k([]);const x=(u,W=0,se="info")=>{Pe($,e($).message=u),Pe($,e($).type=se),W&&setTimeout(()=>{Pe($,e($).message="")},W)},z=async()=>{if(!e(t)){x("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}if(!h){x("ID is not defined",0,"danger");return}if(!e(S)){let u=[];e(n)&&u.push("Page number is invalid"),e(y)&&u.push("Language is invalid"),x(u.join(". ")+".  Please address accordingly.",0,"danger");return}try{x("Saving ..."),f(o,!0);const u={page_number:i().blank?0:i().page_number,language:i().blank?oe.None:i().language,blank:i().blank};await Ea(h,u),console.log("Hymn updated successfully"),je("set_sacrament_hymn_success","interaction",`Set Sacrament Hymn Successful: Page:${i().blank?0:i().page_number} | Lang:${i().blank?oe.None:i().language}`,1),setTimeout(()=>{f(o,!1),f(H,{...i(),id:h}),x("Saved",3e3,"success")},800)}catch(u){je("set_sacrament_hymn_failed","interaction",`Set Sacrament Hymn Failed: Page:${i().blank?0:i().page_number} | Lang:${i().blank?oe.None:i().language}`,1),setTimeout(()=>{f(o,!1),console.error("Hymn update failed",u),x("Save failed, please reload browser and try again.",7e3,"danger")},800)}};Xe(async()=>{await Je(),f(H,{...i(),id:h})}),Z(()=>(e(H),X(i())),()=>{f(t,e(H).page_number!==i().page_number||e(H).language!==i().language||e(H).blank!==i().blank)}),Z(()=>(X(i()),oe),()=>{f(y,i().language===oe.None)}),Z(()=>X(i()),()=>{f(n,i().page_number===0)}),Z(()=>(X(i()),e(y),e(n)),()=>{f(S,i().blank||!!(h&&!i().blank&&!e(y)&&!e(n)))}),Z(()=>(X(i()),oe),()=>{i().blank&&(i(i().page_number=0,!0),i(i().language=oe.None,!0))}),Z(()=>(X(i()),pa),()=>{i().language===oe.English?f(N,Ra):i().language===oe.Samoan?f(N,Ba):i().language===oe.Tongan&&f(N,pa)}),Z(()=>e(N),()=>{f(E,e(N).map(u=>({label:`${u.page}. ${u.title}`,value:u.page})))}),Ve(),Re();var ne=_t(),O=d(ne);{var C=u=>{var W=vt(),se=d(W),r=d(se);Ge(r);var b=s(r,2);l(se),Be(2),l(W),J(()=>{pe(r,"name",`${p()??""}-none-check`),pe(b,"for",`${p()??""}-none-check`)}),Da(r,()=>i().blank,c=>i(i().blank=c,!0)),m(u,W)};G(O,u=>{v()&&u(C)})}var T=s(O,2);{var j=u=>{var W=pt(),se=$e(W),r=s(d(se),2);J(()=>{i(),Qe(()=>{p(),e(o),e(y)})});let b;var c=s(d(r));Ee(c,1,()=>F,Le,(ge,V)=>{var g=mt(),L=d(g,!0);l(g);var M={};J(()=>{ee(L,(e(V),a(()=>e(V).label))),M!==(M=(e(V),a(()=>e(V).value)))&&(g.value=(g.__value=(e(V),a(()=>e(V).value)))??"")}),m(ge,g)}),l(r),l(se);var He=s(se,2),me=s(d(He),2);J(()=>{i(),Qe(()=>{p(),e(o),e(n),e(E)})});let be;Ee(me,5,()=>e(E),Le,(ge,V)=>{var g=gt(),L=d(g,!0);l(g);var M={};J(()=>{ee(L,(e(V),a(()=>e(V).label))),M!==(M=(e(V),a(()=>e(V).value)))&&(g.value=(g.__value=(e(V),a(()=>e(V).value)))??"")}),m(ge,g)}),l(me),l(He),J(()=>{b=de(r,1,"form-select",null,b,{"is-invalid":e(y)}),pe(r,"name",`${p()??""}-language`),r.disabled=e(o),be=de(me,1,"form-select",null,be,{"is-invalid":e(n)}),pe(me,"name",p()),me.disabled=(e(o),X(i()),a(()=>e(o)||!i().language))}),ia(r,()=>i().language,ge=>i(i().language=ge,!0)),ia(me,()=>i().page_number,ge=>i(i().page_number=ge,!0)),m(u,W)};G(T,u=>{X(i()),a(()=>!i().blank)&&u(j)})}var ae=s(T,2),q=d(ae),te=d(q,!0);l(q);var Y=s(q,2);let Q;var R=d(Y);oa(R,{size:"xs"}),l(Y);var w=s(Y,2),D=s(d(w),2);{var K=u=>{var W=ut();m(u,W)};G(D,u=>{e(t)&&u(K)})}l(w),l(ae),l(ne),J(()=>{de(q,1,`fw-lighter fst-italic text-${e($),a(()=>e($).type)??""}`),ee(te,(e($),a(()=>e($).message))),Q=de(Y,1,"",null,Q,{"d-none":!e(o)})}),xe("click",w,z),m(A,ne),Ae()}var ft=P("<div>loading ...</div>"),bt=P('<div class="d-flex flex-row gap-2"><div class="d-flex align-items-start"><div class="cursor-pointer text-danger-emphasis svelte-1lpd9wu"><i class="bi bi-dash-circle"></i></div></div> <!></div>'),yt=P('<div class="d-flex flex-column gap-2"><div></div> <div>No Participants</div></div>'),ht=P('<div class="d-flex flex-column gap-2"><div class="d-flex justify-content-between"><div> </div> <div><div class="cursor-pointer text-success-emphasis svelte-1lpd9wu"><i class="bi bi-plus-circle"></i></div></div></div> <!></div>');function fa(A,_){De(_,!1);let t=U(_,"sacramentProgramId",8,0),y=U(_,"participants",28,()=>[]),n=U(_,"position",8,"after-rest-hymn"),E=U(_,"label",8,""),i=U(_,"max",8,50),p=k(!1);const v=async()=>{if(y().length>=i())return;f(p,!0);const C={description:sa.description,member_given_name:sa.name,role:sa.role},T=await La(C);if(!T?.id)return;const j={sacrament_program_id:t(),participant_id:T.id,position:n(),sort_index:y().length};await ja(j),y(await ua(t(),n())),await Je(),f(p,!1)},h=async C=>{f(p,!0);const T=y()[C];T?.id&&(await Ma(t(),T.id),await Ua(T.id),y(await ua(t(),n())),await Je(),f(p,!1))},o=C=>{h(C)};Re();var S=ht(),$=d(S),H=d($),F=d(H,!0);l(H);var N=s(H,2),x=d(N);l(N),l($);var z=s($,2);{var ne=C=>{var T=ft();m(C,T)},O=C=>{var T=yt(),j=d(T);let ae;Ee(j,5,y,Le,(Y,Q,R)=>{var w=bt(),D=d(w),K=d(D);l(D);var u=s(D,2);he(u,{label:"Participant",get presets(){return X(_a),a(()=>_a.speaker)},editableRole:!0,get participant(){return y()[R]},set participant(W){y()[R]=W,Qe(()=>y())},$$legacy:!0}),l(w),xe("click",K,()=>o(R)),m(Y,w)}),l(j);var q=s(j,2);let te;l(T),J(()=>{ae=de(j,1,"flex-column gap-3",null,ae,{"d-none":y().length===0,"d-flex":y().length>0}),te=de(q,1,"bg-body-tertiary p-3",null,te,{"d-none":y().length>0,"d-block":y().length===0})}),m(C,T)};G(z,C=>{e(p)?C(ne):C(O,!1)})}l(S),J(()=>ee(F,E())),xe("click",x,v),m(A,S),Ae()}var $t=P('<span class="position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle"><span class="visually-hidden">Item not saved</span></span>'),xt=P('<div class="d-flex flex-column gap-2"><div><label class="form-label"> </label> <select class="form-select"><option>Regular Program</option><option>Fast Sunday</option><option>Primary Program</option><option>Ward Conference</option></select></div> <div class="d-flex justify-content-end align-items-center gap-2 flex-row"><small> </small> <span><!></span> <button class="btn btn-primary position-relative"><span>Save</span> <!></button></div></div>');function Pt(A,_){De(_,!1);const t=k();let y=U(_,"sacramentProgramId",8,0),n=U(_,"programType",12,"regular"),E=U(_,"label",8,"Program Type"),i=U(_,"name",8,""),p=k(!1),v=k({message:"",type:"info"}),h=k(n());const o=(D,K=0,u="info")=>{Pe(v,e(v).message=D),Pe(v,e(v).type=u),K&&setTimeout(()=>{Pe(v,e(v).message="")},K)},S=async()=>{if(!e(t)){o("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}try{o("Saving ..."),f(p,!0);const D={program_type:n()};await Fa(y(),D),console.log("Sacrament Program Type updated successfully"),je("set_sacrament_program_type_success","interaction",`Set Sacrament Program Type Successful ${n()}`,1),setTimeout(()=>{f(p,!1),f(h,n()),o("Saved",3e3,"success")},800)}catch(D){je("set_sacrament_program_type_failed","interaction",`Set Sacrament Program Type Failed ${n()}`,1),setTimeout(()=>{f(p,!1),console.error("Sacrament Program update failed",D),o("Save failed, please reload browser and try again.",7e3,"danger")},800)}};Z(()=>(e(h),X(n())),()=>{f(t,e(h)!==n())}),Ve(),Re();var $=xt(),H=d($),F=d(H),N=d(F,!0);l(F);var x=s(F,2);J(()=>{n(),Qe(()=>{i()})});var z=d(x);z.value=z.__value="regular";var ne=s(z);ne.value=ne.__value="fast-sunday";var O=s(ne);O.value=O.__value="primary-program";var C=s(O);C.value=C.__value="ward-conference",l(x),l(H);var T=s(H,2),j=d(T),ae=d(j,!0);l(j);var q=s(j,2);let te;var Y=d(q);oa(Y,{size:"xs"}),l(q);var Q=s(q,2),R=s(d(Q),2);{var w=D=>{var K=$t();m(D,K)};G(R,D=>{e(t)&&D(w)})}l(Q),l(T),l($),J(()=>{pe(F,"for",`${i()??""}-program-type`),ee(N,E()),pe(x,"id",`${i()??""}-program-type`),pe(x,"name",`${i()??""}-program-type`),de(j,1,`fw-lighter fst-italic text-${e(v),a(()=>e(v).type)??""}`),ee(ae,(e(v),a(()=>e(v).message))),te=de(q,1,"",null,te,{"d-none":!e(p)})}),ia(x,n),xe("click",Q,S),m(A,$),Ae()}var St=P("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),kt=P('<div class="d-flex flex-column gap-4"><!></div>');function wt(A,_){De(_,!1);const t=()=>Ne(p,"$ready",E),y=()=>Ne(h,"$currentSacramentId",E),n=()=>Ne(v,"$data",E),[E,i]=la(),{stores:{ready:p,data:v,currentSacramentId:h},actions:{init:o}}=ha();Xe(o),Ha(Oa),Re();var S=Oe(),$=$e(S);{var H=F=>{var N=kt(),x=d(N);qa(x,{id:"sacrament-form",children:(z,ne)=>{var O=St(),C=$e(O);ce(C,{id:"testimony-sunday",$$slots:{heading:(r,b)=>{var c=ie("Program Type");m(r,c)},body:(r,b)=>{Pt(r,{get sacramentProgramId(){return y()},name:"testimony-sunday",label:"Select the type of Sacrament Program",get programType(){return n().program_type},set programType(c){le(v,a(n).program_type=c,a(n))},$$legacy:!0})}}});var T=s(C,2);ce(T,{id:"presiding",$$slots:{heading:(r,b)=>{var c=ie("Presiding");m(r,c)},body:(r,b)=>{he(r,{label:"Presiding",get presets(){return Ie.presiding},get participant(){return n().presiding_participant},set participant(c){le(v,a(n).presiding_participant=c,a(n))},$$legacy:!0})}}});var j=s(T,2);ce(j,{id:"conducting",$$slots:{heading:(r,b)=>{var c=ie("Conducting");m(r,c)},body:(r,b)=>{he(r,{label:"Conducting",get presets(){return Ie.conducting},get participant(){return n().conducting_participant},set participant(c){le(v,a(n).conducting_participant=c,a(n))},$$legacy:!0})}}});var ae=s(j,2);ce(ae,{id:"chorister",$$slots:{heading:(r,b)=>{var c=ie("Chorister");m(r,c)},body:(r,b)=>{he(r,{label:"Chorister",get presets(){return Ie.chorister},get participant(){return n().chorister_participant},set participant(c){le(v,a(n).chorister_participant=c,a(n))},$$legacy:!0})}}});var q=s(ae,2);ce(q,{id:"organist",$$slots:{heading:(r,b)=>{var c=ie("Organist");m(r,c)},body:(r,b)=>{he(r,{label:"Organist",get presets(){return Ie.organist},get participant(){return n().organist_participant},set participant(c){le(v,a(n).organist_participant=c,a(n))},$$legacy:!0})}}});var te=s(q,2);ce(te,{id:"opening-hymn",$$slots:{heading:(r,b)=>{var c=ie("Opening Hymn");m(r,c)},body:(r,b)=>{Ke(r,{name:"sacrament-form-opening-hymn",get hymn(){return n().opening_hymn},set hymn(c){le(v,a(n).opening_hymn=c,a(n))},$$legacy:!0})}}});var Y=s(te,2);ce(Y,{id:"invocation",$$slots:{heading:(r,b)=>{var c=ie("Invocation");m(r,c)},body:(r,b)=>{he(r,{label:"Invocation",get presets(){return Ie.prayer},get participant(){return n().invocation_participant},set participant(c){le(v,a(n).invocation_participant=c,a(n))},$$legacy:!0})}}});var Q=s(Y,2);ce(Q,{id:"conducting-ward-business",$$slots:{heading:(r,b)=>{var c=ie("Conducting Ward Business");m(r,c)},body:(r,b)=>{he(r,{label:"Conducting Ward Business",get presets(){return Ie.wardBusiness},get participant(){return n().conduct_ward_business_participant},set participant(c){le(v,a(n).conduct_ward_business_participant=c,a(n))},$$legacy:!0})}}});var R=s(Q,2);ce(R,{id:"conducting-stake-business",$$slots:{heading:(r,b)=>{var c=ie("Conducting Stake Business");m(r,c)},body:(r,b)=>{he(r,{label:"Conducting Stake Business",get presets(){return Ie.stakeBusiness},get participant(){return n().conduct_stake_business_participant},set participant(c){le(v,a(n).conduct_stake_business_participant=c,a(n))},$$legacy:!0})}}});var w=s(R,2);ce(w,{id:"sacrament-hymn",$$slots:{heading:(r,b)=>{var c=ie("Sacrament Hymn");m(r,c)},body:(r,b)=>{Ke(r,{name:"sacrament-form-sacrament-hymn",get hymn(){return n().sacrament_hymn},set hymn(c){le(v,a(n).sacrament_hymn=c,a(n))},$$legacy:!0})}}});var D=s(w,2);ce(D,{id:"participants-before-rest-hymn",$$slots:{heading:(r,b)=>{var c=ie("Participants before rest hymn");m(r,c)},body:(r,b)=>{fa(r,{label:"Participants before rest hymn",position:"before-rest-hymn",sacramentProgramId:1,get participants(){return n().participants_before_rest_hymn},set participants(c){le(v,a(n).participants_before_rest_hymn=c,a(n))},$$legacy:!0})}}});var K=s(D,2);ce(K,{id:"rest-hymn",$$slots:{heading:(r,b)=>{var c=ie("Rest Hymn");m(r,c)},body:(r,b)=>{Ke(r,{name:"sacrament-form-rest-hymn",nullable:!0,get hymn(){return n().rest_hymn},set hymn(c){le(v,a(n).rest_hymn=c,a(n))},$$legacy:!0})}}});var u=s(K,2);ce(u,{id:"participants-after-rest-hymn",$$slots:{heading:(r,b)=>{var c=ie("Participants after rest hymn");m(r,c)},body:(r,b)=>{fa(r,{label:"Participants after rest hymn",position:"after-rest-hymn",sacramentProgramId:1,get participants(){return n().participants_after_rest_hymn},set participants(c){le(v,a(n).participants_after_rest_hymn=c,a(n))},$$legacy:!0})}}});var W=s(u,2);ce(W,{id:"closing-hymn",$$slots:{heading:(r,b)=>{var c=ie("Closing Hymn");m(r,c)},body:(r,b)=>{Ke(r,{name:"sacrament-form-closing-hymn",get hymn(){return n().closing_hymn},set hymn(c){le(v,a(n).closing_hymn=c,a(n))},$$legacy:!0})}}});var se=s(W,2);ce(se,{id:"benediction",$$slots:{heading:(r,b)=>{var c=ie("Benediction");m(r,c)},body:(r,b)=>{he(r,{label:"Benediction",get presets(){return Ie.prayer},get participant(){return n().benediction_participant},set participant(c){le(v,a(n).benediction_participant=c,a(n))},$$legacy:!0})}}}),m(z,O)},$$slots:{default:!0}}),l(N),m(F,N)};G($,F=>{t()&&F(H)})}m(A,S),Ae(),i()}var It=P('<i slot="label" class="bi bi-pencil-square"></i>'),Tt=P("<div><!></div>"),Ht=P('<div class="text-center border-top pt-3"><h5>Ward Conference</h5></div>'),Ct=P('<div class="text-center"><h5>Fast Sunday: Bearing of Testimonies</h5></div>'),Nt=P('<div class="text-center"><h5>Primary Program</h5></div>'),Dt=P("<!> <!> <!>",1),At=P('<div><div class="d-flex justify-content-between"><p class="w-75"> <br/> <small> <a target="_blank"> </a></small></p> <!></div> <!> <div class="d-flex flex-column gap-1 border-top pt-3"><!> <!> <!> <!></div> <div class="d-flex flex-column gap-1 border-top pt-3"><!> <!> <!> <!></div> <div class="d-flex flex-column gap-1 border-top pt-3"><!> <div class="text-center"><h5>Administration of Sacrament</h5></div></div> <div class="d-flex flex-column gap-1 border-top pt-3"><!></div> <div class="d-flex flex-column gap-1 border-top pt-3"><!> <!></div></div>');function Rt(A,_){De(_,!1);const t=()=>Ne($,"$sacramentData",n),y=()=>Ne(H,"$currentUserHasPermission",n),[n,E]=la(),i=k(),p=k(),v=k(),h=k(),o=k(),{actions:{init:S},stores:{data:$}}=ha(),{stores:{currentUserHasPermission:H}}=ya();let F=k(!1);const N=new Date,x=Xa(N),z=at(N),O=Ca(x?N:z,"cccc dd MMM"),C={reference:we.chapel.address.full,link:we.chapel.mapLink},T=we.meetingTimes.sacrament.start,j=we.meetingTimes.sacrament.end;Xe(async()=>{await S(),f(F,y()(Na.EditSacramentPrograms))}),Z(()=>t(),()=>{f(i,t()?.program_type||"regular")}),Z(()=>(t(),Te),()=>{f(p,t()?.opening_hymn?ze(t().opening_hymn?.page_number,t().opening_hymn.language):Te)}),Z(()=>(t(),Te),()=>{f(v,t()?.sacrament_hymn?ze(t().sacrament_hymn?.page_number,t().sacrament_hymn.language):Te)}),Z(()=>(t(),Te),()=>{f(h,t()?.rest_hymn?ze(t()?.rest_hymn?.page_number,t()?.rest_hymn?.language):Te)}),Z(()=>(t(),Te),()=>{f(o,t()?.closing_hymn?ze(t().closing_hymn?.page_number,t().closing_hymn.language):Te)}),Ve(),Re();var ae=Oe(),q=$e(ae);{var te=Y=>{var Q=At(),R=d(Q),w=d(R),D=d(w),K=s(D,3),u=d(K),W=s(u),se=d(W,!0);l(W),l(K),l(w);var r=s(w,2);{var b=I=>{var B=Tt(),Ze=d(B);za(Ze,{drawerTitle:"Sacrament Program",id:"sacrament-form",children:(Ue,ea)=>{wt(Ue,{})},$$slots:{default:!0,label:(Ue,ea)=>{var ke=It();m(Ue,ke)}}}),l(B),m(I,B)};G(r,I=>{e(F)&&I(b)})}l(R);var c=s(R,2);{var He=I=>{var B=Ht();m(I,B)};G(c,I=>{e(i)==="ward-conference"&&I(He)})}var me=s(c,2),be=d(me);{let I=re(()=>(t(),a(()=>t().presiding_participant?.name))),B=re(()=>(t(),a(()=>t().presiding_participant?.description)));fe(be,{assignment:"Presiding",get name(){return e(I)},get details(){return e(B)}})}var ge=s(be,2);{let I=re(()=>(t(),a(()=>t().conducting_participant?.name))),B=re(()=>(t(),a(()=>t().conducting_participant?.description)));fe(ge,{assignment:"Conducting",get name(){return e(I)},get details(){return e(B)}})}var V=s(ge,2);{let I=re(()=>(t(),a(()=>t().chorister_participant?.name))),B=re(()=>(t(),a(()=>t().chorister_participant?.description)));fe(V,{assignment:"Chorister",get name(){return e(I)},get details(){return e(B)}})}var g=s(V,2);{let I=re(()=>(t(),a(()=>t().organist_participant?.name))),B=re(()=>(t(),a(()=>t().organist_participant?.description)));fe(g,{assignment:"Organist",get name(){return e(I)},get details(){return e(B)}})}l(me);var L=s(me,2),M=d(L);Ye(M,{assignment:"Opening Hymn",get title(){return e(p),a(()=>e(p).title)},get page(){return e(p),a(()=>e(p).page)},get language(){return e(p),a(()=>e(p).language)},get link(){return e(p),a(()=>e(p).link)}});var _e=s(M,2);{let I=re(()=>(t(),a(()=>t().invocation_participant?.name))),B=re(()=>(t(),a(()=>t().invocation_participant?.description)));fe(_e,{assignment:"Invocation",get name(){return e(I)},get details(){return e(B)}})}var Se=s(_e,2);{let I=re(()=>(t(),a(()=>t().conduct_ward_business_participant?.name))),B=re(()=>(t(),a(()=>t().conduct_ward_business_participant?.description)));fe(Se,{assignment:"Ward Business",get name(){return e(I)},get details(){return e(B)}})}var Ce=s(Se,2);{let I=re(()=>(t(),a(()=>t().conduct_stake_business_participant?.name))),B=re(()=>(t(),a(()=>t().conduct_stake_business_participant?.description)));fe(Ce,{assignment:"Stake Business",get name(){return e(I)},get details(){return e(B)}})}l(L);var ye=s(L,2),We=d(ye);Ye(We,{assignment:"Sacrament Hymn",get title(){return e(v),a(()=>e(v).title)},get page(){return e(v),a(()=>e(v).page)},get language(){return e(v),a(()=>e(v).language)},get link(){return e(v),a(()=>e(v).link)}}),Be(2),l(ye);var Me=s(ye,2),$a=d(Me);{var xa=I=>{var B=Ct();m(I,B)},Pa=I=>{var B=Oe(),Ze=$e(B);{var Ue=ke=>{var qe=Nt();m(ke,qe)},ea=ke=>{var qe=Dt(),va=$e(qe);{var ka=ue=>{var Fe=Oe(),aa=$e(Fe);Ee(aa,1,()=>(t(),a(()=>t().participants_before_rest_hymn)),Le,(ta,ve)=>{fe(ta,{get assignment(){return e(ve),a(()=>e(ve).role)},get name(){return e(ve),a(()=>e(ve).name)},get details(){return e(ve),a(()=>e(ve).description)}})}),m(ue,Fe)};G(va,ue=>{t(),a(()=>t().participants_before_rest_hymn?.length)&&ue(ka)})}var ma=s(va,2);{var wa=ue=>{Ye(ue,{assignment:"Rest Hymn",get title(){return e(h),a(()=>e(h).title)},get page(){return e(h),a(()=>e(h).page)},get language(){return e(h),a(()=>e(h).language)},get link(){return e(h),a(()=>e(h).link)}})};G(ma,ue=>{e(h),a(()=>e(h)&&e(h).page!==0)&&ue(wa)})}var Ia=s(ma,2);{var Ta=ue=>{var Fe=Oe(),aa=$e(Fe);Ee(aa,1,()=>(t(),a(()=>t().participants_after_rest_hymn)),Le,(ta,ve)=>{fe(ta,{get assignment(){return e(ve),a(()=>e(ve).role)},get name(){return e(ve),a(()=>e(ve).name)},get details(){return e(ve),a(()=>e(ve).description)}})}),m(ue,Fe)};G(Ia,ue=>{t(),a(()=>t().participants_after_rest_hymn?.length)&&ue(Ta)})}m(ke,qe)};G(Ze,ke=>{e(i)==="primary-program"?ke(Ue):ke(ea,!1)},!0)}m(I,B)};G($a,I=>{e(i)==="fast-sunday"?I(xa):I(Pa,!1)})}l(Me);var ca=s(Me,2),da=d(ca);Ye(da,{assignment:"Closing Hymn",get title(){return e(o),a(()=>e(o).title)},get page(){return e(o),a(()=>e(o).page)},get language(){return e(o),a(()=>e(o).language)},get link(){return e(o),a(()=>e(o).link)}});var Sa=s(da,2);{let I=re(()=>(t(),a(()=>t().benediction_participant?.name))),B=re(()=>(t(),a(()=>t().benediction_participant?.description)));fe(Sa,{assignment:"Benediction",get name(){return e(I)},get details(){return e(B)}})}l(ca),l(Q),J(()=>{ee(D,`${X(we),a(()=>we.name)??""} | ${X(we),a(()=>we.stake)??""}`),ee(u,`${O??""},
					${T??""} to ${j??""}, `),pe(W,"href",a(()=>C?.link)),ee(se,a(()=>C?.reference))}),m(Y,Q)};G(q,Y=>{t()&&Y(te)})}m(A,ae),Ae(),E()}var Bt=P('<button class="nav-link" id="nav-cheat-sheet-tab" data-bs-toggle="tab" data-bs-target="#nav-cheat-sheet" type="button" role="tab" aria-controls="nav-cheat-sheet" aria-selected="false">Cheat Sheet</button>'),Et=P('<div class="tab-pane fade" id="nav-cheat-sheet" role="tabpanel" aria-labelledby="nav-cheat-sheet-tab" tabindex="0"><div class="d-flex gap-4 flex-column"><!></div></div>'),Lt=P('<nav class="d-print-none"><div class="nav nav-tabs" id="nav-tab" role="tablist"><button class="nav-link active" id="nav-sacrament-program-tab" data-bs-toggle="tab" data-bs-target="#nav-sacrament-program" type="button" role="tab" aria-controls="nav-sacrament-program" aria-selected="true">Program</button> <!> <button class="nav-link" id="nav-announcements-tab" data-bs-toggle="tab" data-bs-target="#nav-announcements" type="button" role="tab" aria-controls="nav-announcements" aria-selected="false">Calendar</button></div></nav> <div class="tab-content" id="nav-tabContent"><div class="tab-pane fade show active" id="nav-sacrament-program" role="tabpanel" aria-labelledby="nav-sacrament-program-tab" tabindex="0"><div class="d-flex gap-4 flex-column"><!> <div class="d-flex flex-column flex-md-row gap-4 olay-info-block svelte-16jl7eu"><!> <!></div></div></div> <!> <div class="tab-pane fade" id="nav-announcements" role="tabpanel" aria-labelledby="nav-announcements-tab" tabindex="0"><div class="d-flex flex-column gap-4"><!> <!></div></div></div>',1);function ln(A,_){De(_,!1);const t=()=>Ne(i,"$currentUserIsAdmin",n),y=()=>Ne(p,"$currentUserIsRoot",n),[n,E]=la(),{stores:{currentUserIsAdmin:i,currentUserIsRoot:p}}=ya();Re(),Ka(A,{pageTitle:"Sacrament",children:(v,h)=>{var o=Lt(),S=$e(o),$=d(S),H=s(d($),2);{var F=R=>{var w=Bt();m(R,w)};G(H,R=>{(t()||y())&&R(F)})}Be(2),l($),l(S);var N=s(S,2),x=d(N),z=d(x),ne=d(z);Rt(ne,{});var O=s(ne,2),C=d(O);Ga(C,{});var T=s(C,2);Ja(T,{}),l(O),l(z),l(x);var j=s(x,2);{var ae=R=>{var w=Et(),D=d(w),K=d(D);Wa(K,{}),l(D),l(w),m(R,w)};G(j,R=>{(t()||y())&&R(ae)})}var q=s(j,2),te=d(q),Y=d(te);Qa(Y,{});var Q=s(Y,2);Va(Q,{}),l(te),l(q),l(N),m(v,o)},$$slots:{default:!0}}),Ae(),E()}export{ln as component,sn as universal};
