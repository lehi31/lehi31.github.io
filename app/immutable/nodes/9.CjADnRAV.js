import{s as ae,d as g,i as P,E as H,M as se,n as Z,r as z,p as r,b as f,S as _e,c as _,e as w,K as A,g as M,f as $,h,j as U,t as x,a as he,F as D,T as ie}from"../chunks/C6FTwzLu.js";import{S as oe,i as ue,t as G,a as J,g as be,e as ge,d as ce,m as fe,c as de,b as pe}from"../chunks/D5_vdDhk.js";import{g as me}from"../chunks/SQixOUIh.js";import{g as ye}from"../chunks/0gr-jj2v.js";import{L as ve}from"../chunks/CD2lSo4J.js";const ke=!0,Be=Object.freeze(Object.defineProperty({__proto__:null,prerender:ke},Symbol.toStringTag,{value:"Module"}));function Te(n){let e,t,s='<img src="/assets/logo.png" alt="logo" class="logo svelte-1n4t3wo"/> <h1 class="mb-0 h4">Lehi Tolutaha</h1>',l,a,u,c,i,o,d,p,T,B,V,q,S,v,C,O,N,F='<a href="/home" class="btn-link btn">Back to home</a> <button type="submit" class="btn btn-secondary">Submit</button>',E,Q,ee,y=n[6]&&re(n);function te(m,b){return m[1]==="email"?Le:Ee}let K=te(n),L=K(n);function le(m,b){return m[5]?Me:Ie}let R=le(n),I=R(n),k=n[1]==="email"&&ne();return{c(){e=h("div"),t=h("a"),t.innerHTML=s,l=U(),a=h("div"),u=h("button"),c=h("i"),i=x(" Email"),d=U(),p=h("button"),T=h("i"),B=x(" Username"),q=U(),y&&y.c(),S=U(),v=h("form"),L.c(),C=U(),I.c(),O=U(),N=h("div"),N.innerHTML=F,E=U(),k&&k.c(),this.h()},l(m){e=_(m,"DIV",{class:!0});var b=w(e);t=_(b,"A",{href:!0,class:!0,"data-svelte-h":!0}),A(t)!=="svelte-1inzn7"&&(t.innerHTML=s),l=M(b),a=_(b,"DIV",{class:!0,role:!0,"aria-label":!0});var W=w(a);u=_(W,"BUTTON",{type:!0,class:!0});var X=w(u);c=_(X,"I",{class:!0}),w(c).forEach(g),i=$(X," Email"),X.forEach(g),d=M(W),p=_(W,"BUTTON",{type:!0,class:!0});var Y=w(p);T=_(Y,"I",{class:!0}),w(T).forEach(g),B=$(Y," Username"),Y.forEach(g),W.forEach(g),q=M(b),y&&y.l(b),S=M(b),v=_(b,"FORM",{class:!0});var j=w(v);L.l(j),C=M(j),I.l(j),O=M(j),N=_(j,"DIV",{class:!0,"data-svelte-h":!0}),A(N)!=="svelte-1jydk9b"&&(N.innerHTML=F),j.forEach(g),E=M(b),k&&k.l(b),b.forEach(g),this.h()},h(){r(t,"href","/home"),r(t,"class","header-content d-flex align-items-center gap-2 text-decoration-none svelte-1n4t3wo"),r(c,"class","bi bi-envelope"),r(u,"type","button"),r(u,"class",o="btn "+(n[1]==="email"?"btn-primary":"btn-outline-primary")),r(T,"class","bi bi-person"),r(p,"type","button"),r(p,"class",V="btn "+(n[1]==="username"?"btn-primary":"btn-outline-primary")),r(a,"class","btn-group w-100"),r(a,"role","group"),r(a,"aria-label","Login method"),r(N,"class","d-flex justify-content-between"),r(v,"class","d-flex gap-3 flex-column"),r(e,"class","container d-flex flex-column gap-3 mt-5 mb-5 svelte-1n4t3wo")},m(m,b){P(m,e,b),f(e,t),f(e,l),f(e,a),f(a,u),f(u,c),f(u,i),f(a,d),f(a,p),f(p,T),f(p,B),f(e,q),y&&y.m(e,null),f(e,S),f(e,v),L.m(v,null),f(v,C),I.m(v,null),f(v,O),f(v,N),f(e,E),k&&k.m(e,null),Q||(ee=[H(u,"click",n[11]),H(p,"click",n[12]),H(v,"submit",_e(n[7]))],Q=!0)},p(m,b){b&2&&o!==(o="btn "+(m[1]==="email"?"btn-primary":"btn-outline-primary"))&&r(u,"class",o),b&2&&V!==(V="btn "+(m[1]==="username"?"btn-primary":"btn-outline-primary"))&&r(p,"class",V),m[6]?y?y.p(m,b):(y=re(m),y.c(),y.m(e,S)):y&&(y.d(1),y=null),K===(K=te(m))&&L?L.p(m,b):(L.d(1),L=K(m),L&&(L.c(),L.m(v,C))),R===(R=le(m))&&I?I.p(m,b):(I.d(1),I=R(m),I&&(I.c(),I.m(v,O))),m[1]==="email"?k||(k=ne(),k.c(),k.m(e,null)):k&&(k.d(1),k=null)},i:Z,o:Z,d(m){m&&g(e),y&&y.d(),L.d(),I.d(),k&&k.d(),Q=!1,z(ee)}}}function we(n){let e,t;return e=new ve({props:{message:n[6]}}),{c(){pe(e.$$.fragment)},l(s){de(e.$$.fragment,s)},m(s,l){fe(e,s,l),t=!0},p(s,l){const a={};l&64&&(a.message=s[6]),e.$set(a)},i(s){t||(J(e.$$.fragment,s),t=!0)},o(s){G(e.$$.fragment,s),t=!1},d(s){ce(e,s)}}}function re(n){let e,t,s,l,a;return{c(){e=h("div"),t=h("i"),s=U(),l=h("div"),a=x(n[6]),this.h()},l(u){e=_(u,"DIV",{class:!0,role:!0});var c=w(e);t=_(c,"I",{class:!0}),w(t).forEach(g),s=M(c),l=_(c,"DIV",{});var i=w(l);a=$(i,n[6]),i.forEach(g),c.forEach(g),this.h()},h(){r(t,"class","bi bi-exclamation-triangle-fill"),r(e,"class","alert alert-danger d-flex align-items-center gap-2"),r(e,"role","alert")},m(u,c){P(u,e,c),f(e,t),f(e,s),f(e,l),f(l,a)},p(u,c){c&64&&he(a,u[6])},d(u){u&&g(e)}}}function Ee(n){let e,t,s;return{c(){e=h("input"),this.h()},l(l){e=_(l,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0,"aria-describedby":!0}),this.h()},h(){r(e,"type","text"),r(e,"class","form-control"),r(e,"placeholder","Username"),r(e,"id","user-name"),r(e,"aria-describedby","username")},m(l,a){P(l,e,a),D(e,n[3]),t||(s=[H(e,"input",n[14]),ie(n[10].call(null,e))],t=!0)},p(l,a){a&8&&e.value!==l[3]&&D(e,l[3])},d(l){l&&g(e),t=!1,z(s)}}}function Le(n){let e,t,s;return{c(){e=h("input"),this.h()},l(l){e=_(l,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0,"aria-describedby":!0}),this.h()},h(){r(e,"type","email"),r(e,"class","form-control"),r(e,"placeholder","Email"),r(e,"id","email"),r(e,"aria-describedby","email")},m(l,a){P(l,e,a),D(e,n[2]),t||(s=[H(e,"input",n[13]),ie(n[10].call(null,e))],t=!0)},p(l,a){a&4&&e.value!==l[2]&&D(e,l[2])},d(l){l&&g(e),t=!1,z(s)}}}function Ie(n){let e,t,s,l,a='<i class="bi bi-eye"></i>',u,c;return{c(){e=h("div"),t=h("input"),s=U(),l=h("button"),l.innerHTML=a,this.h()},l(i){e=_(i,"DIV",{class:!0});var o=w(e);t=_(o,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0,"aria-describedby":!0}),s=M(o),l=_(o,"BUTTON",{class:!0,"data-svelte-h":!0}),A(l)!=="svelte-mjb1ay"&&(l.innerHTML=a),o.forEach(g),this.h()},h(){r(t,"type","password"),r(t,"class","form-control"),r(t,"placeholder","password"),r(t,"id","password"),r(t,"aria-describedby","password"),r(l,"class","input-group-text"),r(e,"class","input-group")},m(i,o){P(i,e,o),f(e,t),D(t,n[4]),f(e,s),f(e,l),u||(c=[H(t,"input",n[16]),H(l,"click",n[8])],u=!0)},p(i,o){o&16&&t.value!==i[4]&&D(t,i[4])},d(i){i&&g(e),u=!1,z(c)}}}function Me(n){let e,t,s,l,a='<i class="bi bi-eye-slash"></i>',u,c;return{c(){e=h("div"),t=h("input"),s=U(),l=h("button"),l.innerHTML=a,this.h()},l(i){e=_(i,"DIV",{class:!0});var o=w(e);t=_(o,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0,"aria-describedby":!0}),s=M(o),l=_(o,"BUTTON",{class:!0,"data-svelte-h":!0}),A(l)!=="svelte-63xbvi"&&(l.innerHTML=a),o.forEach(g),this.h()},h(){r(t,"type","text"),r(t,"class","form-control"),r(t,"placeholder","password"),r(t,"id","password"),r(t,"aria-describedby","password"),r(l,"class","input-group-text"),r(e,"class","input-group")},m(i,o){P(i,e,o),f(e,t),D(t,n[4]),f(e,s),f(e,l),u||(c=[H(t,"input",n[15]),H(l,"click",n[8])],u=!0)},p(i,o){o&16&&t.value!==i[4]&&D(t,i[4])},d(i){i&&g(e),u=!1,z(c)}}}function ne(n){let e,t=`<small class="text-muted">Don&#39;t have an account?
					<a href="/auth/signup" class="link-primary">Sign up</a></small>`;return{c(){e=h("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-1gmdti8"&&(e.innerHTML=t),this.h()},h(){r(e,"class","text-center")},m(s,l){P(s,e,l)},d(s){s&&g(e)}}}function Ue(n){let e,t,s,l,a,u;const c=[we,Te],i=[];function o(d,p){return d[0]?0:1}return e=o(n),t=i[e]=c[e](n),{c(){t.c(),s=se()},l(d){t.l(d),s=se()},m(d,p){i[e].m(d,p),P(d,s,p),l=!0,a||(u=H(window,"keydown",n[9]),a=!0)},p(d,[p]){let T=e;e=o(d),e===T?i[e].p(d,p):(be(),G(i[T],1,1,()=>{i[T]=null}),ge(),t=i[e],t?t.p(d,p):(t=i[e]=c[e](d),t.c()),J(t,1),t.m(s.parentNode,s))},i(d){l||(J(t),l=!0)},o(d){G(t),l=!1},d(d){d&&g(s),i[e].d(d),a=!1,u()}}}function He(n,e,t){const{actions:{login:s,loginWithEmail:l}}=me();let a=!1,u="email",c="",i="",o="",d=!1,p="";const T=async()=>{t(0,a=!0),t(6,p="");let E=!1;if(u==="email"){if(!c||!o){t(6,p="Email and password are required"),t(0,a=!1);return}E=await l(c,o)}else{if(!i||!o){t(6,p="Username and password are required"),t(0,a=!1);return}E=await s(i,o)}E?(t(6,p="Logging you in ..."),setTimeout(()=>{ye("/home")},1e3)):(t(6,p="Login failed, please try again"),setTimeout(()=>{t(0,a=!1)},1e3))},B=()=>{t(5,d=!d)},V=E=>{E.key==="Enter"&&T()},q=E=>{E.focus()},S=()=>t(1,u="email"),v=()=>t(1,u="username");function C(){c=this.value,t(2,c)}function O(){i=this.value,t(3,i)}function N(){o=this.value,t(4,o)}function F(){o=this.value,t(4,o)}return[a,u,c,i,o,d,p,T,B,V,q,S,v,C,O,N,F]}class Ne extends oe{constructor(e){super(),ue(this,e,He,Ue,ae,{})}}function De(n){let e,t;return e=new Ne({}),{c(){pe(e.$$.fragment)},l(s){de(e.$$.fragment,s)},m(s,l){fe(e,s,l),t=!0},p:Z,i(s){t||(J(e.$$.fragment,s),t=!0)},o(s){G(e.$$.fragment,s),t=!1},d(s){ce(e,s)}}}function Pe(n){const{stores:{pageName:e}}=me();return e.set("Auth - Login"),[]}class qe extends oe{constructor(e){super(),ue(this,e,Pe,De,ae,{})}}export{qe as component,Be as universal};
