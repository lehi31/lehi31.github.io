import{s as H,d as g,i as T,x as A,n as V,b as d,p as f,c as b,e as w,w as C,g as L,h as v,j as E,a as M,f as P,t as N,y as B,z as I,A as S,B as O}from"../chunks/pH736Kvp.js";import{S as R,i as z,t as j,a as q,e as F,d as U,m as J,c as K,b as G,g as Q}from"../chunks/THtqwFCh.js";import{s as W,a as X}from"../chunks/C6tFIY0A.js";import{L as Y}from"../chunks/QJNTbXsP.js";function Z(i){let e,t,s='<img src="/assets/logo.png" alt="logo" class="logo svelte-aqjxex"/> <h1 class="mb-0 h4">Lehi Tolutaha</h1>',l,r,a="Resend Verification Email",_,n,o=i[2]&&D(i);function h(c,u){return c[4]?ee:te}let m=h(i),p=m(i);return{c(){e=v("div"),t=v("a"),t.innerHTML=s,l=E(),r=v("h2"),r.textContent=a,_=E(),o&&o.c(),n=E(),p.c(),this.h()},l(c){e=b(c,"DIV",{class:!0});var u=w(e);t=b(u,"A",{href:!0,class:!0,"data-svelte-h":!0}),C(t)!=="svelte-1inzn7"&&(t.innerHTML=s),l=L(u),r=b(u,"H2",{class:!0,"data-svelte-h":!0}),C(r)!=="svelte-1e3v5pe"&&(r.textContent=a),_=L(u),o&&o.l(u),n=L(u),p.l(u),u.forEach(g),this.h()},h(){f(t,"href","/home"),f(t,"class","header-content d-flex align-items-center gap-2 text-decoration-none"),f(r,"class","h5"),f(e,"class","container d-flex flex-column gap-3 mt-5 mb-5 svelte-aqjxex")},m(c,u){T(c,e,u),d(e,t),d(e,l),d(e,r),d(e,_),o&&o.m(e,null),d(e,n),p.m(e,null)},p(c,u){c[2]?o?o.p(c,u):(o=D(c),o.c(),o.m(e,n)):o&&(o.d(1),o=null),m===(m=h(c))&&p?p.p(c,u):(p.d(1),p=m(c),p&&(p.c(),p.m(e,null)))},i:V,o:V,d(c){c&&g(e),o&&o.d(),p.d()}}}function $(i){let e,t;return e=new Y({props:{message:"Sending verification email..."}}),{c(){G(e.$$.fragment)},l(s){K(e.$$.fragment,s)},m(s,l){J(e,s,l),t=!0},p:V,i(s){t||(q(e.$$.fragment,s),t=!0)},o(s){j(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function D(i){let e,t,s;return{c(){e=v("div"),t=N(i[2]),this.h()},l(l){e=b(l,"DIV",{class:!0,role:!0});var r=w(e);t=P(r,i[2]),r.forEach(g),this.h()},h(){f(e,"class",s="alert alert-"+(i[3]==="success"?"success":"danger")),f(e,"role","alert")},m(l,r){T(l,e,r),d(e,t)},p(l,r){r&4&&M(t,l[2]),r&8&&s!==(s="alert alert-"+(l[3]==="success"?"success":"danger"))&&f(e,"class",s)},d(l){l&&g(e)}}}function ee(i){let e,t="Return to Login";return{c(){e=v("a"),e.textContent=t,this.h()},l(s){e=b(s,"A",{href:!0,class:!0,"data-svelte-h":!0}),C(e)!=="svelte-y8wnfv"&&(e.textContent=t),this.h()},h(){f(e,"href","/auth/login"),f(e,"class","btn btn-primary")},m(s,l){T(s,e,l)},p:V,d(s){s&&g(e)}}}function te(i){let e,t,s,l="Email Address",r,a,_,n,o="Enter the email address you used to sign up.",h,m,p='<a href="/auth/login" class="btn btn-link">Back to Login</a> <button type="submit" class="btn btn-primary">Send Verification Email</button>',c,u;return{c(){e=v("form"),t=v("div"),s=v("label"),s.textContent=l,r=E(),a=v("input"),_=E(),n=v("div"),n.textContent=o,h=E(),m=v("div"),m.innerHTML=p,this.h()},l(y){e=b(y,"FORM",{class:!0});var k=w(e);t=b(k,"DIV",{});var x=w(t);s=b(x,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),C(s)!=="svelte-1pc0iwm"&&(s.textContent=l),r=L(x),a=b(x,"INPUT",{type:!0,class:!0,id:!0}),_=L(x),n=b(x,"DIV",{class:!0,"data-svelte-h":!0}),C(n)!=="svelte-14cjcbv"&&(n.textContent=o),x.forEach(g),h=L(k),m=b(k,"DIV",{class:!0,"data-svelte-h":!0}),C(m)!=="svelte-5k0qpm"&&(m.innerHTML=p),k.forEach(g),this.h()},h(){f(s,"for","email"),f(s,"class","form-label"),f(a,"type","email"),f(a,"class","form-control"),f(a,"id","email"),a.required=!0,f(n,"class","form-text"),f(m,"class","d-flex justify-content-between"),f(e,"class","d-flex flex-column gap-3")},m(y,k){T(y,e,k),d(e,t),d(t,s),d(t,r),d(t,a),I(a,i[1]),d(t,_),d(t,n),d(e,h),d(e,m),c||(u=[S(a,"input",i[6]),S(e,"submit",O(i[5]))],c=!0)},p(y,k){k&2&&a.value!==y[1]&&I(a,y[1])},d(y){y&&g(e),c=!1,B(u)}}}function se(i){let e,t,s,l;const r=[$,Z],a=[];function _(n,o){return n[0]?0:1}return e=_(i),t=a[e]=r[e](i),{c(){t.c(),s=A()},l(n){t.l(n),s=A()},m(n,o){a[e].m(n,o),T(n,s,o),l=!0},p(n,[o]){let h=e;e=_(n),e===h?a[e].p(n,o):(Q(),j(a[h],1,1,()=>{a[h]=null}),F(),t=a[e],t?t.p(n,o):(t=a[e]=r[e](n),t.c()),q(t,1),t.m(s.parentNode,s))},i(n){l||(q(t),l=!0)},o(n){j(t),l=!1},d(n){n&&g(s),a[e].d(n)}}}function ne(i,e,t){let s=!1,l="",r="",a="error",_=!1;async function n(){if(t(0,s=!0),t(2,r=""),!l){t(2,r="Email is required"),t(3,a="error"),t(0,s=!1);return}try{const m=await(await fetch(`${W}/functions/v1/auth-resend-verification`,{method:"POST",headers:{"Content-Type":"application/json",apikey:X},body:JSON.stringify({email:l})})).json();m.success?(t(3,a="success"),t(2,r="Verification email sent! Please check your inbox."),t(4,_=!0)):(t(3,a="error"),t(2,r=m.error||"Failed to send verification email"))}catch{t(3,a="error"),t(2,r="Network error. Please try again.")}finally{t(0,s=!1)}}function o(){l=this.value,t(1,l)}return[s,l,r,a,_,n,o]}class ie extends R{constructor(e){super(),z(this,e,ne,se,H,{})}}export{ie as component};
