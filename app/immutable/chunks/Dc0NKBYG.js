import{s as ee,n as X,d as m,I as te,a as T,p as n,i as se,b as l,C as H,c as f,e as b,f as V,g as M,h as v,t as F,j as Y,S as Z}from"./BQ7GsIJB.js";import{S as ae,i as ne}from"./BJAXi6Wx.js";import{w as le}from"./CpQDnloN.js";import{P as y,g as re}from"./Jm2Q2PyN.js";function ie(e){let a,t,r,c,h,g,_,i,E,d,C,j,O,s,S,I,w,q,B,U,A,G,R;return{c(){a=v("div"),t=v("div"),r=v("div"),c=v("div"),h=v("h5"),g=F(e[0]),_=Y(),i=v("button"),E=Y(),d=v("div"),C=v("p"),j=F(e[1]),O=Y(),s=v("div"),S=v("button"),I=F(e[2]),q=Y(),B=v("button"),U=F(e[4]),this.h()},l(o){a=f(o,"DIV",{class:!0,tabindex:!0});var u=b(a);t=f(u,"DIV",{class:!0});var W=b(t);r=f(W,"DIV",{class:!0});var L=b(r);c=f(L,"DIV",{class:!0});var D=b(c);h=f(D,"H5",{class:!0});var z=b(h);g=V(z,e[0]),z.forEach(m),_=M(D),i=f(D,"BUTTON",{type:!0,class:!0,"aria-label":!0});var $=b(i);$.forEach(m),D.forEach(m),E=M(L),d=f(L,"DIV",{class:!0});var J=b(d);C=f(J,"P",{});var K=b(C);j=V(K,e[1]),K.forEach(m),J.forEach(m),O=M(L),s=f(L,"DIV",{class:!0});var P=b(s);S=f(P,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0});var N=b(S);I=V(N,e[2]),N.forEach(m),q=M(P),B=f(P,"BUTTON",{type:!0,class:!0});var Q=b(B);U=V(Q,e[4]),Q.forEach(m),P.forEach(m),L.forEach(m),W.forEach(m),u.forEach(m),this.h()},h(){n(h,"class","modal-title"),n(i,"type","button"),n(i,"class","btn-close"),n(i,"aria-label",e[2]),n(c,"class","modal-header"),n(d,"class","modal-body"),n(S,"type","button"),n(S,"class",w="btn "+e[3]+" svelte-ydpc16"),n(S,"data-bs-dismiss","modal"),n(B,"type","button"),n(B,"class",A="btn "+e[5]+" svelte-ydpc16"),n(s,"class","modal-footer"),n(r,"class","modal-content"),n(t,"class","modal-dialog"),n(a,"class","modal svelte-ydpc16"),n(a,"tabindex","-1")},m(o,u){se(o,a,u),l(a,t),l(t,r),l(r,c),l(c,h),l(h,g),l(c,_),l(c,i),l(r,E),l(r,d),l(d,C),l(C,j),l(r,O),l(r,s),l(s,S),l(S,I),l(s,q),l(s,B),l(B,U),G||(R=[H(i,"click",e[8]),H(S,"click",e[9]),H(B,"click",e[10])],G=!0)},p(o,[u]){u&1&&T(g,o[0]),u&4&&n(i,"aria-label",o[2]),u&2&&T(j,o[1]),u&4&&T(I,o[2]),u&8&&w!==(w="btn "+o[3]+" svelte-ydpc16")&&n(S,"class",w),u&16&&T(U,o[4]),u&32&&A!==(A="btn "+o[5]+" svelte-ydpc16")&&n(B,"class",A)},i:X,o:X,d(o){o&&m(a),G=!1,te(R)}}}function ce(e,a,t){let{title:r=""}=a,{message:c=""}=a,{rejectButtonLabel:h="No"}=a,{rejectButtonCSS:g="btn-secondary"}=a,{confirmButtonLabel:_="Yes"}=a,{confirmButtonCSS:i="btn-primary"}=a,{callback:E}=a;function d(s){E(s)}const C=()=>d(!1),j=()=>d(!1),O=()=>d(!0);return e.$$set=s=>{"title"in s&&t(0,r=s.title),"message"in s&&t(1,c=s.message),"rejectButtonLabel"in s&&t(2,h=s.rejectButtonLabel),"rejectButtonCSS"in s&&t(3,g=s.rejectButtonCSS),"confirmButtonLabel"in s&&t(4,_=s.confirmButtonLabel),"confirmButtonCSS"in s&&t(5,i=s.confirmButtonCSS),"callback"in s&&t(7,E=s.callback)},[r,c,h,g,_,i,d,E,C,j,O]}class oe extends ae{constructor(a){super(),ne(this,a,ce,ie,ee,{title:0,message:1,rejectButtonLabel:2,rejectButtonCSS:3,confirmButtonLabel:4,confirmButtonCSS:5,callback:7})}}let p;function Se(e){const a=document.createElement("div");document.body.appendChild(a);const t={title:"Are you sure?",message:"Are you sure you want to do that?  You will not be able to undo this.",callback:()=>{console.log("callback")}};e.title&&(t.title=e.title),e.message&&(t.message=e.message),e.rejectButtonLabel&&(t.rejectButtonLabel=e.rejectButtonLabel),e.rejectButtonCSS&&(t.rejectButtonCSS=e.rejectButtonCSS),e.confirmButtonLabel&&(t.confirmButtonLabel=e.confirmButtonLabel),e.confirmButtonCSS&&(t.confirmButtonCSS=e.confirmButtonCSS),t.callback=r=>{console.log("Confirm result:",r),p.$destroy(),document.body.removeChild(a),e.callback&&typeof e.callback=="function"&&e.callback(r)},p=new oe({target:a,props:t})}var ue=(e=>(e.EditSacramentProgram="edit-sacrament-program",e.EditDBCalendarEvent="edit-calendar-events",e.EditMemberListItem="edit-member-list-item",e.ViewDBMemberListItem="view-db-member-list-item",e.UseCallings="use-callings",e))(ue||{});const me=[{name:"edit-sacrament-program",permissions:[y.EditSacramentPrograms],turnedOn:!0},{name:"edit-calendar-events",permissions:[y.CreateEvents,y.EditOwnOrgEvents,y.EditAllEvents],turnedOn:!0},{name:"view-db-member-list-item",permissions:[y.ManageUsers],turnedOn:!0},{name:"edit-member-list-item",permissions:[y.ManageWardBusiness],turnedOn:!0},{name:"use-callings",permissions:[y.AssignCallings],turnedOn:!0}],{stores:{currentUser:x}}=re();let k=null;const de=()=>{const e=le(me);return k={stores:{featureFlags:e,currentUser:x},actions:{featureIsEnabled:t=>{const c=Z(e).find(i=>i.name===t);if(!c)return!1;const g=Z(x).permissions??[];return c.permissions.some(i=>g.includes(i))&&c.turnedOn}}},k},ge=()=>k?.stores&&Object.keys(k.stores).length>0&&k?.actions&&Object.keys(k.actions).length>0?k:de();export{ue as F,Se as c,ge as g};
