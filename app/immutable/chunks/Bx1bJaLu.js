import{s as nt,n as de,d as u,i as U,q as s,a as m,c as d,k as b,g as ee,l as k,w as S,e as _,m as T,x as I,r as Ot,v as ae,z as Je,N as Vn,R as _t,D as It,y as Rt,G as Qt,a4 as gt,H as Bn,b as Ct,B as ft,a6 as Zt,K as jn,t as mt,o as On,a5 as Rn,U as en}from"./Is0eQybD.js";import{S as lt,i as at,f as vt,d as Ue,t as K,a as W,m as xe,c as We,b as qe,g as Ze,e as et}from"./DtCfv1Xo.js";import{W as Oe,S as Xe,d as Vt,t as Ge,u as Hn,v as Un,w as xn,i as tn,x as nn,y as Lt,f as ze}from"./B7muYh3r.js";import{e as tt,u as Wn,o as qn}from"./CTDgMtPg.js";import{D as Gn,v as Fn}from"./CKt74xnL.js";import{w as At,d as pt}from"./Oc_eB7Hn.js";import{g as Yn}from"./PYMpQ6Uj.js";import{p as Qe}from"./s9HqKdZC.js";import{S as zn}from"./CPC1VrAz.js";function Xn(n){let e,t,l="Ward Information",a,o,r,i="Chapel Address",c,y,f,w=Oe.chapel.address.street+"",p,g,h=Oe.chapel.address.city+"",v,E,C,D=Oe.chapel.address.state+"",M,L,j=Oe.chapel.address.zip+"",B,N,O,R=Oe.chapel.address.country+"",H,G,q,A="Hours",te,F,Y,he,Ce="Sacrament",se,we=Oe.meetingTimes.sacrament.start+"",Ve,re,Be=Oe.meetingTimes.sacrament.end+"",Te,Ee,z,ue,Ne="2nd Hour",Me,Ae=Oe.meetingTimes.secondHour.start+"",oe,_e,De=Oe.meetingTimes.secondHour.end+"",Re,J,X,Q=Oe.contacts.executiveSecretary.purpose+"",x,Se,pe,$,ke=Oe.contacts.executiveSecretary.name+"",Pe,ie,ge,le=Oe.contacts.executiveSecretary.phone+"",Ie,ve,He,$e=Oe.contacts.bishop.purpose+"",it,Ke,je,Fe,ct=Oe.contacts.bishop.name+"",rt,dt,be,P=Oe.contacts.bishop.phone+"",V;return{c(){e=_("div"),t=_("div"),t.textContent=l,a=T(),o=_("ul"),r=_("li"),r.textContent=i,c=T(),y=_("li"),f=_("a"),p=I(w),g=I(", "),v=I(h),E=_("br"),C=T(),M=I(D),L=T(),B=I(j),N=_("br"),O=T(),H=I(R),G=T(),q=_("li"),q.textContent=A,te=T(),F=_("li"),Y=_("span"),he=_("strong"),he.textContent=Ce,se=I(`:
				`),Ve=I(we),re=I(` to
				`),Te=I(Be),Ee=T(),z=_("span"),ue=_("strong"),ue.textContent=Ne,Me=I(`:
				`),oe=I(Ae),_e=I(` to
				`),Re=I(De),J=T(),X=_("li"),x=I(Q),Se=I(":"),pe=T(),$=_("li"),Pe=I(ke),ie=I(` |
			`),ge=_("a"),Ie=I(le),ve=T(),He=_("li"),it=I($e),Ke=I(":"),je=T(),Fe=_("li"),rt=I(ct),dt=I(` |
			`),be=_("a"),V=I(P),this.h()},l(Z){e=d(Z,"DIV",{class:!0});var ce=b(e);t=d(ce,"DIV",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1t8b7xp"&&(t.textContent=l),a=k(ce),o=d(ce,"UL",{class:!0});var ne=b(o);r=d(ne,"LI",{class:!0,"data-svelte-h":!0}),ee(r)!=="svelte-vw20k9"&&(r.textContent=i),c=k(ne),y=d(ne,"LI",{class:!0});var fe=b(y);f=d(fe,"A",{href:!0,target:!0});var ye=b(f);p=S(ye,w),g=S(ye,", "),v=S(ye,h),E=d(ye,"BR",{}),C=k(ye),M=S(ye,D),L=k(ye),B=S(ye,j),N=d(ye,"BR",{}),O=k(ye),H=S(ye,R),ye.forEach(u),fe.forEach(u),G=k(ne),q=d(ne,"LI",{class:!0,"data-svelte-h":!0}),ee(q)!=="svelte-hctaph"&&(q.textContent=A),te=k(ne),F=d(ne,"LI",{class:!0});var Ye=b(F);Y=d(Ye,"SPAN",{class:!0});var me=b(Y);he=d(me,"STRONG",{"data-svelte-h":!0}),ee(he)!=="svelte-109tp0m"&&(he.textContent=Ce),se=S(me,`:
				`),Ve=S(me,we),re=S(me,` to
				`),Te=S(me,Be),me.forEach(u),Ee=k(Ye),z=d(Ye,"SPAN",{class:!0});var Le=b(z);ue=d(Le,"STRONG",{"data-svelte-h":!0}),ee(ue)!=="svelte-xpszu2"&&(ue.textContent=Ne),Me=S(Le,`:
				`),oe=S(Le,Ae),_e=S(Le,` to
				`),Re=S(Le,De),Le.forEach(u),Ye.forEach(u),J=k(ne),X=d(ne,"LI",{class:!0});var bt=b(X);x=S(bt,Q),Se=S(bt,":"),bt.forEach(u),pe=k(ne),$=d(ne,"LI",{class:!0});var ut=b($);Pe=S(ut,ke),ie=S(ut,` |
			`),ge=d(ut,"A",{href:!0,target:!0});var st=b(ge);Ie=S(st,le),st.forEach(u),ut.forEach(u),ve=k(ne),He=d(ne,"LI",{class:!0});var ot=b(He);it=S(ot,$e),Ke=S(ot,":"),ot.forEach(u),je=k(ne),Fe=d(ne,"LI",{class:!0});var ht=b(Fe);rt=S(ht,ct),dt=S(ht,` |
			`),be=d(ht,"A",{href:!0,target:!0});var Tt=b(be);V=S(Tt,P),Tt.forEach(u),ht.forEach(u),ne.forEach(u),ce.forEach(u),this.h()},h(){m(t,"class","card-header"),m(r,"class","list-group-item text-uppercase fw-lighter fs-x-small"),m(f,"href",Oe.chapel.mapLink),m(f,"target","_blank"),m(y,"class","list-group-item"),m(q,"class","list-group-item text-uppercase fw-lighter fs-x-small"),m(Y,"class","d-block fw-lighter"),m(z,"class","d-block fw-lighter"),m(F,"class","list-group-item"),m(X,"class","list-group-item text-uppercase fw-lighter fs-x-small"),m(ge,"href","sms:"+Oe.contacts.executiveSecretary.phone.replace(/-/g,"")),m(ge,"target","_blank"),m($,"class","list-group-item"),m(He,"class","list-group-item text-uppercase fw-lighter fs-x-small"),m(be,"href","sms:"+Oe.contacts.bishop.phone.replace(/-/g,"")),m(be,"target","_blank"),m(Fe,"class","list-group-item"),m(o,"class","list-group list-group-flush"),m(e,"class","card")},m(Z,ce){U(Z,e,ce),s(e,t),s(e,a),s(e,o),s(o,r),s(o,c),s(o,y),s(y,f),s(f,p),s(f,g),s(f,v),s(f,E),s(f,C),s(f,M),s(f,L),s(f,B),s(f,N),s(f,O),s(f,H),s(o,G),s(o,q),s(o,te),s(o,F),s(F,Y),s(Y,he),s(Y,se),s(Y,Ve),s(Y,re),s(Y,Te),s(F,Ee),s(F,z),s(z,ue),s(z,Me),s(z,oe),s(z,_e),s(z,Re),s(o,J),s(o,X),s(X,x),s(X,Se),s(o,pe),s(o,$),s($,Pe),s($,ie),s($,ge),s(ge,Ie),s(o,ve),s(o,He),s(He,it),s(He,Ke),s(o,je),s(o,Fe),s(Fe,rt),s(Fe,dt),s(Fe,be),s(be,V)},p:de,i:de,o:de,d(Z){Z&&u(e)}}}class ra extends lt{constructor(e){super(),at(this,e,null,Xn,nt,{})}}function $n(n){let e,t,l="Stake Information",a,o,r,i="Address",c,y,f,w=Xe.building.address.street+"",p,g,h,v,E=Xe.building.address.city+"",C,D,M=Xe.building.address.state+"",L,j,B=Xe.building.address.zip+"",N,O,R,H=Xe.building.address.country+"",G,q,A,te=Xe.contacts.templeRecommend.purpose+"",F,Y,he,Ce,se=Xe.contacts.templeRecommend.name+"",we,Ve,re,Be=Xe.contacts.templeRecommend.phone+"",Te,Ee,z,ue=Xe.contacts.president.purpose+"",Ne,Me,Ae,oe,_e=Xe.contacts.president.name+"",De,Re,J,X=Xe.contacts.president.phone+"",Q;return{c(){e=_("div"),t=_("div"),t.textContent=l,a=T(),o=_("ul"),r=_("li"),r.textContent=i,c=T(),y=_("li"),f=_("a"),p=I(w),g=I(","),h=_("br"),v=T(),C=I(E),D=I(", "),L=I(M),j=T(),N=I(B),O=_("br"),R=T(),G=I(H),q=T(),A=_("li"),F=I(te),Y=I(":"),he=T(),Ce=_("li"),we=I(se),Ve=I(` |
			`),re=_("a"),Te=I(Be),Ee=T(),z=_("li"),Ne=I(ue),Me=I(":"),Ae=T(),oe=_("li"),De=I(_e),Re=I(` |
			`),J=_("a"),Q=I(X),this.h()},l(x){e=d(x,"DIV",{class:!0});var Se=b(e);t=d(Se,"DIV",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-4r680n"&&(t.textContent=l),a=k(Se),o=d(Se,"UL",{class:!0});var pe=b(o);r=d(pe,"LI",{class:!0,"data-svelte-h":!0}),ee(r)!=="svelte-5as0fu"&&(r.textContent=i),c=k(pe),y=d(pe,"LI",{class:!0});var $=b(y);f=d($,"A",{href:!0,target:!0});var ke=b(f);p=S(ke,w),g=S(ke,","),h=d(ke,"BR",{}),v=k(ke),C=S(ke,E),D=S(ke,", "),L=S(ke,M),j=k(ke),N=S(ke,B),O=d(ke,"BR",{}),R=k(ke),G=S(ke,H),ke.forEach(u),$.forEach(u),q=k(pe),A=d(pe,"LI",{class:!0});var Pe=b(A);F=S(Pe,te),Y=S(Pe,":"),Pe.forEach(u),he=k(pe),Ce=d(pe,"LI",{class:!0});var ie=b(Ce);we=S(ie,se),Ve=S(ie,` |
			`),re=d(ie,"A",{href:!0,target:!0});var ge=b(re);Te=S(ge,Be),ge.forEach(u),ie.forEach(u),Ee=k(pe),z=d(pe,"LI",{class:!0});var le=b(z);Ne=S(le,ue),Me=S(le,":"),le.forEach(u),Ae=k(pe),oe=d(pe,"LI",{class:!0});var Ie=b(oe);De=S(Ie,_e),Re=S(Ie,` |
			`),J=d(Ie,"A",{href:!0,target:!0});var ve=b(J);Q=S(ve,X),ve.forEach(u),Ie.forEach(u),pe.forEach(u),Se.forEach(u),this.h()},h(){m(t,"class","card-header"),m(r,"class","list-group-item text-uppercase fw-lighter fs-x-small"),m(f,"href",Xe.building.mapLink),m(f,"target","_blank"),m(y,"class","list-group-item"),m(A,"class","list-group-item text-uppercase fw-lighter fs-x-small"),m(re,"href","sms:"+Xe.contacts.templeRecommend.phone.replace(/-/g,"")),m(re,"target","_blank"),m(Ce,"class","list-group-item"),m(z,"class","list-group-item text-uppercase fw-lighter fs-x-small"),m(J,"href","sms:"+Xe.contacts.president.phone.replace(/-/g,"")),m(J,"target","_blank"),m(oe,"class","list-group-item"),m(o,"class","list-group list-group-flush"),m(e,"class","card")},m(x,Se){U(x,e,Se),s(e,t),s(e,a),s(e,o),s(o,r),s(o,c),s(o,y),s(y,f),s(f,p),s(f,g),s(f,h),s(f,v),s(f,C),s(f,D),s(f,L),s(f,j),s(f,N),s(f,O),s(f,R),s(f,G),s(o,q),s(o,A),s(A,F),s(A,Y),s(o,he),s(o,Ce),s(Ce,we),s(Ce,Ve),s(Ce,re),s(re,Te),s(o,Ee),s(o,z),s(z,Ne),s(z,Me),s(o,Ae),s(o,oe),s(oe,De),s(oe,Re),s(oe,J),s(J,Q)},p:de,i:de,o:de,d(x){x&&u(e)}}}class oa extends lt{constructor(e){super(),at(this,e,null,$n,nt,{})}}function Kn(n){let e,t,l,a=Oe.theme.year+"",o,r,i,c,y,f,w=Oe.theme.scripture.text+"",p,g,h,v,E=Oe.theme.scripture.reference+"",C;return{c(){e=_("div"),t=_("div"),l=I("Ward Theme "),o=I(a),r=T(),i=_("div"),c=_("figure"),y=_("blockquote"),f=_("p"),p=I(w),g=T(),h=_("figcaption"),v=_("cite"),C=I(E),this.h()},l(D){e=d(D,"DIV",{class:!0});var M=b(e);t=d(M,"DIV",{class:!0});var L=b(t);l=S(L,"Ward Theme "),o=S(L,a),L.forEach(u),r=k(M),i=d(M,"DIV",{class:!0});var j=b(i);c=d(j,"FIGURE",{class:!0});var B=b(c);y=d(B,"BLOCKQUOTE",{class:!0});var N=b(y);f=d(N,"P",{});var O=b(f);p=S(O,w),O.forEach(u),N.forEach(u),g=k(B),h=d(B,"FIGCAPTION",{class:!0});var R=b(h);v=d(R,"CITE",{title:!0});var H=b(v);C=S(H,E),H.forEach(u),R.forEach(u),B.forEach(u),j.forEach(u),M.forEach(u),this.h()},h(){m(t,"class","card-header"),m(y,"class","blockquote"),m(v,"title","Source Title"),m(h,"class","blockquote-footer"),m(c,"class","text-center"),m(i,"class","card-body"),m(e,"class","card")},m(D,M){U(D,e,M),s(e,t),s(t,l),s(t,o),s(e,r),s(e,i),s(i,c),s(c,y),s(y,f),s(f,p),s(c,g),s(c,h),s(h,v),s(v,C)},p:de,i:de,o:de,d(D){D&&u(e)}}}class ia extends lt{constructor(e){super(),at(this,e,null,Kn,nt,{})}}function ln(n){let e,t;return{c(){e=_("small"),t=I(n[2]),this.h()},l(l){e=d(l,"SMALL",{class:!0});var a=b(e);t=S(a,n[2]),a.forEach(u),this.h()},h(){m(e,"class","fw-lighter text-muted")},m(l,a){U(l,e,a),s(e,t)},p(l,a){a&4&&ae(t,l[2])},d(l){l&&u(e)}}}function Jn(n){let e,t,l,a,o,r,i,c,y='<i class="bi bi-dash"></i>',f,w,p,g,h,v='<i class="bi bi-plus"></i>',E,C,D=n[2]&&ln(n);return{c(){e=_("div"),t=_("div"),l=_("span"),a=I(n[1]),o=T(),D&&D.c(),r=T(),i=_("div"),c=_("button"),c.innerHTML=y,f=T(),w=_("div"),p=I(n[0]),g=T(),h=_("button"),h.innerHTML=v,this.h()},l(M){e=d(M,"DIV",{class:!0});var L=b(e);t=d(L,"DIV",{});var j=b(t);l=d(j,"SPAN",{});var B=b(l);a=S(B,n[1]),B.forEach(u),o=k(j),D&&D.l(j),j.forEach(u),r=k(L),i=d(L,"DIV",{class:!0});var N=b(i);c=d(N,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(c)!=="svelte-m10tng"&&(c.innerHTML=y),f=k(N),w=d(N,"DIV",{class:!0});var O=b(w);p=S(O,n[0]),O.forEach(u),g=k(N),h=d(N,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(h)!=="svelte-z6pujo"&&(h.innerHTML=v),N.forEach(u),L.forEach(u),this.h()},h(){m(c,"class","btn btn-sm btn-primary"),m(w,"class","count-container d-flex justify-content-end svelte-1ciu8qs"),m(h,"class","btn btn-sm btn-primary"),m(i,"class","d-flex flex-row gap-3 align-items-center"),m(e,"class","d-flex flex-row gap-3 justify-content-between align-items-end")},m(M,L){U(M,e,L),s(e,t),s(t,l),s(l,a),s(t,o),D&&D.m(t,null),s(e,r),s(e,i),s(i,c),s(i,f),s(i,w),s(w,p),s(i,g),s(i,h),E||(C=[Je(c,"click",n[4]),Je(h,"click",n[3])],E=!0)},p(M,[L]){L&2&&ae(a,M[1]),M[2]?D?D.p(M,L):(D=ln(M),D.c(),D.m(t,null)):D&&(D.d(1),D=null),L&1&&ae(p,M[0])},i:de,o:de,d(M){M&&u(e),D&&D.d(),E=!1,Ot(C)}}}function Qn(n,e,t){let{count:l=0}=e,{label:a="Count"}=e,{description:o=""}=e;const r=()=>{t(0,l++,l)},i=()=>{l<=0||t(0,l--,l)};return n.$$set=c=>{"count"in c&&t(0,l=c.count),"label"in c&&t(1,a=c.label),"description"in c&&t(2,o=c.description)},[l,a,o,r,i]}class Dt extends lt{constructor(e){super(),at(this,e,Qn,Jn,nt,{count:0,label:1,description:2})}}const an=At([]);let Nt=!1;async function Bt(){if(Nt)return Vn(an);Nt=!0;try{const{data:n,error:e}=await Vt.from("temple_challenge_entries").select("*");if(e)throw console.error("[API] Get temple entries failed:",e),new Error(`Failed to load entries: ${e.message}`);const t=n||[];return an.set(t),setTimeout(()=>Nt=!1,800),t}catch(n){throw Nt=!1,console.error("[API] Unexpected error fetching temple entries:",n),n}}async function Zn(n){try{const{data:e,error:t}=await Vt.from("temple_challenge_entries").insert([n]).select();if(t)throw console.error("[API] Create temple entry failed:",t),t.message.includes("JWT")?new Error("Authentication error - please try reloading the page"):t.code==="42501"?new Error("Permission denied - please check your authentication"):t.code==="23505"?new Error("This entry already exists"):t.message.includes("fetch")||t.message.includes("Failed to fetch")?new Error("Network error - please check your connection and try again"):new Error(`Failed to save entry: ${t.message}`);return await Bt(),console.log("[API] Temple entry created successfully"),e?e[0]:void 0}catch(e){throw console.error("[API] Unexpected error creating temple entry:",e),e}}async function el(n,e){const{data:t,error:l}=await Vt.from("temple_challenge_entries").update(e).eq("id",n).select();if(l)throw l;return await Bt(),t?t[0]:void 0}async function tl(n){const{error:e}=await Vt.from("temple_challenge_entries").delete().eq("id",n);if(e)throw e;await Bt()}function nl(n,e,t){return n.filter(l=>l.date>=e&&l.date<=t)}function ll(n){return n.reduce((e,t)=>e+(t.baptism_ordinances_count??0)+(t.confirmation_ordinances_count??0)+(t.initiatory_ordinances_count??0)+(t.endowment_ordinances_count??0)+(t.sealing_ordinances_count??0),0)}function al(n){return n.reduce((e,t)=>e+(t.prepared_names_count??0),0)}let Mt=null;const sl=()=>{const n=At(!1),e=At(!1),t=At([]),l=pt([t],([h])=>{const v=h.reduce((C,D)=>{const M=new Date(D.date),L=`${M.getFullYear()}-${String(M.getMonth()+1).padStart(2,"0")}`;return(C[L]||=[]).push(D),C},{}),E=Object.entries(v).sort(([C],[D])=>new Date(D).getTime()-new Date(C).getTime()).map(([C,D])=>[C,D.sort((M,L)=>new Date(L.created_at??"").getTime()-new Date(M.created_at??"").getTime())]);return Object.fromEntries(E)}),a=pt([t],([h])=>{const v=h.reduce((C,D)=>((C[D.date]||=[]).push(D),C),{}),E=Object.entries(v).sort(([C],[D])=>new Date(D).getTime()-new Date(C).getTime()).map(([C,D])=>[C,D.sort((M,L)=>new Date(L.created_at??"").getTime()-new Date(M.created_at??"").getTime())]);return Object.fromEntries(E)}),o=pt(t,h=>h.reduce((v,E)=>({baptism_ordinances_count:v.baptism_ordinances_count+(E.baptism_ordinances_count??0),confirmation_ordinances_count:v.confirmation_ordinances_count+(E.confirmation_ordinances_count??0),initiatory_ordinances_count:v.initiatory_ordinances_count+(E.initiatory_ordinances_count??0),endowment_ordinances_count:v.endowment_ordinances_count+(E.endowment_ordinances_count??0),sealing_ordinances_count:v.sealing_ordinances_count+(E.sealing_ordinances_count??0)}),{baptism_ordinances_count:0,confirmation_ordinances_count:0,initiatory_ordinances_count:0,endowment_ordinances_count:0,sealing_ordinances_count:0})),r=pt(a,h=>{const v={};for(const[E,C]of Object.entries(h))v[E]=C.reduce((D,M)=>({...D,entry_type:D.entry_type,prepared_names_count:(D.prepared_names_count??0)+(M.prepared_names_count??0),baptism_ordinances_count:(D.baptism_ordinances_count??0)+(M.baptism_ordinances_count??0),confirmation_ordinances_count:(D.confirmation_ordinances_count??0)+(M.confirmation_ordinances_count??0),initiatory_ordinances_count:(D.initiatory_ordinances_count??0)+(M.initiatory_ordinances_count??0),endowment_ordinances_count:(D.endowment_ordinances_count??0)+(M.endowment_ordinances_count??0),sealing_ordinances_count:(D.sealing_ordinances_count??0)+(M.sealing_ordinances_count??0),date:E,created_at:D.created_at||M.created_at}),{});return v}),i=pt(l,h=>{const v={};for(const[E,C]of Object.entries(h))v[E]=C.reduce((D,M)=>({...D,entry_type:D.entry_type,prepared_names_count:(D.prepared_names_count??0)+(M.prepared_names_count??0),baptism_ordinances_count:(D.baptism_ordinances_count??0)+(M.baptism_ordinances_count??0),confirmation_ordinances_count:(D.confirmation_ordinances_count??0)+(M.confirmation_ordinances_count??0),initiatory_ordinances_count:(D.initiatory_ordinances_count??0)+(M.initiatory_ordinances_count??0),endowment_ordinances_count:(D.endowment_ordinances_count??0)+(M.endowment_ordinances_count??0),sealing_ordinances_count:(D.sealing_ordinances_count??0)+(M.sealing_ordinances_count??0),date:D.date||M.date,created_at:D.created_at||M.created_at}),{});return v}),c=pt(t,h=>h.reduce((v,E)=>v+(E.baptism_ordinances_count??0)+(E.confirmation_ordinances_count??0)+(E.initiatory_ordinances_count??0)+(E.endowment_ordinances_count??0)+(E.sealing_ordinances_count??0),0)),y=pt(t,h=>h.reduce((v,E)=>v+(E.prepared_names_count??0),0));return Mt={stores:{ready:n,loading:e,data:t,groupedByDate:a,groupedByMonth:l,detailTotals:o,detailTotalsByDay:r,detailTotalsByMonth:i,totalOrdinancesPerformed:c,totalNamesPrepared:y},actions:{reload:async()=>{const h=await Bt();h?.length&&t.set(h)},apiCreate:async h=>{await Zn(h)},apiUpdate:async(h,v)=>{await el(h,v)},apiDelete:async h=>{await tl(h)}}},Mt},jt=()=>Mt?.stores&&Object.keys(Mt.stores).length>0?Mt:sl();function ca(n){return Ge(n).getDay()===0}function Pt(n,e){const t=Ge(n),l=Ge(e),a=t.getTime()-l.getTime();return a<0?-1:a>0?1:a}function rl(n){return Hn(n,Date.now())}function ol(n,e){const t=Ge(n),l=Ge(e),a=t.getFullYear()-l.getFullYear(),o=t.getMonth()-l.getMonth();return a*12+o}function il(n){return e=>{const l=(n?Math[n]:Math.trunc)(e);return l===0?0:l}}function cl(n,e){return+Ge(n)-+Ge(e)}function ul(n){const e=Ge(n);return e.setHours(23,59,59,999),e}function fl(n){const e=Ge(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function dl(n){const e=Ge(n);return+ul(e)==+fl(e)}function _l(n,e){const t=Ge(n),l=Ge(e),a=Pt(t,l),o=Math.abs(ol(t,l));let r;if(o<1)r=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-a*o);let i=Pt(t,l)===-a;dl(Ge(n))&&o===1&&Pt(n,l)===1&&(i=!1),r=a*(o-Number(i))}return r===0?0:r}function ml(n,e,t){const l=cl(n,e)/1e3;return il(t?.roundingMethod)(l)}function hl(n,e,t){const l=Un(),a=t?.locale??l.locale??xn,o=2520,r=Pt(n,e);if(isNaN(r))throw new RangeError("Invalid time value");const i=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:r});let c,y;r>0?(c=Ge(e),y=Ge(n)):(c=Ge(n),y=Ge(e));const f=ml(y,c),w=(tn(y)-tn(c))/1e3,p=Math.round((f-w)/60);let g;if(p<2)return t?.includeSeconds?f<5?a.formatDistance("lessThanXSeconds",5,i):f<10?a.formatDistance("lessThanXSeconds",10,i):f<20?a.formatDistance("lessThanXSeconds",20,i):f<40?a.formatDistance("halfAMinute",0,i):f<60?a.formatDistance("lessThanXMinutes",1,i):a.formatDistance("xMinutes",1,i):p===0?a.formatDistance("lessThanXMinutes",1,i):a.formatDistance("xMinutes",p,i);if(p<45)return a.formatDistance("xMinutes",p,i);if(p<90)return a.formatDistance("aboutXHours",1,i);if(p<nn){const h=Math.round(p/60);return a.formatDistance("aboutXHours",h,i)}else{if(p<o)return a.formatDistance("xDays",1,i);if(p<Lt){const h=Math.round(p/nn);return a.formatDistance("xDays",h,i)}else if(p<Lt*2)return g=Math.round(p/Lt),a.formatDistance("aboutXMonths",g,i)}if(g=_l(y,c),g<12){const h=Math.round(p/Lt);return a.formatDistance("xMonths",h,i)}else{const h=g%12,v=Math.trunc(g/12);return h<3?a.formatDistance("aboutXYears",v,i):h<9?a.formatDistance("overXYears",v,i):a.formatDistance("almostXYears",v+1,i)}}function sn(n,e){return hl(n,rl(n),e)}function rn(n,e,t){const l=n.slice();return l[26]=e[t],l}function on(n){let e,t,l,a,o,r,i,c,y=n[3].message+"",f,w,p,g,h,v,E,C,D,M,L,j;function B(H,G){return H[3].type==="expired"?vl:H[3].type==="network"?gl:pl}let N=B(n),O=N(n),R=n[3].type==="network"&&cn(n);return{c(){e=_("div"),t=_("div"),l=_("i"),a=T(),o=_("div"),r=_("h5"),O.c(),i=T(),c=_("p"),f=I(y),w=T(),p=_("div"),R&&R.c(),g=T(),h=_("button"),v=_("i"),E=I(" Reload App"),D=T(),M=_("button"),this.h()},l(H){e=d(H,"DIV",{class:!0,role:!0});var G=b(e);t=d(G,"DIV",{class:!0});var q=b(t);l=d(q,"I",{class:!0}),b(l).forEach(u),a=k(q),o=d(q,"DIV",{class:!0});var A=b(o);r=d(A,"H5",{class:!0});var te=b(r);O.l(te),te.forEach(u),i=k(A),c=d(A,"P",{class:!0});var F=b(c);f=S(F,y),F.forEach(u),w=k(A),p=d(A,"DIV",{class:!0});var Y=b(p);R&&R.l(Y),g=k(Y),h=d(Y,"BUTTON",{class:!0});var he=b(h);v=d(he,"I",{class:!0}),b(v).forEach(u),E=S(he," Reload App"),he.forEach(u),Y.forEach(u),A.forEach(u),D=k(q),M=d(q,"BUTTON",{type:!0,class:!0,"aria-label":!0}),b(M).forEach(u),q.forEach(u),G.forEach(u),this.h()},h(){m(l,"class","bi bi-exclamation-triangle-fill fs-4"),m(r,"class","alert-heading mb-2"),m(c,"class","mb-3"),m(v,"class","bi bi-arrow-clockwise"),m(h,"class",C="btn btn-"+(n[3].type==="network"?"secondary":"primary")),m(p,"class","d-flex gap-2"),m(o,"class","flex-grow-1"),m(M,"type","button"),m(M,"class","btn-close"),m(M,"aria-label","Close"),m(t,"class","d-flex align-items-start gap-3"),m(e,"class","alert alert-warning alert-dismissible"),m(e,"role","alert")},m(H,G){U(H,e,G),s(e,t),s(t,l),s(t,a),s(t,o),s(o,r),O.m(r,null),s(o,i),s(o,c),s(c,f),s(o,w),s(o,p),R&&R.m(p,null),s(p,g),s(p,h),s(h,v),s(h,E),s(t,D),s(t,M),L||(j=[Je(h,"click",n[8]),Je(M,"click",n[10])],L=!0)},p(H,G){N!==(N=B(H))&&(O.d(1),O=N(H),O&&(O.c(),O.m(r,null))),G&8&&y!==(y=H[3].message+"")&&ae(f,y),H[3].type==="network"?R?R.p(H,G):(R=cn(H),R.c(),R.m(p,g)):R&&(R.d(1),R=null),G&8&&C!==(C="btn btn-"+(H[3].type==="network"?"secondary":"primary"))&&m(h,"class",C)},d(H){H&&u(e),O.d(),R&&R.d(),L=!1,Ot(j)}}}function pl(n){let e;return{c(){e=I("⚠️ Something Went Wrong")},l(t){e=S(t,"⚠️ Something Went Wrong")},m(t,l){U(t,e,l)},d(t){t&&u(e)}}}function gl(n){let e;return{c(){e=I("⚠️ Connection Problem")},l(t){e=S(t,"⚠️ Connection Problem")},m(t,l){U(t,e,l)},d(t){t&&u(e)}}}function vl(n){let e;return{c(){e=I("⚠️ Session Issue")},l(t){e=S(t,"⚠️ Session Issue")},m(t,l){U(t,e,l)},d(t){t&&u(e)}}}function cn(n){let e,t='<i class="bi bi-arrow-clockwise"></i> Try Again',l,a;return{c(){e=_("button"),e.innerHTML=t,this.h()},l(o){e=d(o,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1phrdwo"&&(e.innerHTML=t),this.h()},h(){m(e,"class","btn btn-primary")},m(o,r){U(o,e,r),l||(a=Je(e,"click",n[9]),l=!0)},p:de,d(o){o&&u(e),l=!1,a()}}}function bl(n){let e;return{c(){e=I("When was this activity done?")},l(t){e=S(t,"When was this activity done?")},m(t,l){U(t,e,l)},p:de,d(t){t&&u(e)}}}function yl(n){let e,t,l,a,o;return{c(){e=I("Select a date within the goal period ("),t=I(n[0]),l=I(" to "),a=I(n[1]),o=I(")")},l(r){e=S(r,"Select a date within the goal period ("),t=S(r,n[0]),l=S(r," to "),a=S(r,n[1]),o=S(r,")")},m(r,i){U(r,e,i),U(r,t,i),U(r,l,i),U(r,a,i),U(r,o,i)},p(r,i){i&1&&ae(t,r[0]),i&2&&ae(a,r[1])},d(r){r&&(u(e),u(t),u(l),u(a),u(o))}}}function un(n){let e,t=n[26]+"",l;return{c(){e=_("option"),l=I(t),this.h()},l(a){e=d(a,"OPTION",{});var o=b(e);l=S(o,t),o.forEach(u),this.h()},h(){e.__value=n[26],Rt(e,e.__value)},m(a,o){U(a,e,o),s(e,l)},p:de,d(a){a&&u(e)}}}function wl(n){let e,t,l,a="Log your temple activity here.",o,r,i,c="Date",y,f,w,p,g,h,v,E="Activity Type",C,D,M="What kind of temple activity was this?",L,j,B,N,O,R,H,G,q,A,te,F,Y,he,Ce,se,we,Ve,re,Be,Te,Ee,z,ue="Total:",Ne,Me,Ae,oe,_e,De,Re="Cancel",J,X,Q="Submit",x,Se,pe,$=n[3].type&&on(n);function ke(P,V){return P[0]&&P[1]?yl:bl}let Pe=ke(n),ie=Pe(n),ge=tt(n[6]),le=[];for(let P=0;P<ge.length;P+=1)le[P]=un(rn(n,ge,P));function Ie(P){n[15](P)}let ve={label:"Temple Name Preparation Count",description:"Number of names you were able to prepare for temple ordinances"};n[2].prepared_names_count!==void 0&&(ve.count=n[2].prepared_names_count),N=new Dt({props:ve}),_t.push(()=>vt(N,"count",Ie));function He(P){n[16](P)}let $e={label:"Temple Baptism Ordinances Count",description:"Number of Temple Baptism Ordinances you participated in"};n[2].baptism_ordinances_count!==void 0&&($e.count=n[2].baptism_ordinances_count),H=new Dt({props:$e}),_t.push(()=>vt(H,"count",He));function it(P){n[17](P)}let Ke={label:"Temple Confirmation Ordinances Count",description:"Number of Temple Confirmation Ordinances you participated in"};n[2].confirmation_ordinances_count!==void 0&&(Ke.count=n[2].confirmation_ordinances_count),A=new Dt({props:Ke}),_t.push(()=>vt(A,"count",it));function je(P){n[18](P)}let Fe={label:"Temple Initiatory Ordinances Count",description:"Number of Temple Initiatory Ordinances you did OR participated in the Temple"};n[2].initiatory_ordinances_count!==void 0&&(Fe.count=n[2].initiatory_ordinances_count),Y=new Dt({props:Fe}),_t.push(()=>vt(Y,"count",je));function ct(P){n[19](P)}let rt={label:"Temple Endowment Ordinances Count",description:"Number of Temple Endowment Ordinances you did OR participated in the Temple"};n[2].endowment_ordinances_count!==void 0&&(rt.count=n[2].endowment_ordinances_count),se=new Dt({props:rt}),_t.push(()=>vt(se,"count",ct));function dt(P){n[20](P)}let be={label:"Temple Sealing Ordinances Count",description:"Number of Temple Sealing Ordinances you did OR participated in the Temple"};return n[2].sealing_ordinances_count!==void 0&&(be.count=n[2].sealing_ordinances_count),re=new Dt({props:be}),_t.push(()=>vt(re,"count",dt)),{c(){e=_("div"),$&&$.c(),t=T(),l=_("div"),l.textContent=a,o=T(),r=_("div"),i=_("div"),i.textContent=c,y=T(),f=_("small"),ie.c(),w=T(),p=_("input"),g=T(),h=_("div"),v=_("div"),v.textContent=E,C=T(),D=_("small"),D.textContent=M,L=T(),j=_("select");for(let P=0;P<le.length;P+=1)le[P].c();B=T(),qe(N.$$.fragment),R=T(),qe(H.$$.fragment),q=T(),qe(A.$$.fragment),F=T(),qe(Y.$$.fragment),Ce=T(),qe(se.$$.fragment),Ve=T(),qe(re.$$.fragment),Te=T(),Ee=_("div"),z=_("span"),z.textContent=ue,Ne=T(),Me=_("span"),Ae=I(n[4]),oe=T(),_e=_("div"),De=_("button"),De.textContent=Re,J=T(),X=_("button"),X.textContent=Q,this.h()},l(P){e=d(P,"DIV",{class:!0});var V=b(e);$&&$.l(V),t=k(V),l=d(V,"DIV",{class:!0,"data-svelte-h":!0}),ee(l)!=="svelte-edkt6z"&&(l.textContent=a),o=k(V),r=d(V,"DIV",{class:!0});var Z=b(r);i=d(Z,"DIV",{"data-svelte-h":!0}),ee(i)!=="svelte-myn5jk"&&(i.textContent=c),y=k(Z),f=d(Z,"SMALL",{class:!0});var ce=b(f);ie.l(ce),ce.forEach(u),w=k(Z),p=d(Z,"INPUT",{type:!0,class:!0,id:!0,min:!0,max:!0}),Z.forEach(u),g=k(V),h=d(V,"DIV",{class:!0});var ne=b(h);v=d(ne,"DIV",{"data-svelte-h":!0}),ee(v)!=="svelte-gyj3h9"&&(v.textContent=E),C=k(ne),D=d(ne,"SMALL",{class:!0,"data-svelte-h":!0}),ee(D)!=="svelte-6czr2q"&&(D.textContent=M),L=k(ne),j=d(ne,"SELECT",{class:!0});var fe=b(j);for(let Le=0;Le<le.length;Le+=1)le[Le].l(fe);fe.forEach(u),ne.forEach(u),B=k(V),We(N.$$.fragment,V),R=k(V),We(H.$$.fragment,V),q=k(V),We(A.$$.fragment,V),F=k(V),We(Y.$$.fragment,V),Ce=k(V),We(se.$$.fragment,V),Ve=k(V),We(re.$$.fragment,V),Te=k(V),Ee=d(V,"DIV",{class:!0});var ye=b(Ee);z=d(ye,"SPAN",{class:!0,"data-svelte-h":!0}),ee(z)!=="svelte-1f2mlef"&&(z.textContent=ue),Ne=k(ye),Me=d(ye,"SPAN",{class:!0,style:!0});var Ye=b(Me);Ae=S(Ye,n[4]),Ye.forEach(u),ye.forEach(u),oe=k(V),_e=d(V,"DIV",{class:!0});var me=b(_e);De=d(me,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(De)!=="svelte-19vd26f"&&(De.textContent=Re),J=k(me),X=d(me,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(X)!=="svelte-mfwkik"&&(X.textContent=Q),me.forEach(u),V.forEach(u),this.h()},h(){m(l,"class","d-flex flex-column gap-2"),m(f,"class","fw-lighter text-muted"),m(p,"type","date"),m(p,"class","form-control"),m(p,"id","endDate"),m(p,"min",n[0]),m(p,"max",n[1]),p.required=!0,m(r,"class","d-flex flex-column gap-2"),m(D,"class","fw-lighter text-muted"),m(j,"class","form-select form-control-sm"),n[2].entry_type===void 0&&Bn(()=>n[14].call(j)),m(h,"class","d-flex flex-column gap-2"),m(z,"class","fw-bolder"),m(Me,"class","fw-bolder"),Ct(Me,"margin-right","47px"),m(Ee,"class","d-flex justify-content-between border-1 border-top pt-3 mt-4"),m(De,"class","btn btn-secondary"),m(X,"class","btn btn-primary"),m(_e,"class","d-flex justify-content-between"),m(e,"class","d-flex flex-column gap-3")},m(P,V){U(P,e,V),$&&$.m(e,null),s(e,t),s(e,l),s(e,o),s(e,r),s(r,i),s(r,y),s(r,f),ie.m(f,null),s(r,w),s(r,p),Rt(p,n[2].date),s(e,g),s(e,h),s(h,v),s(h,C),s(h,D),s(h,L),s(h,j);for(let Z=0;Z<le.length;Z+=1)le[Z]&&le[Z].m(j,null);Qt(j,n[2].entry_type,!0),s(e,B),xe(N,e,null),s(e,R),xe(H,e,null),s(e,q),xe(A,e,null),s(e,F),xe(Y,e,null),s(e,Ce),xe(se,e,null),s(e,Ve),xe(re,e,null),s(e,Te),s(e,Ee),s(Ee,z),s(Ee,Ne),s(Ee,Me),s(Me,Ae),s(e,oe),s(e,_e),s(_e,De),s(_e,J),s(_e,X),x=!0,Se||(pe=[Je(p,"input",n[13]),Je(j,"change",n[14]),Je(De,"click",n[7]),Je(X,"click",n[11])],Se=!0)},p(P,[V]){if(P[3].type?$?$.p(P,V):($=on(P),$.c(),$.m(e,t)):$&&($.d(1),$=null),Pe===(Pe=ke(P))&&ie?ie.p(P,V):(ie.d(1),ie=Pe(P),ie&&(ie.c(),ie.m(f,null))),(!x||V&1)&&m(p,"min",P[0]),(!x||V&2)&&m(p,"max",P[1]),V&68&&Rt(p,P[2].date),V&64){ge=tt(P[6]);let me;for(me=0;me<ge.length;me+=1){const Le=rn(P,ge,me);le[me]?le[me].p(Le,V):(le[me]=un(Le),le[me].c(),le[me].m(j,null))}for(;me<le.length;me+=1)le[me].d(1);le.length=ge.length}V&68&&Qt(j,P[2].entry_type);const Z={};!O&&V&4&&(O=!0,Z.count=P[2].prepared_names_count,gt(()=>O=!1)),N.$set(Z);const ce={};!G&&V&4&&(G=!0,ce.count=P[2].baptism_ordinances_count,gt(()=>G=!1)),H.$set(ce);const ne={};!te&&V&4&&(te=!0,ne.count=P[2].confirmation_ordinances_count,gt(()=>te=!1)),A.$set(ne);const fe={};!he&&V&4&&(he=!0,fe.count=P[2].initiatory_ordinances_count,gt(()=>he=!1)),Y.$set(fe);const ye={};!we&&V&4&&(we=!0,ye.count=P[2].endowment_ordinances_count,gt(()=>we=!1)),se.$set(ye);const Ye={};!Be&&V&4&&(Be=!0,Ye.count=P[2].sealing_ordinances_count,gt(()=>Be=!1)),re.$set(Ye),(!x||V&16)&&ae(Ae,P[4])},i(P){x||(W(N.$$.fragment,P),W(H.$$.fragment,P),W(A.$$.fragment,P),W(Y.$$.fragment,P),W(se.$$.fragment,P),W(re.$$.fragment,P),x=!0)},o(P){K(N.$$.fragment,P),K(H.$$.fragment,P),K(A.$$.fragment,P),K(Y.$$.fragment,P),K(se.$$.fragment,P),K(re.$$.fragment,P),x=!1},d(P){P&&u(e),$&&$.d(),ie.d(),It(le,P),Ue(N),Ue(H),Ue(A),Ue(Y),Ue(se),Ue(re),Se=!1,Ot(pe)}}}function El(n,e,t){let l,a,{drawerId:o=""}=e,{minDate:r=null}=e,{maxDate:i=null}=e;const{stores:{loading:c},actions:{apiCreate:y,reload:f}}=jt();ft(n,c,A=>t(21,a=A));const w=["Personal","Family","Ward - Youth Temple Baptism","Ward - Temple Activity","Stake - Tuesday Temple Night"];function p(){const A=ze(new Date,"yyyy-MM-dd");return!r||!i||A>=r&&A<=i?A:A<r?r:i}const g={prepared_names_count:0,baptism_ordinances_count:0,confirmation_ordinances_count:0,initiatory_ordinances_count:0,endowment_ordinances_count:0,sealing_ordinances_count:0,entry_type:"Personal",date:p(),approved:!0};let h={...g},v={message:"",type:null};const E=()=>{t(2,h={...g,date:p()}),t(3,v={message:"",type:null});const A=`[data-bs-target="#${o}"]`,te=document.querySelector(A);te&&te.click()},C=()=>{window.location.reload()},D=()=>{L()},M=()=>{t(3,v={message:"",type:null})},L=async()=>{try{Zt(c,a=!0,a),t(3,v={message:"",type:null}),await y({prepared_names_count:h.prepared_names_count,baptism_ordinances_count:h.baptism_ordinances_count,confirmation_ordinances_count:h.confirmation_ordinances_count,initiatory_ordinances_count:h.initiatory_ordinances_count,endowment_ordinances_count:h.endowment_ordinances_count,sealing_ordinances_count:h.sealing_ordinances_count,entry_type:h.entry_type,date:h.date,created_at:new Date().toISOString(),approved:!0}),await f(),E()}catch(A){console.error("[WardGoalEntryForm] Submission failed:",A),A instanceof Error?A.message.includes("expired")||A.message.includes("JWT")?t(3,v={type:"expired",message:"Your session has encountered a problem. Click the button below to refresh the app and try again."}):A.message.includes("fetch")||A.message.includes("network")?t(3,v={type:"network",message:"Unable to save your entry. Please check your internet connection."}):t(3,v={type:"general",message:"We couldn't save your entry. Try reloading the app to fix the issue."}):t(3,v={type:"general",message:"We couldn't save your entry. Try reloading the app to fix the issue."})}finally{Zt(c,a=!1,a)}};function j(){h.date=this.value,t(2,h),t(6,w)}function B(){h.entry_type=jn(this),t(2,h),t(6,w)}function N(A){n.$$.not_equal(h.prepared_names_count,A)&&(h.prepared_names_count=A,t(2,h))}function O(A){n.$$.not_equal(h.baptism_ordinances_count,A)&&(h.baptism_ordinances_count=A,t(2,h))}function R(A){n.$$.not_equal(h.confirmation_ordinances_count,A)&&(h.confirmation_ordinances_count=A,t(2,h))}function H(A){n.$$.not_equal(h.initiatory_ordinances_count,A)&&(h.initiatory_ordinances_count=A,t(2,h))}function G(A){n.$$.not_equal(h.endowment_ordinances_count,A)&&(h.endowment_ordinances_count=A,t(2,h))}function q(A){n.$$.not_equal(h.sealing_ordinances_count,A)&&(h.sealing_ordinances_count=A,t(2,h))}return n.$$set=A=>{"drawerId"in A&&t(12,o=A.drawerId),"minDate"in A&&t(0,r=A.minDate),"maxDate"in A&&t(1,i=A.maxDate)},n.$$.update=()=>{n.$$.dirty&4&&t(4,l=h.prepared_names_count+h.baptism_ordinances_count+h.confirmation_ordinances_count+h.initiatory_ordinances_count+h.endowment_ordinances_count+h.sealing_ordinances_count)},[r,i,h,v,l,c,w,E,C,D,M,L,o,j,B,N,O,R,H,G,q]}class Dl extends lt{constructor(e){super(),at(this,e,El,wl,nt,{drawerId:12,minDate:0,maxDate:1})}}function fn(n){let e,t,l=n[0]?.entry_type+"",a;return{c(){e=_("small"),t=_("span"),a=I(l),this.h()},l(o){e=d(o,"SMALL",{class:!0});var r=b(e);t=d(r,"SPAN",{class:!0});var i=b(t);a=S(i,l),i.forEach(u),r.forEach(u),this.h()},h(){m(t,"class","fw-bolder"),m(e,"class","d-flex justify-content-start")},m(o,r){U(o,e,r),s(e,t),s(t,a)},p(o,r){r&1&&l!==(l=o[0]?.entry_type+"")&&ae(a,l)},d(o){o&&u(e)}}}function dn(n){let e,t,l="Submitted",a,o,r,i=sn(new Date(n[0].created_at),{addSuffix:!0})+"",c,y,f,w=ze(new Date(n[0].created_at),"MMMM d, yyyy 'at' h:mm a")+"",p;return{c(){e=_("small"),t=_("span"),t.textContent=l,a=T(),o=_("span"),r=_("span"),c=I(i),y=T(),f=_("span"),p=I(w),this.h()},l(g){e=d(g,"SMALL",{class:!0});var h=b(e);t=d(h,"SPAN",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-muxy17"&&(t.textContent=l),a=k(h),o=d(h,"SPAN",{class:!0});var v=b(o);r=d(v,"SPAN",{class:!0});var E=b(r);c=S(E,i),E.forEach(u),y=k(v),f=d(v,"SPAN",{class:!0});var C=b(f);p=S(C,w),C.forEach(u),v.forEach(u),h.forEach(u),this.h()},h(){m(t,"class","fw-lighter"),m(r,"class","fw-bolder d-flex justify-content-end"),m(f,"class","fw-lighter fs-x-small"),m(o,"class","d-flex flex-column"),m(e,"class","d-flex justify-content-between")},m(g,h){U(g,e,h),s(e,t),s(e,a),s(e,o),s(o,r),s(r,c),s(o,y),s(o,f),s(f,p)},p(g,h){h&1&&i!==(i=sn(new Date(g[0].created_at),{addSuffix:!0})+"")&&ae(c,i),h&1&&w!==(w=ze(new Date(g[0].created_at),"MMMM d, yyyy 'at' h:mm a")+"")&&ae(p,w)},d(g){g&&u(e)}}}function kl(n){let e,t,l,a,o="Names Prepared Count",r,i,c=n[0]?.prepared_names_count+"",y,f,w,p,g="Baptism Count",h,v,E=n[0]?.baptism_ordinances_count+"",C,D,M,L,j="Confirmation Count",B,N,O=n[0]?.confirmation_ordinances_count+"",R,H,G,q,A="Initiatory Count",te,F,Y=n[0]?.initiatory_ordinances_count+"",he,Ce,se,we,Ve="Endowment Count",re,Be,Te=n[0]?.endowment_ordinances_count+"",Ee,z,ue,Ne,Me="Sealing Count",Ae,oe,_e=n[0]?.sealing_ordinances_count+"",De,Re,J=n[2]&&fn(n),X=n[1]&&n[0]?.created_at&&dn(n);return{c(){e=_("div"),J&&J.c(),t=T(),l=_("small"),a=_("span"),a.textContent=o,r=T(),i=_("span"),y=I(c),f=T(),w=_("small"),p=_("span"),p.textContent=g,h=T(),v=_("span"),C=I(E),D=T(),M=_("small"),L=_("span"),L.textContent=j,B=T(),N=_("span"),R=I(O),H=T(),G=_("small"),q=_("span"),q.textContent=A,te=T(),F=_("span"),he=I(Y),Ce=T(),se=_("small"),we=_("span"),we.textContent=Ve,re=T(),Be=_("span"),Ee=I(Te),z=T(),ue=_("small"),Ne=_("span"),Ne.textContent=Me,Ae=T(),oe=_("span"),De=I(_e),Re=T(),X&&X.c(),this.h()},l(Q){e=d(Q,"DIV",{class:!0});var x=b(e);J&&J.l(x),t=k(x),l=d(x,"SMALL",{class:!0});var Se=b(l);a=d(Se,"SPAN",{class:!0,"data-svelte-h":!0}),ee(a)!=="svelte-1ks3r10"&&(a.textContent=o),r=k(Se),i=d(Se,"SPAN",{class:!0});var pe=b(i);y=S(pe,c),pe.forEach(u),Se.forEach(u),f=k(x),w=d(x,"SMALL",{class:!0});var $=b(w);p=d($,"SPAN",{class:!0,"data-svelte-h":!0}),ee(p)!=="svelte-1mbgin5"&&(p.textContent=g),h=k($),v=d($,"SPAN",{class:!0});var ke=b(v);C=S(ke,E),ke.forEach(u),$.forEach(u),D=k(x),M=d(x,"SMALL",{class:!0});var Pe=b(M);L=d(Pe,"SPAN",{class:!0,"data-svelte-h":!0}),ee(L)!=="svelte-7kzc3g"&&(L.textContent=j),B=k(Pe),N=d(Pe,"SPAN",{class:!0});var ie=b(N);R=S(ie,O),ie.forEach(u),Pe.forEach(u),H=k(x),G=d(x,"SMALL",{class:!0});var ge=b(G);q=d(ge,"SPAN",{class:!0,"data-svelte-h":!0}),ee(q)!=="svelte-haf5jr"&&(q.textContent=A),te=k(ge),F=d(ge,"SPAN",{class:!0});var le=b(F);he=S(le,Y),le.forEach(u),ge.forEach(u),Ce=k(x),se=d(x,"SMALL",{class:!0});var Ie=b(se);we=d(Ie,"SPAN",{class:!0,"data-svelte-h":!0}),ee(we)!=="svelte-1bn7wya"&&(we.textContent=Ve),re=k(Ie),Be=d(Ie,"SPAN",{class:!0});var ve=b(Be);Ee=S(ve,Te),ve.forEach(u),Ie.forEach(u),z=k(x),ue=d(x,"SMALL",{class:!0});var He=b(ue);Ne=d(He,"SPAN",{class:!0,"data-svelte-h":!0}),ee(Ne)!=="svelte-1704y1y"&&(Ne.textContent=Me),Ae=k(He),oe=d(He,"SPAN",{class:!0});var $e=b(oe);De=S($e,_e),$e.forEach(u),He.forEach(u),Re=k(x),X&&X.l(x),x.forEach(u),this.h()},h(){m(a,"class","fw-lighter"),m(i,"class","fw-bolder"),m(l,"class","d-flex justify-content-between"),m(p,"class","fw-lighter"),m(v,"class","fw-bolder"),m(w,"class","d-flex justify-content-between"),m(L,"class","fw-lighter"),m(N,"class","fw-bolder"),m(M,"class","d-flex justify-content-between"),m(q,"class","fw-lighter"),m(F,"class","fw-bolder"),m(G,"class","d-flex justify-content-between"),m(we,"class","fw-lighter"),m(Be,"class","fw-bolder"),m(se,"class","d-flex justify-content-between"),m(Ne,"class","fw-lighter"),m(oe,"class","fw-bolder"),m(ue,"class","d-flex justify-content-between"),m(e,"class","d-flex flex-column gap-2")},m(Q,x){U(Q,e,x),J&&J.m(e,null),s(e,t),s(e,l),s(l,a),s(l,r),s(l,i),s(i,y),s(e,f),s(e,w),s(w,p),s(w,h),s(w,v),s(v,C),s(e,D),s(e,M),s(M,L),s(M,B),s(M,N),s(N,R),s(e,H),s(e,G),s(G,q),s(G,te),s(G,F),s(F,he),s(e,Ce),s(e,se),s(se,we),s(se,re),s(se,Be),s(Be,Ee),s(e,z),s(e,ue),s(ue,Ne),s(ue,Ae),s(ue,oe),s(oe,De),s(e,Re),X&&X.m(e,null)},p(Q,[x]){Q[2]?J?J.p(Q,x):(J=fn(Q),J.c(),J.m(e,t)):J&&(J.d(1),J=null),x&1&&c!==(c=Q[0]?.prepared_names_count+"")&&ae(y,c),x&1&&E!==(E=Q[0]?.baptism_ordinances_count+"")&&ae(C,E),x&1&&O!==(O=Q[0]?.confirmation_ordinances_count+"")&&ae(R,O),x&1&&Y!==(Y=Q[0]?.initiatory_ordinances_count+"")&&ae(he,Y),x&1&&Te!==(Te=Q[0]?.endowment_ordinances_count+"")&&ae(Ee,Te),x&1&&_e!==(_e=Q[0]?.sealing_ordinances_count+"")&&ae(De,_e),Q[1]&&Q[0]?.created_at?X?X.p(Q,x):(X=dn(Q),X.c(),X.m(e,null)):X&&(X.d(1),X=null)},i:de,o:de,d(Q){Q&&u(e),J&&J.d(),X&&X.d()}}}function Tl(n,e,t){let{entry:l}=e,{showSubmittedData:a=!1}=e,{showType:o=!1}=e;return n.$$set=r=>{"entry"in r&&t(0,l=r.entry),"showSubmittedData"in r&&t(1,a=r.showSubmittedData),"showType"in r&&t(2,o=r.showType)},[l,a,o]}class Ht extends lt{constructor(e){super(),at(this,e,Tl,kl,nt,{entry:0,showSubmittedData:1,showType:2})}}function Cl(n){let e,t,l=ze(Qe(n[1],"yyyy-MM-dd",new Date),"yyyy")+"",a,o,r,i=ze(Qe(n[1],"yyyy-MM-dd",new Date),"MMM dd, EEEE")+"",c,y,f,w,p,g,h,v,E,C,D="Total",M,L,j,B;return g=new Ht({props:{entry:n[0]}}),{c(){e=_("div"),t=_("small"),a=I(l),o=_("br"),r=T(),c=I(i),y=T(),f=_("ul"),w=_("li"),p=_("div"),qe(g.$$.fragment),h=T(),v=_("div"),E=_("small"),C=_("span"),C.textContent=D,M=T(),L=_("span"),j=I(n[2]),this.h()},l(N){e=d(N,"DIV",{});var O=b(e);t=d(O,"SMALL",{class:!0});var R=b(t);a=S(R,l),R.forEach(u),o=d(O,"BR",{}),r=k(O),c=S(O,i),O.forEach(u),y=k(N),f=d(N,"UL",{class:!0});var H=b(f);w=d(H,"LI",{class:!0});var G=b(w);p=d(G,"DIV",{class:!0});var q=b(p);We(g.$$.fragment,q),h=k(q),v=d(q,"DIV",{class:!0});var A=b(v);E=d(A,"SMALL",{class:!0});var te=b(E);C=d(te,"SPAN",{class:!0,"data-svelte-h":!0}),ee(C)!=="svelte-1n54x5l"&&(C.textContent=D),M=k(te),L=d(te,"SPAN",{class:!0});var F=b(L);j=S(F,n[2]),F.forEach(u),te.forEach(u),A.forEach(u),q.forEach(u),G.forEach(u),H.forEach(u),this.h()},h(){m(t,"class","text-muted"),m(C,"class","fw-bolder"),m(L,"class","fw-bolder"),m(E,"class","d-flex justify-content-between"),m(v,"class","d-flex flex-column gap-2"),m(p,"class","d-flex flex-column gap-2"),m(w,"class","list-group-item"),m(f,"class","list-group")},m(N,O){U(N,e,O),s(e,t),s(t,a),s(e,o),s(e,r),s(e,c),U(N,y,O),U(N,f,O),s(f,w),s(w,p),xe(g,p,null),s(p,h),s(p,v),s(v,E),s(E,C),s(E,M),s(E,L),s(L,j),B=!0},p(N,[O]){(!B||O&2)&&l!==(l=ze(Qe(N[1],"yyyy-MM-dd",new Date),"yyyy")+"")&&ae(a,l),(!B||O&2)&&i!==(i=ze(Qe(N[1],"yyyy-MM-dd",new Date),"MMM dd, EEEE")+"")&&ae(c,i);const R={};O&1&&(R.entry=N[0]),g.$set(R),(!B||O&4)&&ae(j,N[2])},i(N){B||(W(g.$$.fragment,N),B=!0)},o(N){K(g.$$.fragment,N),B=!1},d(N){N&&(u(e),u(y),u(f)),Ue(g)}}}function Ml(n,e,t){let l,{entry:a}=e,{date:o}=e;return n.$$set=r=>{"entry"in r&&t(0,a=r.entry),"date"in r&&t(1,o=r.date)},n.$$.update=()=>{n.$$.dirty&1&&t(2,l=a.baptism_ordinances_count+a.confirmation_ordinances_count+a.initiatory_ordinances_count+a.endowment_ordinances_count+a.sealing_ordinances_count)},[a,o,l]}class Sl extends lt{constructor(e){super(),at(this,e,Ml,Cl,nt,{entry:0,date:1})}}function Il(n){let e,t,l=ze(Qe(n[1],"yyyy-MM",new Date),"yyyy")+"",a,o,r,i=ze(Qe(n[1],"yyyy-MM",new Date),"MMMM")+"",c,y,f,w,p,g,h,v,E,C,D="Total",M,L,j,B;return g=new Ht({props:{entry:n[0]}}),{c(){e=_("div"),t=_("small"),a=I(l),o=_("br"),r=T(),c=I(i),y=T(),f=_("ul"),w=_("li"),p=_("div"),qe(g.$$.fragment),h=T(),v=_("div"),E=_("small"),C=_("span"),C.textContent=D,M=T(),L=_("span"),j=I(n[2]),this.h()},l(N){e=d(N,"DIV",{});var O=b(e);t=d(O,"SMALL",{class:!0});var R=b(t);a=S(R,l),R.forEach(u),o=d(O,"BR",{}),r=k(O),c=S(O,i),O.forEach(u),y=k(N),f=d(N,"UL",{class:!0});var H=b(f);w=d(H,"LI",{class:!0});var G=b(w);p=d(G,"DIV",{class:!0});var q=b(p);We(g.$$.fragment,q),h=k(q),v=d(q,"DIV",{class:!0});var A=b(v);E=d(A,"SMALL",{class:!0});var te=b(E);C=d(te,"SPAN",{class:!0,"data-svelte-h":!0}),ee(C)!=="svelte-1n54x5l"&&(C.textContent=D),M=k(te),L=d(te,"SPAN",{class:!0});var F=b(L);j=S(F,n[2]),F.forEach(u),te.forEach(u),A.forEach(u),q.forEach(u),G.forEach(u),H.forEach(u),this.h()},h(){m(t,"class","text-muted"),m(C,"class","fw-bolder"),m(L,"class","fw-bolder"),m(E,"class","d-flex justify-content-between"),m(v,"class","d-flex flex-column gap-2"),m(p,"class","d-flex flex-column gap-2"),m(w,"class","list-group-item"),m(f,"class","list-group")},m(N,O){U(N,e,O),s(e,t),s(t,a),s(e,o),s(e,r),s(e,c),U(N,y,O),U(N,f,O),s(f,w),s(w,p),xe(g,p,null),s(p,h),s(p,v),s(v,E),s(E,C),s(E,M),s(E,L),s(L,j),B=!0},p(N,[O]){(!B||O&2)&&l!==(l=ze(Qe(N[1],"yyyy-MM",new Date),"yyyy")+"")&&ae(a,l),(!B||O&2)&&i!==(i=ze(Qe(N[1],"yyyy-MM",new Date),"MMMM")+"")&&ae(c,i);const R={};O&1&&(R.entry=N[0]),g.$set(R),(!B||O&4)&&ae(j,N[2])},i(N){B||(W(g.$$.fragment,N),B=!0)},o(N){K(g.$$.fragment,N),B=!1},d(N){N&&(u(e),u(y),u(f)),Ue(g)}}}function Ll(n,e,t){let{entry:l}=e,{date:a}=e,o=0;return n.$$set=r=>{"entry"in r&&t(0,l=r.entry),"date"in r&&t(1,a=r.date)},n.$$.update=()=>{n.$$.dirty&1&&t(2,o=l.baptism_ordinances_count+l.confirmation_ordinances_count+l.initiatory_ordinances_count+l.endowment_ordinances_count+l.sealing_ordinances_count)},[l,a,o]}class Nl extends lt{constructor(e){super(),at(this,e,Ll,Il,nt,{entry:0,date:1})}}function _n(n,e,t){const l=n.slice();return l[2]=e[t],l}function mn(n){let e,t,l,a,o;return l=new Ht({props:{entry:n[2],showSubmittedData:!0,showType:!0}}),{c(){e=_("li"),t=_("div"),qe(l.$$.fragment),a=T(),this.h()},l(r){e=d(r,"LI",{class:!0});var i=b(e);t=d(i,"DIV",{class:!0});var c=b(t);We(l.$$.fragment,c),c.forEach(u),a=k(i),i.forEach(u),this.h()},h(){m(t,"class","d-flex flex-column gap-2"),m(e,"class","list-group-item")},m(r,i){U(r,e,i),s(e,t),xe(l,t,null),s(e,a),o=!0},p(r,i){const c={};i&1&&(c.entry=r[2]),l.$set(c)},i(r){o||(W(l.$$.fragment,r),o=!0)},o(r){K(l.$$.fragment,r),o=!1},d(r){r&&u(e),Ue(l)}}}function Al(n){let e,t,l=ze(Qe(n[1],"yyyy-MM-dd",new Date),"yyyy")+"",a,o,r,i=ze(Qe(n[1],"yyyy-MM-dd",new Date),"MMM dd, EEEE")+"",c,y,f,w,p=tt(n[0]),g=[];for(let v=0;v<p.length;v+=1)g[v]=mn(_n(n,p,v));const h=v=>K(g[v],1,1,()=>{g[v]=null});return{c(){e=_("div"),t=_("small"),a=I(l),o=_("br"),r=T(),c=I(i),y=T(),f=_("ul");for(let v=0;v<g.length;v+=1)g[v].c();this.h()},l(v){e=d(v,"DIV",{});var E=b(e);t=d(E,"SMALL",{class:!0});var C=b(t);a=S(C,l),C.forEach(u),o=d(E,"BR",{}),r=k(E),c=S(E,i),E.forEach(u),y=k(v),f=d(v,"UL",{class:!0});var D=b(f);for(let M=0;M<g.length;M+=1)g[M].l(D);D.forEach(u),this.h()},h(){m(t,"class","text-muted"),m(f,"class","list-group")},m(v,E){U(v,e,E),s(e,t),s(t,a),s(e,o),s(e,r),s(e,c),U(v,y,E),U(v,f,E);for(let C=0;C<g.length;C+=1)g[C]&&g[C].m(f,null);w=!0},p(v,[E]){if((!w||E&2)&&l!==(l=ze(Qe(v[1],"yyyy-MM-dd",new Date),"yyyy")+"")&&ae(a,l),(!w||E&2)&&i!==(i=ze(Qe(v[1],"yyyy-MM-dd",new Date),"MMM dd, EEEE")+"")&&ae(c,i),E&1){p=tt(v[0]);let C;for(C=0;C<p.length;C+=1){const D=_n(v,p,C);g[C]?(g[C].p(D,E),W(g[C],1)):(g[C]=mn(D),g[C].c(),W(g[C],1),g[C].m(f,null))}for(Ze(),C=p.length;C<g.length;C+=1)h(C);et()}},i(v){if(!w){for(let E=0;E<p.length;E+=1)W(g[E]);w=!0}},o(v){g=g.filter(Boolean);for(let E=0;E<g.length;E+=1)K(g[E]);w=!1},d(v){v&&(u(e),u(y),u(f)),It(g,v)}}}function Pl(n,e,t){let{entries:l}=e,{date:a}=e;return n.$$set=o=>{"entries"in o&&t(0,l=o.entries),"date"in o&&t(1,a=o.date)},[l,a]}class Ol extends lt{constructor(e){super(),at(this,e,Pl,Al,nt,{entries:0,date:1})}}function hn(n,e,t){const l=n.slice();return l[17]=e[t][0],l[18]=e[t][1],l}function pn(n,e,t){const l=n.slice();return l[17]=e[t][0],l[18]=e[t][1],l}function gn(n,e,t){const l=n.slice();return l[17]=e[t][0],l[23]=e[t][1],l}function Vl(n){let e;return{c(){e=I("No Data Found")},l(t){e=S(t,"No Data Found")},m(t,l){U(t,e,l)},p:de,i:de,o:de,d(t){t&&u(e)}}}function Bl(n){let e,t,l,a,o,r,i;function c(g){n[11](g)}let y={options:n[8],helperText:"",label:"Filter",disabled:!1};n[1]!==void 0&&(y.value=n[1]),t=new zn({props:y}),_t.push(()=>vt(t,"value",c));let f=n[1]==="by-submission"&&vn(n),w=n[1]==="by-day"&&yn(n),p=n[1]==="by-month"&&En(n);return{c(){e=_("div"),qe(t.$$.fragment),a=T(),f&&f.c(),o=T(),w&&w.c(),r=T(),p&&p.c(),this.h()},l(g){e=d(g,"DIV",{class:!0});var h=b(e);We(t.$$.fragment,h),a=k(h),f&&f.l(h),o=k(h),w&&w.l(h),r=k(h),p&&p.l(h),h.forEach(u),this.h()},h(){m(e,"class","d-flex flex-column gap-3")},m(g,h){U(g,e,h),xe(t,e,null),s(e,a),f&&f.m(e,null),s(e,o),w&&w.m(e,null),s(e,r),p&&p.m(e,null),i=!0},p(g,h){const v={};!l&&h&2&&(l=!0,v.value=g[1],gt(()=>l=!1)),t.$set(v),g[1]==="by-submission"?f?(f.p(g,h),h&2&&W(f,1)):(f=vn(g),f.c(),W(f,1),f.m(e,o)):f&&(Ze(),K(f,1,1,()=>{f=null}),et()),g[1]==="by-day"?w?(w.p(g,h),h&2&&W(w,1)):(w=yn(g),w.c(),W(w,1),w.m(e,r)):w&&(Ze(),K(w,1,1,()=>{w=null}),et()),g[1]==="by-month"?p?(p.p(g,h),h&2&&W(p,1)):(p=En(g),p.c(),W(p,1),p.m(e,null)):p&&(Ze(),K(p,1,1,()=>{p=null}),et())},i(g){i||(W(t.$$.fragment,g),W(f),W(w),W(p),i=!0)},o(g){K(t.$$.fragment,g),K(f),K(w),K(p),i=!1},d(g){g&&u(e),Ue(t),f&&f.d(),w&&w.d(),p&&p.d()}}}function vn(n){let e,t,l=tt(Object.entries(n[2])),a=[];for(let r=0;r<l.length;r+=1)a[r]=bn(gn(n,l,r));const o=r=>K(a[r],1,1,()=>{a[r]=null});return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=mt()},l(r){for(let i=0;i<a.length;i+=1)a[i].l(r);e=mt()},m(r,i){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(r,i);U(r,e,i),t=!0},p(r,i){if(i&4){l=tt(Object.entries(r[2]));let c;for(c=0;c<l.length;c+=1){const y=gn(r,l,c);a[c]?(a[c].p(y,i),W(a[c],1)):(a[c]=bn(y),a[c].c(),W(a[c],1),a[c].m(e.parentNode,e))}for(Ze(),c=l.length;c<a.length;c+=1)o(c);et()}},i(r){if(!t){for(let i=0;i<l.length;i+=1)W(a[i]);t=!0}},o(r){a=a.filter(Boolean);for(let i=0;i<a.length;i+=1)K(a[i]);t=!1},d(r){r&&u(e),It(a,r)}}}function bn(n){let e,t,l,a;return t=new Ol({props:{date:n[17],entries:n[23]}}),{c(){e=_("div"),qe(t.$$.fragment),l=T(),this.h()},l(o){e=d(o,"DIV",{class:!0});var r=b(e);We(t.$$.fragment,r),l=k(r),r.forEach(u),this.h()},h(){m(e,"class","d-flex flex-column gap-3")},m(o,r){U(o,e,r),xe(t,e,null),s(e,l),a=!0},p(o,r){const i={};r&4&&(i.date=o[17]),r&4&&(i.entries=o[23]),t.$set(i)},i(o){a||(W(t.$$.fragment,o),a=!0)},o(o){K(t.$$.fragment,o),a=!1},d(o){o&&u(e),Ue(t)}}}function yn(n){let e,t,l=tt(Object.entries(n[3])),a=[];for(let r=0;r<l.length;r+=1)a[r]=wn(pn(n,l,r));const o=r=>K(a[r],1,1,()=>{a[r]=null});return{c(){e=_("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=d(r,"DIV",{class:!0});var i=b(e);for(let c=0;c<a.length;c+=1)a[c].l(i);i.forEach(u),this.h()},h(){m(e,"class","d-flex flex-column gap-3")},m(r,i){U(r,e,i);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);t=!0},p(r,i){if(i&8){l=tt(Object.entries(r[3]));let c;for(c=0;c<l.length;c+=1){const y=pn(r,l,c);a[c]?(a[c].p(y,i),W(a[c],1)):(a[c]=wn(y),a[c].c(),W(a[c],1),a[c].m(e,null))}for(Ze(),c=l.length;c<a.length;c+=1)o(c);et()}},i(r){if(!t){for(let i=0;i<l.length;i+=1)W(a[i]);t=!0}},o(r){a=a.filter(Boolean);for(let i=0;i<a.length;i+=1)K(a[i]);t=!1},d(r){r&&u(e),It(a,r)}}}function wn(n){let e,t;return e=new Sl({props:{date:n[17],entry:n[18]}}),{c(){qe(e.$$.fragment)},l(l){We(e.$$.fragment,l)},m(l,a){xe(e,l,a),t=!0},p(l,a){const o={};a&8&&(o.date=l[17]),a&8&&(o.entry=l[18]),e.$set(o)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){Ue(e,l)}}}function En(n){let e,t,l=tt(Object.entries(n[4])),a=[];for(let r=0;r<l.length;r+=1)a[r]=Dn(hn(n,l,r));const o=r=>K(a[r],1,1,()=>{a[r]=null});return{c(){e=_("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=d(r,"DIV",{class:!0});var i=b(e);for(let c=0;c<a.length;c+=1)a[c].l(i);i.forEach(u),this.h()},h(){m(e,"class","d-flex flex-column gap-3")},m(r,i){U(r,e,i);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);t=!0},p(r,i){if(i&16){l=tt(Object.entries(r[4]));let c;for(c=0;c<l.length;c+=1){const y=hn(r,l,c);a[c]?(a[c].p(y,i),W(a[c],1)):(a[c]=Dn(y),a[c].c(),W(a[c],1),a[c].m(e,null))}for(Ze(),c=l.length;c<a.length;c+=1)o(c);et()}},i(r){if(!t){for(let i=0;i<l.length;i+=1)W(a[i]);t=!0}},o(r){a=a.filter(Boolean);for(let i=0;i<a.length;i+=1)K(a[i]);t=!1},d(r){r&&u(e),It(a,r)}}}function Dn(n){let e,t;return e=new Nl({props:{date:n[17],entry:n[18]}}),{c(){qe(e.$$.fragment)},l(l){We(e.$$.fragment,l)},m(l,a){xe(e,l,a),t=!0},p(l,a){const o={};a&16&&(o.date=l[17]),a&16&&(o.entry=l[18]),e.$set(o)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){Ue(e,l)}}}function jl(n){let e,t,l,a;const o=[Bl,Vl],r=[];function i(c,y){return c[0]?.length?0:1}return e=i(n),t=r[e]=o[e](n),{c(){t.c(),l=mt()},l(c){t.l(c),l=mt()},m(c,y){r[e].m(c,y),U(c,l,y),a=!0},p(c,[y]){let f=e;e=i(c),e===f?r[e].p(c,y):(Ze(),K(r[f],1,1,()=>{r[f]=null}),et(),t=r[e],t?t.p(c,y):(t=r[e]=o[e](c),t.c()),W(t,1),t.m(l.parentNode,l))},i(c){a||(W(t),a=!0)},o(c){K(t),a=!1},d(c){c&&u(l),r[e].d(c)}}}function Rl(n){return n?n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):""}function Hl(n,e,t){let l,a,o,r;const{stores:{data:i,groupedByDate:c,detailTotalsByDay:y,detailTotalsByMonth:f},actions:{reload:w}}=jt();ft(n,c,L=>t(2,a=L)),ft(n,y,L=>t(3,o=L)),ft(n,f,L=>t(4,r=L));let{query:p=""}=e,g=[],h=[];const v=i.subscribe(L=>{t(0,g=L),t(10,h=[...L])}),E=L=>{let j=[...g];return L&&(j=j.filter(B=>B?.entry_type?B?.entry_type?.trim().toLowerCase().match(l.trim().toLowerCase()):!1)),j};On(w),Rn(v);let C="by-month";const D=[{key:"By Submission",value:"by-submission"},{key:"By Day",value:"by-day"},{key:"By Month",value:"by-month"}];function M(L){C=L,t(1,C)}return n.$$set=L=>{"query"in L&&t(9,p=L.query)},n.$$.update=()=>{n.$$.dirty&512&&(l=Rl(p?.trim().toLowerCase())),n.$$.dirty&1536&&(p?t(0,g=E(p)):t(0,g=[...h]))},[g,C,a,o,r,c,y,f,D,p,h,M]}class Ul extends lt{constructor(e){super(),at(this,e,Hl,jl,nt,{query:9})}}function kn(n){let e,t="0";return{c(){e=_("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-f2q4pl"&&(e.textContent=t),this.h()},h(){m(e,"class","d-flex justify-content-end")},m(l,a){U(l,e,a)},d(l){l&&u(e)}}}function Tn(n){let e,t="0";return{c(){e=_("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-f2q4pl"&&(e.textContent=t),this.h()},h(){m(e,"class","d-flex justify-content-end")},m(l,a){U(l,e,a)},d(l){l&&u(e)}}}function Cn(n){let e,t=St(n[4])+"",l;return{c(){e=_("span"),l=I(t),this.h()},l(a){e=d(a,"SPAN",{class:!0});var o=b(e);l=S(o,t),o.forEach(u),this.h()},h(){m(e,"class","d-flex justify-content-end")},m(a,o){U(a,e,o),s(e,l)},p(a,o){o&16&&t!==(t=St(a[4])+"")&&ae(l,t)},d(a){a&&u(e)}}}function Mn(n){let e,t=St(n[7])+"",l;return{c(){e=_("span"),l=I(t),this.h()},l(a){e=d(a,"SPAN",{class:!0});var o=b(e);l=S(o,t),o.forEach(u),this.h()},h(){m(e,"class","d-flex justify-content-end")},m(a,o){U(a,e,o),s(e,l)},p(a,o){o&128&&t!==(t=St(a[7])+"")&&ae(l,t)},d(a){a&&u(e)}}}function Sn(n){let e,t,l="Temple Ordinances Progress",a,o,r,i,c,y,f;return{c(){e=_("div"),t=_("small"),t.textContent=l,a=T(),o=_("div"),r=_("div"),i=T(),c=_("small"),y=I(n[5]),f=I("% complete"),this.h()},l(w){e=d(w,"DIV",{class:!0});var p=b(e);t=d(p,"SMALL",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-gwd70w"&&(t.textContent=l),a=k(p),o=d(p,"DIV",{class:!0,style:!0});var g=b(o);r=d(g,"DIV",{class:!0,role:!0,style:!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0}),b(r).forEach(u),g.forEach(u),i=k(p),c=d(p,"SMALL",{class:!0});var h=b(c);y=S(h,n[5]),f=S(h,"% complete"),h.forEach(u),p.forEach(u),this.h()},h(){m(t,"class","text-muted"),m(r,"class","progress-bar"),m(r,"role","progressbar"),Ct(r,"width",Math.min(n[5],100)+"%"),m(r,"aria-valuenow",n[5]),m(r,"aria-valuemin","0"),m(r,"aria-valuemax","100"),m(o,"class","progress"),Ct(o,"height","8px"),m(c,"class","text-muted"),m(e,"class","progress-section svelte-1runh9v")},m(w,p){U(w,e,p),s(e,t),s(e,a),s(e,o),s(o,r),s(e,i),s(e,c),s(c,y),s(c,f)},p(w,p){p&32&&Ct(r,"width",Math.min(w[5],100)+"%"),p&32&&m(r,"aria-valuenow",w[5]),p&32&&ae(y,w[5])},d(w){w&&u(e)}}}function xl(n){let e,t,l,a=n[0].year+"",o,r,i,c,y,f,w,p,g,h,v,E,C='<tr><th scope="col"></th> <th scope="col"><span class="d-flex justify-content-end">Goal</span></th> <th scope="col"><span class="d-flex justify-content-end">Actual</span></th></tr>',D,M,L,j,B='<span class="fw-lighter">Baptisms</span>',N,O,R,H=kt(n[0].baptisms_goal)+"",G,q,A,te,F,Y,he='<span class="fw-lighter">Family Sealing</span>',Ce,se,we,Ve=kt(n[0].family_sealings_goal)+"",re,Be,Te,Ee,z,ue,Ne='<span class="fw-lighter">Temple Ordinances</span>',Me,Ae,oe,_e=kt(n[0].temple_ordinances_goal)+"",De,Re,J,X,Q,x,Se='<span class="fw-lighter">Names Prepared for Temple Ordinances</span>',pe,$,ke='<span class="d-flex justify-content-end">--</span>',Pe,ie,ge,le,Ie,ve,He,$e,it,Ke,je,Fe,ct,rt,dt,be=!n[8]&&kn(),P=!n[8]&&Tn(),V=!n[8]&&Cn(n),Z=!n[8]&&Mn(n),ce=n[5]!==null&&n[0].temple_ordinances_goal&&Sn(n);return{c(){e=_("div"),t=_("div"),l=I("Ward Mission Goal "),o=I(a),r=T(),i=_("span"),c=I("("),y=I(n[6]),f=I(")"),w=T(),p=_("div"),g=_("div"),h=_("div"),v=_("table"),E=_("thead"),E.innerHTML=C,D=T(),M=_("tbody"),L=_("tr"),j=_("td"),j.innerHTML=B,N=T(),O=_("td"),R=_("span"),G=I(H),q=T(),A=_("td"),be&&be.c(),te=T(),F=_("tr"),Y=_("td"),Y.innerHTML=he,Ce=T(),se=_("td"),we=_("span"),re=I(Ve),Be=T(),Te=_("td"),P&&P.c(),Ee=T(),z=_("tr"),ue=_("td"),ue.innerHTML=Ne,Me=T(),Ae=_("td"),oe=_("span"),De=I(_e),Re=T(),J=_("td"),V&&V.c(),X=T(),Q=_("tr"),x=_("td"),x.innerHTML=Se,pe=T(),$=_("td"),$.innerHTML=ke,Pe=T(),ie=_("td"),Z&&Z.c(),ge=T(),ce&&ce.c(),le=T(),Ie=_("div"),ve=_("button"),He=I("Submit your temple activity"),it=T(),Ke=_("div"),je=_("button"),Fe=I("See all submissions"),this.h()},l(ne){e=d(ne,"DIV",{class:!0});var fe=b(e);t=d(fe,"DIV",{class:!0});var ye=b(t);l=S(ye,"Ward Mission Goal "),o=S(ye,a),r=k(ye),i=d(ye,"SPAN",{class:!0});var Ye=b(i);c=S(Ye,"("),y=S(Ye,n[6]),f=S(Ye,")"),Ye.forEach(u),ye.forEach(u),w=k(fe),p=d(fe,"DIV",{class:!0});var me=b(p);g=d(me,"DIV",{class:!0});var Le=b(g);h=d(Le,"DIV",{class:!0});var bt=b(h);v=d(bt,"TABLE",{class:!0});var ut=b(v);E=d(ut,"THEAD",{"data-svelte-h":!0}),ee(E)!=="svelte-mx78dg"&&(E.innerHTML=C),D=k(ut),M=d(ut,"TBODY",{});var st=b(M);L=d(st,"TR",{});var ot=b(L);j=d(ot,"TD",{"data-svelte-h":!0}),ee(j)!=="svelte-14gdsdh"&&(j.innerHTML=B),N=k(ot),O=d(ot,"TD",{});var ht=b(O);R=d(ht,"SPAN",{class:!0});var Tt=b(R);G=S(Tt,H),Tt.forEach(u),ht.forEach(u),q=k(ot),A=d(ot,"TD",{});var Ut=b(A);be&&be.l(Ut),Ut.forEach(u),ot.forEach(u),te=k(st),F=d(st,"TR",{});var yt=b(F);Y=d(yt,"TD",{"data-svelte-h":!0}),ee(Y)!=="svelte-1wbe9hz"&&(Y.innerHTML=he),Ce=k(yt),se=d(yt,"TD",{});var xt=b(se);we=d(xt,"SPAN",{class:!0});var Wt=b(we);re=S(Wt,Ve),Wt.forEach(u),xt.forEach(u),Be=k(yt),Te=d(yt,"TD",{});var qt=b(Te);P&&P.l(qt),qt.forEach(u),yt.forEach(u),Ee=k(st),z=d(st,"TR",{});var wt=b(z);ue=d(wt,"TD",{"data-svelte-h":!0}),ee(ue)!=="svelte-19hzl8h"&&(ue.innerHTML=Ne),Me=k(wt),Ae=d(wt,"TD",{});var Gt=b(Ae);oe=d(Gt,"SPAN",{class:!0});var Ft=b(oe);De=S(Ft,_e),Ft.forEach(u),Gt.forEach(u),Re=k(wt),J=d(wt,"TD",{});var Yt=b(J);V&&V.l(Yt),Yt.forEach(u),wt.forEach(u),X=k(st),Q=d(st,"TR",{});var Et=b(Q);x=d(Et,"TD",{"data-svelte-h":!0}),ee(x)!=="svelte-ul3utp"&&(x.innerHTML=Se),pe=k(Et),$=d(Et,"TD",{"data-svelte-h":!0}),ee($)!=="svelte-1pgevhv"&&($.innerHTML=ke),Pe=k(Et),ie=d(Et,"TD",{});var zt=b(ie);Z&&Z.l(zt),zt.forEach(u),Et.forEach(u),st.forEach(u),ut.forEach(u),bt.forEach(u),ge=k(Le),ce&&ce.l(Le),le=k(Le),Ie=d(Le,"DIV",{class:!0});var Xt=b(Ie);ve=d(Xt,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var $t=b(ve);He=S($t,"Submit your temple activity"),$t.forEach(u),Xt.forEach(u),it=k(Le),Ke=d(Le,"DIV",{class:!0});var Kt=b(Ke);je=d(Kt,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var Jt=b(je);Fe=S(Jt,"See all submissions"),Jt.forEach(u),Kt.forEach(u),Le.forEach(u),me.forEach(u),fe.forEach(u),this.h()},h(){m(i,"class","text-muted fw-light"),m(t,"class","card-header svelte-1runh9v"),m(R,"class","d-flex justify-content-end"),m(we,"class","d-flex justify-content-end"),m(oe,"class","d-flex justify-content-end"),m(v,"class","table"),m(h,"class","table-responsive"),m(ve,"class","btn btn-sm btn-primary w-100"),m(ve,"type","button"),m(ve,"data-bs-toggle","offcanvas"),m(ve,"data-bs-target",$e="#"+n[1]),m(ve,"aria-controls",n[1]),m(Ie,"class","d-block"),m(je,"class","btn btn-sm btn-link w-100"),m(je,"type","button"),m(je,"data-bs-toggle","offcanvas"),m(je,"data-bs-target",ct="#"+n[1]),m(je,"aria-controls",n[1]),m(Ke,"class","d-block"),m(g,"class","d-flex flex-column gap-2"),m(p,"class","card-body"),m(e,"class","card")},m(ne,fe){U(ne,e,fe),s(e,t),s(t,l),s(t,o),s(t,r),s(t,i),s(i,c),s(i,y),s(i,f),s(e,w),s(e,p),s(p,g),s(g,h),s(h,v),s(v,E),s(v,D),s(v,M),s(M,L),s(L,j),s(L,N),s(L,O),s(O,R),s(R,G),s(L,q),s(L,A),be&&be.m(A,null),s(M,te),s(M,F),s(F,Y),s(F,Ce),s(F,se),s(se,we),s(we,re),s(F,Be),s(F,Te),P&&P.m(Te,null),s(M,Ee),s(M,z),s(z,ue),s(z,Me),s(z,Ae),s(Ae,oe),s(oe,De),s(z,Re),s(z,J),V&&V.m(J,null),s(M,X),s(M,Q),s(Q,x),s(Q,pe),s(Q,$),s(Q,Pe),s(Q,ie),Z&&Z.m(ie,null),s(g,ge),ce&&ce.m(g,null),s(g,le),s(g,Ie),s(Ie,ve),s(ve,He),s(g,it),s(g,Ke),s(Ke,je),s(je,Fe),rt||(dt=[Je(ve,"click",function(){en(n[2])&&n[2].apply(this,arguments)}),Je(je,"click",function(){en(n[3])&&n[3].apply(this,arguments)})],rt=!0)},p(ne,[fe]){n=ne,fe&1&&a!==(a=n[0].year+"")&&ae(o,a),fe&64&&ae(y,n[6]),fe&1&&H!==(H=kt(n[0].baptisms_goal)+"")&&ae(G,H),n[8]?be&&(be.d(1),be=null):be||(be=kn(),be.c(),be.m(A,null)),fe&1&&Ve!==(Ve=kt(n[0].family_sealings_goal)+"")&&ae(re,Ve),n[8]?P&&(P.d(1),P=null):P||(P=Tn(),P.c(),P.m(Te,null)),fe&1&&_e!==(_e=kt(n[0].temple_ordinances_goal)+"")&&ae(De,_e),n[8]?V&&(V.d(1),V=null):V?V.p(n,fe):(V=Cn(n),V.c(),V.m(J,null)),n[8]?Z&&(Z.d(1),Z=null):Z?Z.p(n,fe):(Z=Mn(n),Z.c(),Z.m(ie,null)),n[5]!==null&&n[0].temple_ordinances_goal?ce?ce.p(n,fe):(ce=Sn(n),ce.c(),ce.m(g,le)):ce&&(ce.d(1),ce=null),fe&2&&$e!==($e="#"+n[1])&&m(ve,"data-bs-target",$e),fe&2&&m(ve,"aria-controls",n[1]),fe&2&&ct!==(ct="#"+n[1])&&m(je,"data-bs-target",ct),fe&2&&m(je,"aria-controls",n[1])},i:de,o:de,d(ne){ne&&u(e),be&&be.d(),P&&P.d(),V&&V.d(),Z&&Z.d(),ce&&ce.d(),rt=!1,Ot(dt)}}}function Wl(n,e){const[t,l,a]=n.split("-").map(Number),[o,r,i]=e.split("-").map(Number),c=new Date(t,l-1,a),y=new Date(o,r-1,i),f=c.toLocaleDateString("en-US",{month:"short"}),w=y.toLocaleDateString("en-US",{month:"short"});return`${f} to ${w}`}function St(n){return n.toLocaleString("en-US")}function kt(n){return n!==null?St(n):"--"}function ql(n,e,t){let l,a,o,r,i,c,y,{goal:f}=e,{drawerId:w}=e,{onSubmitClick:p}=e,{onViewResultsClick:g}=e;const{stores:{data:h,loading:v}}=jt();return ft(n,h,E=>t(12,c=E)),ft(n,v,E=>t(8,y=E)),n.$$set=E=>{"goal"in E&&t(0,f=E.goal),"drawerId"in E&&t(1,w=E.drawerId),"onSubmitClick"in E&&t(2,p=E.onSubmitClick),"onViewResultsClick"in E&&t(3,g=E.onViewResultsClick)},n.$$.update=()=>{n.$$.dirty&4097&&t(11,l=nl(c,f.start_date,f.end_date)),n.$$.dirty&2048&&t(4,a=ll(l)),n.$$.dirty&2048&&t(7,o=al(l)),n.$$.dirty&1&&t(6,r=Wl(f.start_date,f.end_date)),n.$$.dirty&17&&t(5,i=f.temple_ordinances_goal&&f.temple_ordinances_goal>0?Math.round(a/f.temple_ordinances_goal*100):null)},[f,w,p,g,a,i,r,o,y,h,v,l,c]}class Gl extends lt{constructor(e){super(),at(this,e,ql,xl,nt,{goal:0,drawerId:1,onSubmitClick:2,onViewResultsClick:3})}}function In(n,e,t){const l=n.slice();return l[19]=e[t],l}function Ln(n){let e,t;return e=new Dl({props:{drawerId:n[7],minDate:n[5]?.start_date,maxDate:n[5]?.end_date}}),{c(){qe(e.$$.fragment)},l(l){We(e.$$.fragment,l)},m(l,a){xe(e,l,a),t=!0},p(l,a){const o={};a&32&&(o.minDate=l[5]?.start_date),a&32&&(o.maxDate=l[5]?.end_date),e.$set(o)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){Ue(e,l)}}}function Nn(n){let e,t;return e=new Ul({}),{c(){qe(e.$$.fragment)},l(l){We(e.$$.fragment,l)},m(l,a){xe(e,l,a),t=!0},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){Ue(e,l)}}}function Fl(n){let e,t,l,a=n[0]==="form"&&Ln(n),o=n[0]==="results"&&Nn();return{c(){a&&a.c(),e=T(),o&&o.c(),t=mt()},l(r){a&&a.l(r),e=k(r),o&&o.l(r),t=mt()},m(r,i){a&&a.m(r,i),U(r,e,i),o&&o.m(r,i),U(r,t,i),l=!0},p(r,i){r[0]==="form"?a?(a.p(r,i),i&1&&W(a,1)):(a=Ln(r),a.c(),W(a,1),a.m(e.parentNode,e)):a&&(Ze(),K(a,1,1,()=>{a=null}),et()),r[0]==="results"?o?i&1&&W(o,1):(o=Nn(),o.c(),W(o,1),o.m(t.parentNode,t)):o&&(Ze(),K(o,1,1,()=>{o=null}),et())},i(r){l||(W(a),W(o),l=!0)},o(r){K(a),K(o),l=!1},d(r){r&&(u(e),u(t)),a&&a.d(r),o&&o.d(r)}}}function Yl(n){let e,t=[],l=new Map,a,o=tt(n[3]);const r=i=>i[19].id;for(let i=0;i<o.length;i+=1){let c=In(n,o,i),y=r(c);l.set(y,t[i]=Pn(y,c))}return{c(){e=_("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=d(i,"DIV",{class:!0});var c=b(e);for(let y=0;y<t.length;y+=1)t[y].l(c);c.forEach(u),this.h()},h(){m(e,"class","row g-3")},m(i,c){U(i,e,c);for(let y=0;y<t.length;y+=1)t[y]&&t[y].m(e,null);a=!0},p(i,c){c&6282&&(o=tt(i[3]),Ze(),t=Wn(t,c,r,1,i,o,l,e,qn,Pn,null,In),et())},i(i){if(!a){for(let c=0;c<o.length;c+=1)W(t[c]);a=!0}},o(i){for(let c=0;c<t.length;c+=1)K(t[c]);a=!1},d(i){i&&u(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function zl(n){let e,t='<h5 class="alert-heading">No Goals Configured</h5> <p class="mb-0">No ward mission goals have been configured yet. Please contact an admin to set up goals.</p>';return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1t5x616"&&(e.innerHTML=t),this.h()},h(){m(e,"class","alert alert-info"),m(e,"role","alert")},m(l,a){U(l,e,a)},p:de,i:de,o:de,d(l){l&&u(e)}}}function Xl(n){let e,t='<div class="spinner-border" role="status"><span class="visually-hidden">Loading goals...</span></div>';return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-l6n904"&&(e.innerHTML=t),this.h()},h(){m(e,"class","text-center py-5")},m(l,a){U(l,e,a)},p:de,i:de,o:de,d(l){l&&u(e)}}}function An(n){let e,t,l;return{c(){e=_("button"),this.h()},l(a){e=d(a,"BUTTON",{style:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0}),b(e).forEach(u),this.h()},h(){Ct(e,"display","none"),m(e,"data-bs-toggle","offcanvas"),m(e,"data-bs-target","#"+n[7]),m(e,"aria-controls",n[7])},m(a,o){U(a,e,o),n[16](e),t||(l=Je(e,"click",n[11]),t=!0)},p:de,d(a){a&&u(e),n[16](null),t=!1,l()}}}function Pn(n,e){let t,l,a,o,r;l=new Gl({props:{goal:e[19],drawerId:e[7],onSubmitClick:e[11],onViewResultsClick:e[12]}});let i=e[19]===e[3][0]&&An(e);return{key:n,first:null,c(){t=_("div"),qe(l.$$.fragment),a=T(),i&&i.c(),o=T(),this.h()},l(c){t=d(c,"DIV",{class:!0});var y=b(t);We(l.$$.fragment,y),a=k(y),i&&i.l(y),o=k(y),y.forEach(u),this.h()},h(){m(t,"class","col-12"),this.first=t},m(c,y){U(c,t,y),xe(l,t,null),s(t,a),i&&i.m(t,null),s(t,o),r=!0},p(c,y){e=c;const f={};y&8&&(f.goal=e[19]),l.$set(f),e[19]===e[3][0]?i?i.p(e,y):(i=An(e),i.c(),i.m(t,o)):i&&(i.d(1),i=null)},i(c){r||(W(l.$$.fragment,c),r=!0)},o(c){K(l.$$.fragment,c),r=!1},d(c){c&&u(t),Ue(l),i&&i.d()}}}function $l(n){let e,t,l,a,o,r;e=new Gn({props:{placement:n[2],title:n[4],id:n[7],$$slots:{default:[Fl]},$$scope:{ctx:n}}});const i=[Xl,zl,Yl],c=[];function y(f,w){return f[6]?0:f[3].length===0?1:2}return l=y(n),a=c[l]=i[l](n),{c(){qe(e.$$.fragment),t=T(),a.c(),o=mt()},l(f){We(e.$$.fragment,f),t=k(f),a.l(f),o=mt()},m(f,w){xe(e,f,w),U(f,t,w),c[l].m(f,w),U(f,o,w),r=!0},p(f,[w]){const p={};w&4&&(p.placement=f[2]),w&16&&(p.title=f[4]),w&4194337&&(p.$$scope={dirty:w,ctx:f}),e.$set(p);let g=l;l=y(f),l===g?c[l].p(f,w):(Ze(),K(c[g],1,1,()=>{c[g]=null}),et(),a=c[l],a?a.p(f,w):(a=c[l]=i[l](f),a.c()),W(a,1),a.m(o.parentNode,o))},i(f){r||(W(e.$$.fragment,f),W(a),r=!0)},o(f){K(e.$$.fragment,f),K(a),r=!1},d(f){f&&(u(t),u(o)),Ue(e,f),c[l].d(f)}}}function Kl(n,e,t){let l,a,o,r,i,c="form",y=Fn(),f="end",w,p=!1;const{actions:{reload:g}}=jt(),{stores:{activeGoals:h,loading:v,currentGoalPeriod:E},actions:{reload:C}}=Yn();ft(n,h,B=>t(15,o=B)),ft(n,v,B=>t(6,i=B)),ft(n,E,B=>t(5,r=B));let D=null;function M(){t(0,c="form")}function L(){t(0,c="results")}On(async()=>{await Promise.all([C(),g()]);const B=new URLSearchParams(window.location.search);t(14,D=B.get("log-temple-activity"))});function j(B){_t[B?"unshift":"push"](()=>{w=B,t(1,w)})}return n.$$.update=()=>{n.$$.dirty&24578&&D&&D==="yes"&&w&&!p&&(w.click(),t(13,p=!0)),n.$$.dirty&1&&t(2,f=c==="form"?"end":"start"),n.$$.dirty&1&&t(4,l=c==="form"?"Temple Activity":"Temple Activity Results"),n.$$.dirty&32768&&t(3,a=(()=>{const B=new Date().toISOString().split("T")[0];return o.filter(N=>N.start_date<=B&&N.end_date>=B)})())},[c,w,f,a,l,r,i,y,h,v,E,M,L,p,D,o,j]}class ua extends lt{constructor(e){super(),at(this,e,Kl,$l,nt,{})}}export{oa as S,ia as W,ua as a,ra as b,ca as i};
