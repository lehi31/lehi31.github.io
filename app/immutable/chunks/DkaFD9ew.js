import{s}from"./DsQF7ATG.js";import{w as l,g as f}from"./DUiJaq3B.js";const c=l([]);let m=!1;async function n(){if(m)return f(c);m=!0;const{data:r,error:e}=await s.from("members").select("*");if(e)throw e;const t=(r??[]).sort((i,a)=>{const o=(i.last_name||"").localeCompare(a.last_name||"");return o!==0?o:i.first_name.localeCompare(a.first_name)});return c.set(t),setTimeout(()=>m=!1,800),t}async function d(r){const{data:e,error:t}=await s.from("members").insert([r]).select();if(t)throw t;return await n(),e[0]}async function b(r,e){const{error:t}=await s.from("members").update(e).eq("id",r);if(t)throw t;await n();const a=f(c).find(o=>o.id===r);return a||void 0}async function p(r){const{error:e}=await s.from("members").delete().eq("id",r);if(e)throw e;await n()}async function h(r){const{data:e,error:t}=await s.from("members").insert(r).select();if(t)throw t;return await n(),e}export{h as a,d as c,p as d,n as g,b as u};
