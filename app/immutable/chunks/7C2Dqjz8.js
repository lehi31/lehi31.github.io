const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DO0djbQe.js","./Cpj98o6Y.js"])))=>i.map(i=>d[i]);
import{_ as Mt}from"./CmsKOCeN.js";import"./NZTpNUN0.js";import"./69_IOA4Y.js";import{o as Pt}from"./WW5OsAH7.js";import{p as jt,ah as ve,m as e,ai as zt,f as Je,s as l,a as Lt,E as W,R as ce,u as a,D as F,c as s,r,B as $,n as L,F as Nt}from"./SWWSvUpQ.js";import{a as ot,i as A,b as Ct,s as f,e as Q}from"./CU3XCoqN.js";import{e as De,i as lt}from"./YJAcq9su.js";import{g as qt,a as Oe,B as Ut,b as we,h as Yt,t as Kt}from"./BAhwOz0r.js";import{f as p,a as u,c as dt}from"./D8ekX_8E.js";import{s as ne,r as Jt,i as Wt,c as Gt,d as Ht,e as Vt}from"./0ruCYHbd.js";import{p as ue,i as ke,f as $e,A as Zt}from"./CwWd7Wcl.js";import{s as Qt}from"./CdEA5IGF.js";import{i as Xt}from"./Bgyk9asy.js";import{R as Ae}from"./_lULlev7.js";import{S as ea}from"./C2sa8-Mz.js";import{v as ta,D as aa}from"./B0U2Rd1x.js";var ra=p('<div class="d-flex justify-content-center align-items-center py-5"><!></div>'),sa=p('<span class="d-md-none">Refreshing…</span> <span class="d-none d-md-inline ms-1">Refreshing…</span>',1),na=p('<span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"> </span>'),ia=p('<button type="button" role="tab"> <!></button>'),oa=p("<option> </option>"),la=p('<div class="py-5 text-center text-muted"> </div>'),da=p('<div class="description-preview text-muted small mb-1 svelte-1pku71x"> </div>'),va=p("<span> </span>"),ca=p('<span class="badge rounded-pill bg-secondary-subtle text-secondary-emphasis">Uncategorized</span>'),ua=p('<span><i class="bi bi-geo-alt"></i> </span>'),pa=p('<span><i class="bi bi-arrow-repeat"></i> </span>'),_a=p('<span><i class="bi bi-calendar3"></i> </span>'),ma=p('<div class="approvals-card text-start svelte-1pku71x" role="button" tabindex="0"><div class="d-flex justify-content-between align-items-start gap-3 mb-1"><div><div class="fw-semibold"> </div> <div class="text-muted small"> </div></div> <div class="d-flex align-items-center gap-2"><span class="badge bg-light text-dark"> </span> <button class="btn btn-sm btn-primary" type="button"><i class="bi bi-pencil-square"></i></button></div></div> <!> <div class="d-flex flex-wrap align-items-center gap-2 small text-muted mb-1"><!> <!> <!></div> <div class="d-flex flex-wrap align-items-center gap-2 small text-muted mb-1"><span><i class="bi bi-clock"></i> </span> <!></div> <div class="d-flex flex-wrap gap-1"><span><i></i> </span></div></div>'),fa=p('<div class="d-flex flex-column gap-3"></div>'),ya=p('<div class="approvals-page d-flex flex-column gap-4 svelte-1pku71x"><div class="d-flex flex-column gap-3"><div class="d-flex flex-column flex-sm-row align-items-stretch align-items-sm-center justify-content-end gap-2"><button class="btn btn-outline-secondary btn-sm"><i></i> <span class="d-none d-md-inline"> </span> <!></button></div> <div class="approvals-status-tabs nav nav-tabs gap-4 svelte-1pku71x" role="tablist"></div></div> <div class="d-flex flex-column gap-3"><div class="d-flex flex-column flex-lg-row align-items-lg-center justify-content-between gap-3"><div class="input-group input-group-sm approvals-search svelte-1pku71x"><input class="form-control svelte-1pku71x" type="search" placeholder="Search title, submitter, or category"/></div> <div class="type-filter-select svelte-1pku71x"><select class="form-select form-select-sm"></select></div></div> <!></div></div>'),ba=p('<span class="badge bg-info-subtle text-info-emphasis"><i class="bi bi-globe me-1"></i>Public</span>'),xa=p('<span class="badge bg-secondary-subtle text-secondary-emphasis"><i class="bi bi-lock me-1"></i>Private</span>'),ga=p('<span class="badge bg-light text-dark ms-1">All Day</span>'),ha=p('<span class="text-muted small"> </span>'),wa=p('<div><div class="text-muted text-uppercase small">Event Date</div> <div class=" d-flex justify-content-end"> <!> <!></div></div>'),ka=p('<div><div class="text-muted text-uppercase small">Location</div> <div class=" d-flex justify-content-end"><i class="bi bi-geo-alt me-1"></i> </div></div>'),$a=p('<span class="text-muted small"> </span>'),Aa=p('<div><div class="text-muted text-uppercase small">Recurrence</div> <div><i class="bi bi-arrow-repeat me-1"></i> <!></div></div>'),Ra=p('<div class="drawer-description svelte-1pku71x"><div class="text-muted text-uppercase small mb-1">Description</div> <div><!></div></div>'),Sa=p('<div class="drawer-attachment-image-container svelte-1pku71x"><button type="button" class="drawer-attachment-image-button svelte-1pku71x"><img class="drawer-attachment-image svelte-1pku71x"/></button> <div class="small text-muted text-truncate" style="max-width: 200px;"> </div></div>'),Ta=p('<button type="button" class="btn btn-sm btn-primary d-flex align-items-center gap-2"><i class="bi bi-file-earmark"></i> <span class="text-truncate" style="max-width: 150px;"> </span> <small class="text-muted"> </small></button>'),Ea=p('<div><div class="text-muted text-uppercase small mb-2"><i class="bi bi-paperclip me-1"></i> </div> <div class="d-flex flex-wrap gap-2"></div></div>'),Fa=p('<div class="d-flex flex-column gap-4"><div><div class="text-muted text-uppercase small">Submitted By</div> <div class="fw-semibold d-flex justify-content-end"> </div> <div class="text-muted small d-flex justify-content-end"> </div></div> <div class="drawer-detail-grid svelte-1pku71x"><div><div class="text-muted text-uppercase small">Type</div> <div class=" d-flex justify-content-end"> </div></div> <div><div class="text-muted text-uppercase small">Organization</div> <div class=" d-flex justify-content-end"> </div></div> <div><div class="text-muted text-uppercase small">Visibility</div> <div class=" d-flex justify-content-end"><!></div></div> <!> <!> <!></div> <!> <!> <!></div>'),Ia=p('<div class="text-muted">Select a submission to review.</div>'),Da=p('<div class="d-flex justify-content-end"><button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="offcanvas">Close</button></div>'),Oa=p("<!> <!>",1);function Va(vt,ct){jt(ct,!1);const We=()=>ot(mt,"$dbData",Ge),ut=()=>ot(_t,"$ready",Ge),[Ge,pt]=Ct(),He=W(),pe=W(),Be=W(),{stores:{ready:_t,dbData:mt},actions:{reload:Me}}=qt();let X=W(!1),_e=W([]),Re=W([]),n=W(null),me=W(null);const Ve=ta();let Pe=null;const ft={approved:"var(--bs-success)",pending:"var(--bs-warning)",needs_review:"var(--bs-info)",published:"var(--bs-primary)"},yt={pending:{text:"Awaiting Approval",class:"bg-warning-subtle text-warning-emphasis",icon:"bi-hourglass-split"},needs_review:{text:"Needs Submitter Review",class:"bg-info-subtle text-info-emphasis",icon:"bi-pencil"},approved:{text:"Approved",class:"bg-success-subtle text-success-emphasis",icon:"bi-check-circle"},published:{text:"Published",class:"bg-primary-subtle text-primary-emphasis",icon:"bi-globe"}},Se={pending:"Pending",needs_review:"Needs Submitter Review",approved:"Approved",published:"Published"},je=[{value:"pending",label:Se.pending},{value:"needs_review",label:Se.needs_review},{value:"approved",label:Se.approved}],bt=[{value:"all",label:"Events & Announcements"},{value:"events",label:"Events only"},{value:"announcements",label:"Announcements only"}],Te=()=>({search:"",typeFilter:"all"});let B=W({pending:Te(),needs_review:Te(),approved:Te(),published:Te()});Pt(async()=>{F(X,!0),await Me(),F(X,!1),typeof window<"u"&&(Pe=(await Mt(()=>import("./DO0djbQe.js").then(i=>i.o),__vite__mapDeps([0,1]),import.meta.url)).default)});const xt=t=>({...t,id:t.id??t.meta_data?.recurring_parent_id,organization:t.meta_data?.organization??""}),Ze=t=>{const i=t.meta_data?.submitted_at??t.created_at;if(!i)return 0;try{return ue(i).getTime()}catch(o){return console.warn("Failed to parse submission timestamp",o),0}},Qe=t=>{const i=t.meta_data?.submitted_at??t.created_at;if(!i)return"—";try{return ke(ue(i),"MMM d, yyyy 'at' h:mm a")}catch(o){return console.warn("Failed to format submission timestamp",o),"—"}},Xe=t=>{if(!t.start_time)return"—";try{return ke(ue(t.start_time),"MMM d, yyyy 'at' h:mm a")}catch(i){return console.warn("Failed to format event date",i),"—"}},gt=t=>{if(!t)return"";try{const i=ue(t),o=Kt(i,Zt);return ke(o,"h:mm a")}catch{return""}},ht=t=>t.replace(/<[^>]*>/g,""),wt=(t,i)=>t.length<=i?t:t.substring(0,i).trimEnd()+"…",kt=t=>t.description?wt(ht(t.description).trim(),120):"",$t=t=>t<1024?t+" B":t<1024*1024?(t/1024).toFixed(1)+" KB":(t/(1024*1024)).toFixed(1)+" MB",At=t=>t.startsWith("image/"),et=t=>{window.open(t,"_blank")},tt=t=>{try{const o=Ae.fromString(t).origOptions,c=o.interval||1,R=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ie=["","1st","2nd","3rd","4th","5th"];if(o.freq===Ae.DAILY)return c===1?"Repeats daily":`Repeats every ${c} days`;if(o.freq===Ae.WEEKLY){if(o.byweekday){const b=(Array.isArray(o.byweekday)?o.byweekday:[o.byweekday]).map(k=>{const D=typeof k=="number"?k:k.weekday,N=D===6?0:D+1;return R[N]});return c===1?b.length===1?`Repeats every ${b[0]}`:`Repeats on ${b.join(", ")}`:`Repeats every ${c} weeks on ${b.join(", ")}`}return c===1?"Repeats weekly":`Repeats every ${c} weeks`}if(o.freq===Ae.MONTHLY){if(o.byweekday){const b=(Array.isArray(o.byweekday)?o.byweekday:[o.byweekday])[0];if(b&&typeof b=="object"&&"n"in b&&"weekday"in b){const k=b.weekday,D=k===6?0:k+1,N=b.n,te=ie[N]||`${N}th`;return c===1?`Repeats on the ${te} ${R[D]} of the month`:`Repeats on the ${te} ${R[D]} every ${c} months`}}if(o.bymonthday){const T=Array.isArray(o.bymonthday)?o.bymonthday[0]:o.bymonthday,b=T===1?"st":T===2?"nd":T===3?"rd":"th";return c===1?`Repeats on the ${T}${b} of the month`:`Repeats on the ${T}${b} every ${c} months`}return c===1?"Repeats monthly":`Repeats every ${c} months`}if(o.freq===Ae.YEARLY){if(o.bymonth&&o.bymonthday){const T=["","January","February","March","April","May","June","July","August","September","October","November","December"],b=Array.isArray(o.bymonth)?o.bymonth[0]:o.bymonth,k=Array.isArray(o.bymonthday)?o.bymonthday[0]:o.bymonthday,D=k===1?"st":k===2?"nd":k===3?"rd":"th";return c===1?`Repeats every ${T[b]} ${k}${D}`:`Repeats every ${c} years on ${T[b]} ${k}${D}`}return c===1?"Repeats yearly":`Repeats every ${c} years`}return"Repeats"}catch{return"Repeats"}},Rt=(t,i)=>{const o=i.trim().toLowerCase();if(!o)return!0;const c=t.meta_data?.organization?we(t.meta_data.organization)?.label??"":"";return[t.title??"",t.description??"",t.location??"",t.meta_data?.submitted_by_name??"",c??""].join(" ").toLowerCase().includes(o)},St=(t,i)=>i==="all"?!0:i==="events"?t.event_type==="calendar_event":t.event_type==="announcement";function at(t,i){F(B,{...e(B),[t]:{...e(B)[t],...i}})}const ze=t=>{F(n,t),F(me,xt(t));const i=document.getElementById(Ve);i&&Pe&&Pe.getOrCreateInstance(i).show()},Tt=(t,i)=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),ze(i))},Et=async()=>{F(X,!0),await Me(),F(X,!1)},Ft=t=>{const i=new Set,o=[];for(const c of t){const R=c.meta_data?.recurring_parent_id;if(c.meta_data?.recurring_instance&&R!=null){if(i.has(R))continue;i.add(R)}o.push(c)}return o},Le=t=>t.meta_data?.recurring_parent_id!=null?`recurring-${t.meta_data.recurring_parent_id}`:`id-${t.id}`;let w=W("pending");ve(()=>We(),()=>{F(_e,Ft((We()??[]).slice().sort((t,i)=>Ze(i)-Ze(t))))}),ve(()=>e(w),()=>{F(He,`type-filter-select-${e(w)}`)}),ve(()=>(e(_e),Oe),()=>{F(pe,je.reduce((t,i)=>(t[i.value]=e(_e).filter(o=>Oe(o)===i.value),t),{}))}),ve(()=>(e(B),e(pe)),()=>{F(Be,je.reduce((t,i)=>{const o=e(B)[i.value],c=(e(pe)[i.value]??[]).filter(R=>St(R,o.typeFilter));return t[i.value]=c.filter(R=>Rt(R,o.search)),t},{}))}),ve(()=>(e(Be),e(w)),()=>{F(Re,e(Be)[e(w)]??[])}),ve(()=>(e(n),e(_e)),()=>{e(n)&&!e(_e).some(t=>Le(t)===Le(e(n)))&&(F(n,null),F(me,null))}),zt(),Xt();var rt=Oa(),st=Je(rt);{var It=t=>{var i=ra(),o=s(i);ea(o,{}),r(i),u(t,i)},Dt=t=>{var i=ya(),o=s(i),c=s(o),R=s(c),ie=s(R),T=l(ie,2),b=s(T,!0);r(T);var k=l(T,2);{var D=g=>{var _=sa();Nt(2),u(g,_)};A(k,g=>{e(X)&&g(D)})}r(R),r(c);var N=l(c,2);De(N,5,()=>je,lt,(g,_)=>{const E=ce(()=>(e(pe),e(_),a(()=>(e(pe)[e(_).value]??[]).length)));var d=ia(),P=s(d),q=l(P);{var G=H=>{var j=na(),re=s(j,!0);r(j),$(()=>f(re,e(E))),u(H,j)};A(q,H=>{e(E)>0&&H(G)})}r(d),$(()=>{$e(d,1,(e(w),e(_),a(()=>`nav-link position-relative ${e(w)===e(_).value?"active":""}`)),"svelte-1pku71x"),ne(d,"aria-selected",(e(w),e(_),a(()=>e(w)===e(_).value))),f(P,`${e(_),a(()=>e(_).label)??""} `)}),Q("click",d,()=>F(w,e(_).value)),u(g,d)}),r(N),r(o);var te=l(o,2),oe=s(te),fe=s(oe),ae=s(fe);Jt(ae),r(fe);var le=l(fe,2),C=s(le);De(C,5,()=>bt,lt,(g,_)=>{var E=oa(),d=s(E,!0);r(E);var P={};$(()=>{f(d,(e(_),a(()=>e(_).label))),P!==(P=(e(_),a(()=>e(_).value)))&&(E.value=(E.__value=(e(_),a(()=>e(_).value)))??"")}),u(g,E)}),r(C);var Ee;Wt(C),r(le),r(oe);var ye=l(oe,2);{var Fe=g=>{var _=la(),E=s(_);r(_),$(d=>f(E,`No ${d??""} submissions match your current filters.`),[()=>(e(w),a(()=>Se[e(w)].toLowerCase()))]),u(g,_)},Ne=g=>{var _=fa();De(_,5,()=>e(Re),E=>Le(E),(E,d)=>{const P=ce(()=>(L(Oe),e(d),a(()=>Oe(e(d))))),q=ce(()=>(L(e(P)),a(()=>yt[e(P)]))),G=ce(()=>(e(d),L(we),a(()=>e(d).meta_data?.organization?we(e(d).meta_data.organization):null))),H=ce(()=>(e(d),a(()=>kt(e(d)))));var j=ma(),re=s(j),be=s(re),de=s(be),Ce=s(de,!0);r(de);var xe=l(de,2),qe=s(xe,!0);r(xe),r(be);var Ie=l(be,2),v=s(Ie),y=s(v,!0);r(v);var S=l(v,2);r(Ie),r(re);var O=l(re,2);{var V=x=>{var h=da(),Z=s(h,!0);r(h),$(()=>f(Z,e(H))),u(x,h)};A(O,x=>{e(H)&&x(V)})}var U=l(O,2),m=s(U);{var K=x=>{var h=va(),Z=s(h,!0);r(h),$(()=>{$e(h,1,`badge rounded-pill bg-color-${L(e(G)),a(()=>e(G).color_number)??""}`,"svelte-1pku71x"),f(Z,(L(e(G)),a(()=>e(G).label)))}),u(x,h)},I=x=>{var h=ca();u(x,h)};A(m,x=>{e(G)?x(K):x(I,!1)})}var z=l(m,2);{var ge=x=>{var h=ua(),Z=l(s(h));r(h),$(()=>f(Z,` ${e(d),a(()=>e(d).location)??""}`)),u(x,h)};A(z,x=>{e(d),a(()=>e(d).location)&&x(ge)})}var J=l(z,2);{var Y=x=>{var h=pa(),Z=l(s(h));r(h),$(Ke=>f(Z,` ${Ke??""}`),[()=>(e(d),a(()=>tt(e(d).recurrence_rule)))]),u(x,h)};A(J,x=>{e(d),a(()=>e(d).recurrence_rule)&&x(Y)})}r(U);var M=l(U,2),ee=s(M),se=l(s(ee));r(ee);var he=l(ee,2);{var Ue=x=>{var h=_a(),Z=l(s(h));r(h),$(Ke=>f(Z,` Event ${Ke??""}`),[()=>(e(d),a(()=>Xe(e(d))))]),u(x,h)};A(he,x=>{e(d),a(()=>e(d).event_type==="calendar_event")&&x(Ue)})}r(M);var nt=l(M,2),Ye=s(nt),it=s(Ye),Bt=l(it,1,!0);r(Ye),r(nt),r(j),$(x=>{Vt(j,`border-left: 4px solid ${L(e(P)),a(()=>ft[e(P)])??""}`),f(Ce,(e(d),a(()=>e(d).title))),f(qe,(e(d),a(()=>e(d).meta_data?.submitted_by_name??"Unknown submitter"))),f(y,(e(d),a(()=>e(d).event_type==="calendar_event"?"Event":"Announcement"))),ne(S,"aria-label",(e(d),a(()=>`Review ${e(d).title}`))),f(se,` Submitted ${x??""}`),$e(Ye,1,(L(e(q)),a(()=>`badge ${e(q).class}`)),"svelte-1pku71x"),$e(it,1,(L(e(q)),a(()=>`bi ${e(q).icon} me-1`)),"svelte-1pku71x"),f(Bt,(L(e(q)),a(()=>e(q).text)))},[()=>(e(d),a(()=>Qe(e(d))))]),Q("click",S,Qt(()=>ze(e(d)))),Q("click",j,()=>ze(e(d))),Q("keydown",j,x=>Tt(x,e(d))),u(E,j)}),r(_),u(g,_)};A(ye,g=>{e(Re),a(()=>e(Re).length===0)?g(Fe):g(Ne,!1)})}r(te),r(i),$(()=>{R.disabled=e(X),$e(ie,1,`bi bi-arrow-clockwise${e(X)?"":" me-1"}`),f(b,e(X)?"":"Refresh"),Gt(ae,(e(B),e(w),a(()=>e(B)[e(w)].search))),ne(C,"id",e(He)),Ee!==(Ee=(e(B),e(w),a(()=>e(B)[e(w)].typeFilter)))&&(C.value=(C.__value=(e(B),e(w),a(()=>e(B)[e(w)].typeFilter)))??"",Ht(C,(e(B),e(w),a(()=>e(B)[e(w)].typeFilter))))}),Q("click",R,Et),Q("input",ae,g=>at(e(w),{search:g.currentTarget.value})),Q("change",C,g=>at(e(w),{typeFilter:g.currentTarget.value})),u(t,i)};A(st,t=>{ut()?t(Dt,!1):t(It)})}var Ot=l(st,2);{let t=ce(()=>(e(n),a(()=>e(n)?e(n).title:"Review Submission")));aa(Ot,{get id(){return Ve},get title(){return e(t)},children:(i,o)=>{var c=dt(),R=Je(c);{var ie=b=>{var k=Fa(),D=s(k),N=l(s(D),2),te=s(N,!0);r(N);var oe=l(N,2),fe=s(oe,!0);r(oe),r(D);var ae=l(D,2),le=s(ae),C=l(s(le),2),Ee=s(C,!0);r(C),r(le);var ye=l(le,2),Fe=l(s(ye),2),Ne=s(Fe,!0);r(Fe),r(ye);var g=l(ye,2),_=l(s(g),2),E=s(_);{var d=v=>{var y=ba();u(v,y)},P=v=>{var y=xa();u(v,y)};A(E,v=>{e(n),a(()=>e(n).is_public!==!1)?v(d):v(P,!1)})}r(_),r(g);var q=l(g,2);{var G=v=>{var y=wa(),S=l(s(y),2),O=s(S),V=l(O);{var U=I=>{var z=ga();u(I,z)};A(V,I=>{e(n),a(()=>e(n).is_all_day)&&I(U)})}var m=l(V,2);{var K=I=>{var z=ha(),ge=s(z);r(z),$(J=>f(ge,`— ${J??""}`),[()=>(e(n),a(()=>gt(e(n).end_time)))]),u(I,z)};A(m,I=>{e(n),a(()=>e(n).end_time&&!e(n).is_all_day)&&I(K)})}r(S),r(y),$(I=>f(O,`${I??""} `),[()=>(e(n),a(()=>Xe(e(n))))]),u(v,y)};A(q,v=>{e(n),a(()=>e(n).event_type==="calendar_event")&&v(G)})}var H=l(q,2);{var j=v=>{var y=ka(),S=l(s(y),2),O=l(s(S),1,!0);r(S),r(y),$(()=>f(O,(e(n),a(()=>e(n).location)))),u(v,y)};A(H,v=>{e(n),a(()=>e(n).location)&&v(j)})}var re=l(H,2);{var be=v=>{var y=Aa(),S=l(s(y),2),O=l(s(S)),V=l(O);{var U=m=>{var K=$a(),I=s(K);r(K),$(z=>f(I,`until ${z??""}`),[()=>(L(ke),L(ue),e(n),a(()=>ke(ue(e(n).recurrence_end_date),"MMM d, yyyy")))]),u(m,K)};A(V,m=>{e(n),a(()=>e(n).recurrence_end_date)&&m(U)})}r(S),r(y),$(m=>f(O,` ${m??""} `),[()=>(e(n),a(()=>tt(e(n).recurrence_rule)))]),u(v,y)};A(re,v=>{e(n),a(()=>e(n).recurrence_rule)&&v(be)})}r(ae);var de=l(ae,2);{var Ce=v=>{var y=Ra(),S=l(s(y),2),O=s(S);Yt(O,()=>(e(n),a(()=>e(n).description))),r(S),r(y),u(v,y)};A(de,v=>{e(n),a(()=>e(n).description)&&v(Ce)})}var xe=l(de,2);{var qe=v=>{var y=Ea(),S=s(y),O=l(s(S));r(S);var V=l(S,2);De(V,5,()=>(e(n),a(()=>e(n).attachments)),U=>U.id,(U,m)=>{var K=dt(),I=Je(K);{var z=J=>{var Y=Sa(),M=s(Y),ee=s(M);r(M);var se=l(M,2),he=s(se,!0);r(se),r(Y),$(()=>{ne(M,"title",`Open ${e(m),a(()=>e(m).name)??""}`),ne(ee,"src",(e(m),a(()=>e(m).url))),ne(ee,"alt",(e(m),a(()=>e(m).name))),f(he,(e(m),a(()=>e(m).name)))}),Q("click",M,()=>et(e(m).url)),u(J,Y)},ge=J=>{var Y=Ta(),M=l(s(Y),2),ee=s(M,!0);r(M);var se=l(M,2),he=s(se);r(se),r(Y),$(Ue=>{ne(Y,"title",`Open ${e(m),a(()=>e(m).name)??""}`),f(ee,(e(m),a(()=>e(m).name))),f(he,`(${Ue??""})`)},[()=>(e(m),a(()=>$t(e(m).size)))]),Q("click",Y,()=>et(e(m).url)),u(J,Y)};A(I,J=>{e(m),a(()=>At(e(m).type))?J(z):J(ge,!1)})}u(U,K)}),r(V),r(y),$(()=>f(O,`Attachments (${e(n),a(()=>e(n).attachments.length)??""})`)),u(v,y)};A(xe,v=>{e(n),a(()=>e(n).attachments&&e(n).attachments.length>0)&&v(qe)})}var Ie=l(xe,2);Ut(Ie,{disabled:!1,get reloadEvents(){return Me},get eventItem(){return e(me)},set eventItem(v){F(me,v)},$$legacy:!0}),r(k),$((v,y)=>{f(te,(e(n),a(()=>e(n).meta_data?.submitted_by_name??"Unknown submitter"))),f(fe,v),f(Ee,(e(n),a(()=>e(n).event_type==="calendar_event"?"Event":"Announcement"))),f(Ne,y)},[()=>(e(n),a(()=>Qe(e(n)))),()=>(e(n),L(we),a(()=>e(n).meta_data?.organization?we(e(n).meta_data.organization)?.label??"None":"None"))]),u(b,k)},T=b=>{var k=Ia();u(b,k)};A(R,b=>{e(n)&&e(me)?b(ie):b(T,!1)})}u(i,c)},$$slots:{default:!0,footer:(i,o)=>{var c=Da();u(i,c)}}})}u(vt,rt),Lt(),pt()}export{Va as B};
