import{s as Ye,r as bt,n as oe,j as De,b as rt,o as gt}from"./scheduler.NVaRV7ke.js";import{S as Ze,i as Qe,e as h,s as N,n as X,c as we,b as p,d as T,p as K,g as V,f as v,q as J,h as Te,j as o,y as Z,k as H,r,D as Q,m as Se,C as z,u as be,t as le,a as ne,l as Ne,w as Et,v as kt,z as We,x as Ct,A as Nt,H as Vt,F as Mt}from"./index.BDNOK2Ei.js";import{g as yt,F as It}from"./feature-flag.state.CNg_sSXu.js";import{t as Dt,f as ve,p as Pe,e as tt}from"./Header.DihtgF8T.js";import{S as wt}from"./Spinner.qPIGQQYh.js";import{g as Tt,t as He,u as At,c as Lt,d as Bt,A as Pt}from"./announcements.data.BCrENHZE.js";import{t as Ke,D as Ht,v as Ut}from"./Drawer.OjZind50.js";import{c as Ft}from"./confirm.service.CzyjCzSE.js";import{A as Ue,B as ot}from"./app.state.CpSnVk-Y.js";import{p as ut}from"./parse.MEn28jWS.js";function Ot(n,e){const t=Dt(n);return t.setHours(e),t}function Rt(n,e){const t=Dt(n);return t.setMinutes(e),t}function ft(n){let e,t,l="Start time*",s,a,c,f,i,b,d="End time*",E,u,_,g,M;return{c(){e=h("div"),t=h("div"),t.textContent=l,s=N(),a=h("input"),f=N(),i=h("div"),b=h("div"),b.textContent=d,E=N(),u=h("input"),this.h()},l(m){e=p(m,"DIV",{class:!0});var k=T(e);t=p(k,"DIV",{"data-svelte-h":!0}),K(t)!=="svelte-gzi1xn"&&(t.textContent=l),s=V(k),a=p(k,"INPUT",{name:!0,type:!0,step:!0,class:!0}),k.forEach(v),f=V(m),i=p(m,"DIV",{class:!0});var U=T(i);b=p(U,"DIV",{"data-svelte-h":!0}),K(b)!=="svelte-ig3ngi"&&(b.textContent=d),E=V(U),u=p(U,"INPUT",{name:!0,type:!0,step:!0,class:!0}),U.forEach(v),this.h()},h(){o(a,"name",c=n[1]+"-start-time"),o(a,"type","time"),o(a,"step",900),o(a,"class","form-control"),a.disabled=n[6],a.required=!0,Z(a,"is-invalid",n[3]),o(e,"class","d-flex flex-column gap-2"),o(u,"name",_=n[1]+"-end-time"),o(u,"type","time"),o(u,"step",900),o(u,"class","form-control"),u.disabled=n[6],u.required=!0,Z(u,"is-invalid",n[2]),o(i,"class","d-flex flex-column gap-2")},m(m,k){H(m,e,k),r(e,t),r(e,s),r(e,a),n[29](a),Q(a,n[15]),H(m,f,k),H(m,i,k),r(i,b),r(i,E),r(i,u),n[32](u),Q(u,n[16]),g||(M=[z(a,"focus",n[30]),z(a,"input",n[31]),z(u,"focus",n[33]),z(u,"input",n[34])],g=!0)},p(m,k){k[0]&2&&c!==(c=m[1]+"-start-time")&&o(a,"name",c),k[0]&64&&(a.disabled=m[6]),k[0]&32768&&Q(a,m[15]),k[0]&8&&Z(a,"is-invalid",m[3]),k[0]&2&&_!==(_=m[1]+"-end-time")&&o(u,"name",_),k[0]&64&&(u.disabled=m[6]),k[0]&65536&&Q(u,m[16]),k[0]&4&&Z(u,"is-invalid",m[2])},d(m){m&&(v(e),v(f),v(i)),n[29](null),n[32](null),g=!1,bt(M)}}}function jt(n){let e,t="<span>Delete</span>",l,s;return{c(){e=h("button"),e.innerHTML=t,this.h()},l(a){e=p(a,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1bw2173"&&(e.innerHTML=t),this.h()},h(){o(e,"class","btn btn-danger position-relative")},m(a,c){H(a,e,c),l||(s=z(e,"click",n[19]),l=!0)},p:oe,d(a){a&&v(e),l=!1,s()}}}function qt(n){let e,t="Create";return{c(){e=h("span"),e.textContent=t},l(l){e=p(l,"SPAN",{"data-svelte-h":!0}),K(e)!=="svelte-1wf0js6"&&(e.textContent=t)},m(l,s){H(l,e,s)},d(l){l&&v(e)}}}function zt(n){let e,t="Save";return{c(){e=h("span"),e.textContent=t},l(l){e=p(l,"SPAN",{"data-svelte-h":!0}),K(e)!=="svelte-l126tb"&&(e.textContent=t)},m(l,s){H(l,e,s)},d(l){l&&v(e)}}}function ct(n){let e,t='<span class="visually-hidden">Item not saved</span>';return{c(){e=h("span"),e.innerHTML=t,this.h()},l(l){e=p(l,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1g0a6ie"&&(e.innerHTML=t),this.h()},h(){o(e,"class","position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle")},m(l,s){H(l,e,s)},d(l){l&&v(e)}}}function Gt(n){let e,t,l,s="Title*",a,c,f,i,b,d="Event title. i.e. Ward Conference, Ward BBQ Night",E,u,_,g="Date*",M,m,k,U,C,D,w,B,A,P,j,$,ue,se,F,x,_e="Description",Ve,R,ge,Me,ae,Fe="Describe the event to the best of your knowledge",Ae,Y,fe,Oe="Location",Le,q,Ee,Be,ie,Re="Location can be physical or virtual",S,L,ee,me=n[13].message+"",ke,ce,Xe,he,pe,Je,$e,te,xe,O,et,lt,G=!n[0].is_all_day&&ft(n);pe=new wt({props:{size:"xs"}});let re=n[18]&&jt(n);function St(y,I){return y[18]?zt:qt}let je=St(n)(n),W=n[17]&&ct();return{c(){e=h("div"),t=h("div"),l=h("div"),l.textContent=s,a=N(),c=h("input"),i=N(),b=h("small"),b.textContent=d,E=N(),u=h("div"),_=h("div"),_.textContent=g,M=N(),m=h("input"),U=N(),C=h("div"),D=h("div"),w=h("input"),A=N(),P=h("label"),j=X("All Day Event"),ue=N(),G&&G.c(),se=N(),F=h("div"),x=h("div"),x.textContent=_e,Ve=N(),R=h("textarea"),Me=N(),ae=h("small"),ae.textContent=Fe,Ae=N(),Y=h("div"),fe=h("div"),fe.textContent=Oe,Le=N(),q=h("input"),Be=N(),ie=h("small"),ie.textContent=Re,S=N(),L=h("div"),ee=h("small"),ke=X(me),Xe=N(),he=h("span"),we(pe.$$.fragment),Je=N(),re&&re.c(),$e=N(),te=h("button"),je.c(),xe=N(),W&&W.c(),this.h()},l(y){e=p(y,"DIV",{class:!0});var I=T(e);t=p(I,"DIV",{class:!0});var Ce=T(t);l=p(Ce,"DIV",{"data-svelte-h":!0}),K(l)!=="svelte-1w3dtko"&&(l.textContent=s),a=V(Ce),c=p(Ce,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),i=V(Ce),b=p(Ce,"SMALL",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-gvb7m1"&&(b.textContent=d),Ce.forEach(v),E=V(I),u=p(I,"DIV",{class:!0});var qe=T(u);_=p(qe,"DIV",{"data-svelte-h":!0}),K(_)!=="svelte-1992pd0"&&(_.textContent=g),M=V(qe),m=p(qe,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),qe.forEach(v),U=V(I),C=p(I,"DIV",{});var nt=T(C);D=p(nt,"DIV",{class:!0});var ze=T(D);w=p(ze,"INPUT",{class:!0,type:!0,id:!0}),A=V(ze),P=p(ze,"LABEL",{class:!0,for:!0});var st=T(P);j=J(st,"All Day Event"),st.forEach(v),ze.forEach(v),nt.forEach(v),ue=V(I),G&&G.l(I),se=V(I),F=p(I,"DIV",{class:!0});var ye=T(F);x=p(ye,"DIV",{"data-svelte-h":!0}),K(x)!=="svelte-1x8itd0"&&(x.textContent=_e),Ve=V(ye),R=p(ye,"TEXTAREA",{name:!0,class:!0}),T(R).forEach(v),Me=V(ye),ae=p(ye,"SMALL",{class:!0,"data-svelte-h":!0}),K(ae)!=="svelte-bky2ve"&&(ae.textContent=Fe),ye.forEach(v),Ae=V(I),Y=p(I,"DIV",{class:!0});var Ie=T(Y);fe=p(Ie,"DIV",{"data-svelte-h":!0}),K(fe)!=="svelte-szqbut"&&(fe.textContent=Oe),Le=V(Ie),q=p(Ie,"INPUT",{name:!0,type:!0,class:!0}),Be=V(Ie),ie=p(Ie,"SMALL",{class:!0,"data-svelte-h":!0}),K(ie)!=="svelte-1drtb8l"&&(ie.textContent=Re),Ie.forEach(v),S=V(I),L=p(I,"DIV",{class:!0});var de=T(L);ee=p(de,"SMALL",{class:!0});var at=T(ee);ke=J(at,me),at.forEach(v),Xe=V(de),he=p(de,"SPAN",{});var it=T(he);Te(pe.$$.fragment,it),it.forEach(v),Je=V(de),re&&re.l(de),$e=V(de),te=p(de,"BUTTON",{class:!0});var Ge=T(te);je.l(Ge),xe=V(Ge),W&&W.l(Ge),Ge.forEach(v),de.forEach(v),I.forEach(v),this.h()},h(){o(c,"name",f=n[1]+"-title"),o(c,"type","text"),o(c,"class","form-control"),o(c,"placeholder","Event title"),c.disabled=n[6],c.required=!0,Z(c,"is-invalid",n[5]),o(b,"class","fw-lighter fst-italic"),o(t,"class","d-flex flex-column gap-2"),o(m,"name",k=n[1]+"-start-time"),o(m,"type","date"),o(m,"class","form-control"),o(m,"placeholder","Event title"),m.disabled=n[6],m.required=!0,Z(m,"is-invalid",n[3]),o(u,"class","d-flex flex-column gap-2"),o(w,"class","form-check-input"),o(w,"type","checkbox"),o(w,"id",B=n[1]+"-all-day-check"),o(P,"class","form-check-label"),o(P,"for",$=n[1]+"-all-day-check"),o(D,"class","form-check d-flex align-items-center gap-2"),o(R,"name",ge=n[1]+"-description"),o(R,"class","form-control"),R.disabled=n[6],Z(R,"is-invalid",n[4]),o(ae,"class","fw-lighter fst-italic"),o(F,"class","d-flex flex-column gap-2"),o(q,"name",Ee=n[1]+"-location"),o(q,"type","text"),o(q,"class","form-control"),q.disabled=n[6],o(ie,"class","fw-lighter fst-italic"),o(Y,"class","d-flex flex-column gap-2"),o(ee,"class",ce="fw-lighter fst-italic text-"+n[13].type),Z(he,"d-none",!n[6]),o(te,"class","btn btn-primary position-relative"),o(L,"class","d-flex justify-content-end align-items-center gap-2 flex-row"),o(e,"class","d-flex flex-column gap-4")},m(y,I){H(y,e,I),r(e,t),r(t,l),r(t,a),r(t,c),n[22](c),Q(c,n[0].title),r(t,i),r(t,b),r(e,E),r(e,u),r(u,_),r(u,M),r(u,m),n[25](m),Q(m,n[14]),r(e,U),r(e,C),r(C,D),r(D,w),w.checked=n[0].is_all_day,r(D,A),r(D,P),r(P,j),r(e,ue),G&&G.m(e,null),r(e,se),r(e,F),r(F,x),r(F,Ve),r(F,R),n[35](R),Q(R,n[0].description),r(F,Me),r(F,ae),r(e,Ae),r(e,Y),r(Y,fe),r(Y,Le),r(Y,q),n[38](q),Q(q,n[0].location),r(Y,Be),r(Y,ie),r(e,S),r(e,L),r(L,ee),r(ee,ke),r(L,Xe),r(L,he),Se(pe,he,null),r(L,Je),re&&re.m(L,null),r(L,$e),r(L,te),je.m(te,null),r(te,xe),W&&W.m(te,null),O=!0,et||(lt=[z(c,"focus",n[23]),z(c,"input",n[24]),z(m,"focus",n[26]),z(m,"input",n[27]),z(w,"change",n[28]),z(R,"focus",n[36]),z(R,"input",n[37]),z(q,"focus",n[39]),z(q,"input",n[40]),z(te,"click",n[20])],et=!0)},p(y,I){(!O||I[0]&2&&f!==(f=y[1]+"-title"))&&o(c,"name",f),(!O||I[0]&64)&&(c.disabled=y[6]),I[0]&1&&c.value!==y[0].title&&Q(c,y[0].title),(!O||I[0]&32)&&Z(c,"is-invalid",y[5]),(!O||I[0]&2&&k!==(k=y[1]+"-start-time"))&&o(m,"name",k),(!O||I[0]&64)&&(m.disabled=y[6]),I[0]&16384&&Q(m,y[14]),(!O||I[0]&8)&&Z(m,"is-invalid",y[3]),(!O||I[0]&2&&B!==(B=y[1]+"-all-day-check"))&&o(w,"id",B),I[0]&1&&(w.checked=y[0].is_all_day),(!O||I[0]&2&&$!==($=y[1]+"-all-day-check"))&&o(P,"for",$),y[0].is_all_day?G&&(G.d(1),G=null):G?G.p(y,I):(G=ft(y),G.c(),G.m(e,se)),(!O||I[0]&2&&ge!==(ge=y[1]+"-description"))&&o(R,"name",ge),(!O||I[0]&64)&&(R.disabled=y[6]),I[0]&1&&Q(R,y[0].description),(!O||I[0]&16)&&Z(R,"is-invalid",y[4]),(!O||I[0]&2&&Ee!==(Ee=y[1]+"-location"))&&o(q,"name",Ee),(!O||I[0]&64)&&(q.disabled=y[6]),I[0]&1&&q.value!==y[0].location&&Q(q,y[0].location),(!O||I[0]&8192)&&me!==(me=y[13].message+"")&&be(ke,me),(!O||I[0]&8192&&ce!==(ce="fw-lighter fst-italic text-"+y[13].type))&&o(ee,"class",ce),(!O||I[0]&64)&&Z(he,"d-none",!y[6]),y[18]&&re.p(y,I),y[17]?W||(W=ct(),W.c(),W.m(te,null)):W&&(W.d(1),W=null)},i(y){O||(le(pe.$$.fragment,y),O=!0)},o(y){ne(pe.$$.fragment,y),O=!1},d(y){y&&v(e),n[22](null),n[25](null),G&&G.d(),n[35](null),n[38](null),Ne(pe),re&&re.d(),je.d(),W&&W.d(),et=!1,bt(lt)}}}function Kt(n,e,t){let l,s,a,c,f,i,{name:b=""}=e,{event:d=ot}=e;const{actions:{reload:E}}=Tt();let u=!1,_=d.id,g,M,m,k,U,C,D={message:"",type:"info"},w={title:"",description:"",start_time:"",end_time:"",location:"",is_all_day:!1},B=ve(He(Pe(d.start_time),Ue),"yyyy-MM-dd"),A=ve(He(Pe(d.start_time),Ue),"HH:mm"),P=ve(He(Pe(d.end_time),Ue),"HH:mm");const j=(S,L=0,ee="info")=>{t(13,D.message=S,D),t(13,D.type=ee,D),L&&setTimeout(()=>{t(13,D.message="",D)},L)},$=async()=>{if(!_){j("ID is not defined",0,"danger");return}try{await Bt(_),await E(),Ke("set_calendar_event_success","interaction","Delete Calendar Event Successful",1),setTimeout(()=>{t(6,u=!1),t(21,w={...d,id:_}),j("Event Deleted",3e3,"success"),t(0,d=ot)},800)}catch(S){Ke("set_calendar_event_failed","interaction","Delete Calendar Event Failed",1),setTimeout(()=>{t(6,u=!1),console.error("Save failed:",S),j("Failed to save event. Please try again.",7e3,"danger")},800)}},ue=()=>{t(6,u=!0),Ft({title:"Delete Confirmation",message:"Are you sure you want to do this?  You won't be able to undo this.",confirmButtonLabel:"Yes",confirmButtonCSS:"btn-danger",callback:S=>{S?$():t(6,u=!1)}})},se=async()=>{if(!l){j("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}if(!i){let L=[];s&&L.push("Title is invalid"),a&&L.push("Description is invalid"),c&&L.push("Start time is invalid"),f&&L.push("End time is invalid"),j(L.join(". ")+".  Please address accordingly.",0,"danger");return}if(u)return;j("Saving ..."),t(6,u=!0);const S=(L,ee)=>{const[me,ke]=ee.split(":").map(Number);let ce=Ot(L,me);return ce=Rt(ce,ke),ce};try{const L={title:d.title,description:d.description,start_time:S(ut(B,"yyyy-MM-dd",new Date),A).toISOString(),end_time:S(ut(B,"yyyy-MM-dd",new Date),P).toISOString(),location:d.location,is_all_day:d.is_all_day};_?await At(_,L):await Lt(L),await E(),Ke("set_calendar_event_success","interaction",`Set Calendar Event Successful ${d.title}`,1),setTimeout(()=>{t(6,u=!1),t(21,w={...d,id:_}),j("Saved",3e3,"success")},800)}catch(L){Ke("set_calendar_event_failed","interaction",`Set Calendar Event Failed ${d.title}`,1),setTimeout(()=>{t(6,u=!1),console.error("Save failed:",L),j("Failed to save event. Please try again.",7e3,"danger")},800)}};function F(S){De[S?"unshift":"push"](()=>{g=S,t(7,g)})}const x=()=>g.select();function _e(){d.title=this.value,t(0,d)}function Ve(S){De[S?"unshift":"push"](()=>{m=S,t(9,m)})}const R=()=>m.select();function ge(){B=this.value,t(14,B)}function Me(){d.is_all_day=this.checked,t(0,d)}function ae(S){De[S?"unshift":"push"](()=>{k=S,t(10,k)})}const Fe=()=>k.select();function Ae(){A=this.value,t(15,A)}function Y(S){De[S?"unshift":"push"](()=>{U=S,t(11,U)})}const fe=()=>U.select();function Oe(){P=this.value,t(16,P)}function Le(S){De[S?"unshift":"push"](()=>{M=S,t(8,M)})}const q=()=>M.select();function Ee(){d.description=this.value,t(0,d)}function Be(S){De[S?"unshift":"push"](()=>{C=S,t(12,C)})}const ie=()=>C.select();function Re(){d.location=this.value,t(0,d)}return n.$$set=S=>{"name"in S&&t(1,b=S.name),"event"in S&&t(0,d=S.event)},n.$$.update=()=>{n.$$.dirty[0]&2097153&&t(17,l=w.title!==d.title||w.start_time!==d.start_time||w.end_time!==d.end_time||w.location!==d.location||w.is_all_day!==d.is_all_day),n.$$.dirty[0]&1&&t(5,s=d.title===""),n.$$.dirty[0]&1&&t(3,c=d.start_time===""),n.$$.dirty[0]&1&&t(2,f=d.end_time===""),n.$$.dirty[0]&60&&(i=!s&&!a&&!c&&!f)},t(4,a=!1),[d,b,f,c,a,s,u,g,M,m,k,U,C,D,B,A,P,l,_,ue,se,w,F,x,_e,Ve,R,ge,Me,ae,Fe,Ae,Y,fe,Oe,Le,q,Ee,Be,ie,Re]}class Wt extends Ze{constructor(e){super(),Qe(this,e,Kt,Gt,Ye,{name:1,event:0},null,[-1,-1])}}function dt(n,e,t){const l=n.slice();return l[16]=e[t],l}function Yt(n){let e,t;return e=new Wt({props:{event:n[3],name:"calendar-event-item-form"}}),{c(){we(e.$$.fragment)},l(l){Te(e.$$.fragment,l)},m(l,s){Se(e,l,s),t=!0},p(l,s){const a={};s&8&&(a.event=l[3]),e.$set(a)},i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){Ne(e,l)}}}function Zt(n){let e,t;return e=new wt({}),{c(){we(e.$$.fragment)},l(l){Te(e.$$.fragment,l)},m(l,s){Se(e,l,s),t=!0},p:oe,i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){Ne(e,l)}}}function Qt(n){let e;function t(a,c){return a[5]?.length?Jt:Xt}let l=t(n),s=l(n);return{c(){s.c(),e=We()},l(a){s.l(a),e=We()},m(a,c){s.m(a,c),H(a,e,c)},p(a,c){l===(l=t(a))&&s?s.p(a,c):(s.d(1),s=l(a),s&&(s.c(),s.m(e.parentNode,e)))},i:oe,o:oe,d(a){a&&v(e),s.d(a)}}}function Xt(n){let e,t="There are no events logged";return{c(){e=h("div"),e.textContent=t,this.h()},l(l){e=p(l,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-10lllm0"&&(e.textContent=t),this.h()},h(){o(e,"class","card-body")},m(l,s){H(l,e,s)},p:oe,d(l){l&&v(e)}}}function Jt(n){let e,t,l,s,a,c,f,i,b,d=tt(n[5]),E=[];for(let u=0;u<d.length;u+=1)E[u]=vt(dt(n,d,u));return{c(){e=h("div"),t=h("button"),l=h("i"),s=X(`
					Add New Calendar Event`),c=N(),f=h("ul");for(let u=0;u<E.length;u+=1)E[u].c();this.h()},l(u){e=p(u,"DIV",{class:!0});var _=T(e);t=p(_,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var g=T(t);l=p(g,"I",{class:!0}),T(l).forEach(v),s=J(g,`
					Add New Calendar Event`),g.forEach(v),_.forEach(v),c=V(u),f=p(u,"UL",{class:!0});var M=T(f);for(let m=0;m<E.length;m+=1)E[m].l(M);M.forEach(v),this.h()},h(){o(l,"class","bi bi-plus"),o(t,"class","btn btn-sm btn-secondary"),o(t,"type","button"),o(t,"data-bs-toggle","offcanvas"),o(t,"data-bs-target",a="#"+n[0]),o(t,"aria-controls",n[0]),o(e,"class","card-body"),o(f,"class","list-group list-group-flush")},m(u,_){H(u,e,_),r(e,t),r(t,l),r(t,s),H(u,c,_),H(u,f,_);for(let g=0;g<E.length;g+=1)E[g]&&E[g].m(f,null);i||(b=z(t,"click",n[11]),i=!0)},p(u,_){if(_&1&&a!==(a="#"+u[0])&&o(t,"data-bs-target",a),_&1&&o(t,"aria-controls",u[0]),_&1827){d=tt(u[5]);let g;for(g=0;g<d.length;g+=1){const M=dt(u,d,g);E[g]?E[g].p(M,_):(E[g]=vt(M),E[g].c(),E[g].m(f,null))}for(;g<E.length;g+=1)E[g].d(1);E.length=d.length}},d(u){u&&(v(e),v(c),v(f)),Ct(E,u),i=!1,b()}}}function _t(n){let e,t=n[9](n[16].start_time)+"",l,s,a=n[9](n[16].end_time)+"",c;return{c(){e=h("span"),l=X(t),s=X(" to "),c=X(a),this.h()},l(f){e=p(f,"SPAN",{class:!0});var i=T(e);l=J(i,t),s=J(i," to "),c=J(i,a),i.forEach(v),this.h()},h(){o(e,"class","d-block")},m(f,i){H(f,e,i),r(e,l),r(e,s),r(e,c)},p(f,i){i&32&&t!==(t=f[9](f[16].start_time)+"")&&be(l,t),i&32&&a!==(a=f[9](f[16].end_time)+"")&&be(c,a)},d(f){f&&v(e)}}}function mt(n){let e,t=n[16].description+"",l;return{c(){e=h("span"),l=X(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var a=T(e);l=J(a,t),a.forEach(v),this.h()},h(){o(e,"class","d-block small")},m(s,a){H(s,e,a),r(e,l)},p(s,a){a&32&&t!==(t=s[16].description+"")&&be(l,t)},d(s){s&&v(e)}}}function ht(n){let e,t=n[16].location+"",l;return{c(){e=h("em"),l=X(t),this.h()},l(s){e=p(s,"EM",{class:!0});var a=T(e);l=J(a,t),a.forEach(v),this.h()},h(){o(e,"class","d-block small fw-lighter")},m(s,a){H(s,e,a),r(e,l)},p(s,a){a&32&&t!==(t=s[16].location+"")&&be(l,t)},d(s){s&&v(e)}}}function pt(n){let e,t,l,s,a;function c(){return n[12](n[16])}return{c(){e=h("button"),t=h("i"),this.h()},l(f){e=p(f,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var i=T(e);t=p(i,"I",{class:!0}),T(t).forEach(v),i.forEach(v),this.h()},h(){o(t,"class","bi bi-pencil"),o(e,"class","btn btn-sm btn-secondary"),o(e,"type","button"),o(e,"data-bs-toggle","offcanvas"),o(e,"data-bs-target",l="#"+n[0]),o(e,"aria-controls",n[0])},m(f,i){H(f,e,i),r(e,t),s||(a=z(e,"click",c),s=!0)},p(f,i){n=f,i&1&&l!==(l="#"+n[0])&&o(e,"data-bs-target",l),i&1&&o(e,"aria-controls",n[0])},d(f){f&&v(e),s=!1,a()}}}function vt(n){let e,t,l,s,a,c=n[8](n[16].start_time)+"",f,i,b,d,E=n[16].title+"",u,_,g,M,m,k,U,C=!n[16].is_all_day&&_t(n),D=n[16].description&&mt(n),w=n[16].location&&ht(n),B=n[1]&&pt(n);return{c(){e=h("li"),t=h("div"),l=h("div"),s=h("div"),a=h("strong"),f=X(c),i=N(),b=h("div"),d=h("strong"),u=X(E),_=N(),C&&C.c(),g=N(),D&&D.c(),M=N(),w&&w.c(),m=N(),k=h("div"),B&&B.c(),U=N(),this.h()},l(A){e=p(A,"LI",{class:!0});var P=T(e);t=p(P,"DIV",{class:!0});var j=T(t);l=p(j,"DIV",{class:!0});var $=T(l);s=p($,"DIV",{style:!0});var ue=T(s);a=p(ue,"STRONG",{});var se=T(a);f=J(se,c),se.forEach(v),ue.forEach(v),i=V($),b=p($,"DIV",{});var F=T(b);d=p(F,"STRONG",{});var x=T(d);u=J(x,E),x.forEach(v),_=V(F),C&&C.l(F),g=V(F),D&&D.l(F),M=V(F),w&&w.l(F),F.forEach(v),$.forEach(v),m=V(j),k=p(j,"DIV",{});var _e=T(k);B&&B.l(_e),_e.forEach(v),j.forEach(v),U=V(P),P.forEach(v),this.h()},h(){Nt(s,"width","85px"),o(l,"class","d-flex flex-sm-column flex-md-row flex-xl-row flex-lg-row gap-3"),o(t,"class","d-flex justify-content-between"),o(e,"class","list-group-item")},m(A,P){H(A,e,P),r(e,t),r(t,l),r(l,s),r(s,a),r(a,f),r(l,i),r(l,b),r(b,d),r(d,u),r(b,_),C&&C.m(b,null),r(b,g),D&&D.m(b,null),r(b,M),w&&w.m(b,null),r(t,m),r(t,k),B&&B.m(k,null),r(e,U)},p(A,P){P&32&&c!==(c=A[8](A[16].start_time)+"")&&be(f,c),P&32&&E!==(E=A[16].title+"")&&be(u,E),A[16].is_all_day?C&&(C.d(1),C=null):C?C.p(A,P):(C=_t(A),C.c(),C.m(b,g)),A[16].description?D?D.p(A,P):(D=mt(A),D.c(),D.m(b,M)):D&&(D.d(1),D=null),A[16].location?w?w.p(A,P):(w=ht(A),w.c(),w.m(b,null)):w&&(w.d(1),w=null),A[1]?B?B.p(A,P):(B=pt(A),B.c(),B.m(k,null)):B&&(B.d(1),B=null)},d(A){A&&v(e),C&&C.d(),D&&D.d(),w&&w.d(),B&&B.d()}}}function $t(n){let e,t,l,s,a="Calendar Events",c,f,i,b;e=new Ht({props:{title:n[2],id:n[0],$$slots:{default:[Yt]},$$scope:{ctx:n}}});const d=[Qt,Zt],E=[];function u(_,g){return _[4]?0:1}return f=u(n),i=E[f]=d[f](n),{c(){we(e.$$.fragment),t=N(),l=h("div"),s=h("div"),s.textContent=a,c=N(),i.c(),this.h()},l(_){Te(e.$$.fragment,_),t=V(_),l=p(_,"DIV",{class:!0});var g=T(l);s=p(g,"DIV",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-1on85xs"&&(s.textContent=a),c=V(g),i.l(g),g.forEach(v),this.h()},h(){o(s,"class","card-header"),o(l,"class","card")},m(_,g){Se(e,_,g),H(_,t,g),H(_,l,g),r(l,s),r(l,c),E[f].m(l,null),b=!0},p(_,[g]){const M={};g&4&&(M.title=_[2]),g&1&&(M.id=_[0]),g&524296&&(M.$$scope={dirty:g,ctx:_}),e.$set(M);let m=f;f=u(_),f===m?E[f].p(_,g):(Et(),ne(E[m],1,1,()=>{E[m]=null}),kt(),i=E[f],i?i.p(_,g):(i=E[f]=d[f](_),i.c()),le(i,1),i.m(l,null))},i(_){b||(le(e.$$.fragment,_),le(i),b=!0)},o(_){ne(e.$$.fragment,_),ne(i),b=!1},d(_){_&&(v(t),v(l)),Ne(e,_),E[f].d()}}}let xt="New Calendar Event",el="Edit Calendar Event";function tl(n,e,t){let l,s;const{actions:{featureIsEnabled:a}}=yt(),{stores:{ready:c,dbData:f},actions:{reload:i}}=Tt();rt(n,c,C=>t(4,l=C)),rt(n,f,C=>t(5,s=C));const b={title:"Event",description:"",start_time:ve(new Date,"yyyy-MM-dd"),end_time:ve(new Date,"yyyy-MM-dd"),location:"",is_all_day:!0};let{formId:d=Ut()}=e,E=!1,u="",_={...b};gt(async()=>{t(1,E=a(It.EditDBCalendarEvent)),await i()});const g=C=>{const D=Pe(C),w=He(D,Ue);return ve(w,"MMM, dd")},M=C=>{const D=Pe(C),w=He(D,Ue);return ve(w,"h:mm aa")},m=(C=void 0)=>{C?(t(2,u=el),t(3,_=C)):(t(2,u=xt),t(3,_={...b}))},k=()=>m(),U=C=>m(C);return n.$$set=C=>{"formId"in C&&t(0,d=C.formId)},[d,E,u,_,l,s,c,f,g,M,m,k,U]}class ll extends Ze{constructor(e){super(),Qe(this,e,tl,$t,Ye,{formId:0})}}function nl(n,e,t){const l=n.slice();return l[0]=e[t],l}function sl(n){let e,t,l,s=n[0].when+"",a,c,f,i=n[0].title+"",b,d,E,u,_,g=n[0].details+"",M;return{c(){e=h("li"),t=h("strong"),l=h("small"),a=X(s),c=h("br"),f=N(),b=X(i),d=h("br"),E=N(),u=h("em"),_=new Vt(!1),M=N(),this.h()},l(m){e=p(m,"LI",{class:!0});var k=T(e);t=p(k,"STRONG",{});var U=T(t);l=p(U,"SMALL",{});var C=T(l);a=J(C,s),C.forEach(v),U.forEach(v),c=p(k,"BR",{}),f=V(k),b=J(k,i),d=p(k,"BR",{}),E=V(k),u=p(k,"EM",{class:!0});var D=T(u);_=Mt(D,!1),D.forEach(v),M=V(k),k.forEach(v),this.h()},h(){_.a=null,o(u,"class","small fw-lighter"),o(e,"class","list-group-item")},m(m,k){H(m,e,k),r(e,t),r(t,l),r(l,a),r(e,c),r(e,f),r(e,b),r(e,d),r(e,E),r(e,u),_.m(g,u),r(e,M)},p:oe,d(m){m&&v(e)}}}function al(n){let e,t,l="Announcements",s,a,c=tt(Pt),f=[];for(let i=0;i<c.length;i+=1)f[i]=sl(nl(n,c,i));return{c(){e=h("div"),t=h("div"),t.textContent=l,s=N(),a=h("ul");for(let i=0;i<f.length;i+=1)f[i].c();this.h()},l(i){e=p(i,"DIV",{class:!0});var b=T(e);t=p(b,"DIV",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-rw6gj3"&&(t.textContent=l),s=V(b),a=p(b,"UL",{class:!0});var d=T(a);for(let E=0;E<f.length;E+=1)f[E].l(d);d.forEach(v),b.forEach(v),this.h()},h(){o(t,"class","card-header"),o(a,"class","list-group list-group-flush"),o(e,"class","card")},m(i,b){H(i,e,b),r(e,t),r(e,s),r(e,a);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(a,null)},p:oe,i:oe,o:oe,d(i){i&&v(e),Ct(f,i)}}}class il extends Ze{constructor(e){super(),Qe(this,e,null,al,Ye,{})}}function rl(n){let e,t;return e=new il({}),{c(){we(e.$$.fragment)},l(l){Te(e.$$.fragment,l)},m(l,s){Se(e,l,s),t=!0},i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){Ne(e,l)}}}function ol(n){let e,t;return e=new ll({}),{c(){we(e.$$.fragment)},l(l){Te(e.$$.fragment,l)},m(l,s){Se(e,l,s),t=!0},i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){Ne(e,l)}}}function ul(n){let e,t,l,s;const a=[ol,rl],c=[];function f(i,b){return i[0]?0:1}return e=f(n),t=c[e]=a[e](n),{c(){t.c(),l=We()},l(i){t.l(i),l=We()},m(i,b){c[e].m(i,b),H(i,l,b),s=!0},p(i,[b]){let d=e;e=f(i),e!==d&&(Et(),ne(c[d],1,1,()=>{c[d]=null}),kt(),t=c[e],t||(t=c[e]=a[e](i),t.c()),le(t,1),t.m(l.parentNode,l))},i(i){s||(le(t),s=!0)},o(i){ne(t),s=!1},d(i){i&&v(l),c[e].d(i)}}}function fl(n,e,t){const{actions:{featureIsEnabled:l}}=yt();let s=!1;return gt(async()=>{t(0,s=l(It.ViewDBCalendarEvents))}),[s]}class Cl extends Ze{constructor(e){super(),Qe(this,e,fl,ul,Ye,{})}}export{Cl as C};
