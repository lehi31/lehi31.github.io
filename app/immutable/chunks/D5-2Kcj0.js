const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./C4dVwT6d.js","./XwK7VtW3.js","./BXYRyfL2.js","./e-rlo9AR.js","./Bg5r8v_7.js","./BVhfD6B8.js","./BUApaBEI.js","./CmsKOCeN.js","./BQXa3cuo.js","./B_Qgl40C.js","../assets/Spinner.CRM6NlOF.css","./r7-tBYgy.js","./BzyjdSi-.js","../assets/confirm.CtYGqHat.css","../assets/AnnouncementWidgetItem.Tz8jsGrG.css"])))=>i.map(i=>d[i]);
import{_ as ut}from"./CmsKOCeN.js";import{s as Ye,d as h,i as $,l as V,t as K,m as L,N as ve,o as Ze,q as v,a as p,c as b,k as E,g as le,e as g,n as F,z as fe,v as x,w as j,x as R,L as $e,r as _t,C as dt}from"./XwK7VtW3.js";import{S as xe,i as et,d as se,t as N,a as C,g as J,e as Q,m as re,c as ae,b as oe}from"./e-rlo9AR.js";import{g as mt}from"./D0QH3NT1.js";import{e as ne,u as Se,o as Te}from"./BXYRyfL2.js";import{e as ye,h as Ae,m as ht,t as pt,g as tt,P as Ee,p as he,f as X}from"./Bg5r8v_7.js";import{g as lt,s as vt,c as Ne,e as De,A as nt,a as st,E as bt,b as gt}from"./C4dVwT6d.js";import{S as rt}from"./B_Qgl40C.js";import{D as at,v as ot}from"./Ct6k4Xpq.js";function kt(f,e,t){const l=ye(f,t),r=ye(e,t),i=+l-Ae(l),c=+r-Ae(r);return Math.round((i-c)/ht)}function yt(f){const e=pt(f);return e.setDate(1),e.setHours(0,0,0,0),e}const{Map:Ce}=mt;function Oe(f,e,t){const l=f.slice();return l[37]=e[t][0],l[38]=e[t][1],l}function Ve(f,e,t){const l=f.slice();l[41]=e[t];const r=he(l[41].key);l[42]=r;const i=De(l[42],{weekStartsOn:1});l[43]=i;const c=yt(l[43]);l[44]=c;const o=kt(l[43],l[44],{weekStartsOn:1})+1;l[45]=o;const n=l[11](l[41].key);l[46]=n;const s=l[41].days.reduce((a,u)=>a+u.events.length,0);return l[47]=s,l}function Le(f,e,t){const l=f.slice();return l[50]=e[t],l}function We(f,e,t){const l=f.slice();return l[53]=e[t],l}function Et(f){let e,t;return e=new nt({props:{eventItem:f[7],drawerId:f[0],name:"event-item-form"}}),{c(){oe(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){re(e,l,r),t=!0},p(l,r){const i={};r[0]&128&&(i.eventItem=l[7]),r[0]&1&&(i.drawerId=l[0]),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function wt(f){let e,t,l;return t=new rt({}),{c(){e=g("div"),oe(t.$$.fragment),this.h()},l(r){e=b(r,"DIV",{class:!0});var i=E(e);ae(t.$$.fragment,i),i.forEach(h),this.h()},h(){p(e,"class","d-flex flex-column gap-4")},m(r,i){$(r,e,i),re(t,e,null),l=!0},p:F,i(r){l||(C(t.$$.fragment,r),l=!0)},o(r){N(t.$$.fragment,r),l=!1},d(r){r&&h(e),se(t)}}}function It(f){let e,t,l,r,i="Events",c,o,n,s,a,u,_,m;n=new st({});let d=f[5]&&Ue(f);const D=[$t,Mt],k=[];function T(M,A){return M[4]?.length?0:1}return u=T(f),_=k[u]=D[u](f),{c(){e=g("div"),t=g("div"),l=g("div"),r=g("span"),r.textContent=i,c=L(),o=g("div"),oe(n.$$.fragment),s=L(),d&&d.c(),a=L(),_.c(),this.h()},l(M){e=b(M,"DIV",{class:!0});var A=E(e);t=b(A,"DIV",{class:!0});var w=E(t);l=b(w,"DIV",{class:!0});var I=E(l);r=b(I,"SPAN",{"data-svelte-h":!0}),le(r)!=="svelte-1s343wn"&&(r.textContent=i),c=V(I),o=b(I,"DIV",{class:!0});var S=E(o);ae(n.$$.fragment,S),s=V(S),d&&d.l(S),S.forEach(h),I.forEach(h),w.forEach(h),a=V(A),_.l(A),A.forEach(h),this.h()},h(){p(o,"class","d-flex align-items-center gap-2 flex-wrap justify-content-end"),p(l,"class","d-flex justify-content-between align-items-center gap-3 flex-wrap"),p(t,"class","card-header"),p(e,"class","card")},m(M,A){$(M,e,A),v(e,t),v(t,l),v(l,r),v(l,c),v(l,o),re(n,o,null),v(o,s),d&&d.m(o,null),v(e,a),k[u].m(e,null),m=!0},p(M,A){M[5]?d?d.p(M,A):(d=Ue(M),d.c(),d.m(o,null)):d&&(d.d(1),d=null);let w=u;u=T(M),u===w?k[u].p(M,A):(J(),N(k[w],1,1,()=>{k[w]=null}),Q(),_=k[u],_?_.p(M,A):(_=k[u]=D[u](M),_.c()),C(_,1),_.m(e,null))},i(M){m||(C(n.$$.fragment,M),C(_),m=!0)},o(M){N(n.$$.fragment,M),N(_),m=!1},d(M){M&&h(e),se(n),d&&d.d(),k[u].d()}}}function Ue(f){let e,t,l,r,i;return{c(){e=g("button"),t=g("i"),this.h()},l(c){e=b(c,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var o=E(e);t=b(o,"I",{class:!0}),E(t).forEach(h),o.forEach(h),this.h()},h(){p(t,"class","bi bi-plus"),p(e,"class","btn btn-sm btn-primary"),p(e,"type","button"),p(e,"data-bs-toggle","offcanvas"),p(e,"data-bs-target",l="#"+f[0]),p(e,"aria-controls",f[0])},m(c,o){$(c,e,o),v(e,t),r||(i=fe(e,"click",f[27]),r=!0)},p(c,o){o[0]&1&&l!==(l="#"+c[0])&&p(e,"data-bs-target",l),o[0]&1&&p(e,"aria-controls",c[0])},d(c){c&&h(e),r=!1,i()}}}function Mt(f){let e,t="There are no upcoming events scheduled.";return{c(){e=g("div"),e.textContent=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-2uetp5"&&(e.textContent=t),this.h()},h(){p(e,"class","card-body text-muted small")},m(l,r){$(l,e,r)},p:F,i:F,o:F,d(l){l&&h(e)}}}function $t(f){let e,t,l,r,i;const c=[St,Dt],o=[];function n(a,u){return a[1].length?0:1}e=n(f),t=o[e]=c[e](f);let s=(f[10]||f[8])&&Fe(f);return{c(){t.c(),l=L(),s&&s.c(),r=K()},l(a){t.l(a),l=V(a),s&&s.l(a),r=K()},m(a,u){o[e].m(a,u),$(a,l,u),s&&s.m(a,u),$(a,r,u),i=!0},p(a,u){let _=e;e=n(a),e===_?o[e].p(a,u):(J(),N(o[_],1,1,()=>{o[_]=null}),Q(),t=o[e],t?t.p(a,u):(t=o[e]=c[e](a),t.c()),C(t,1),t.m(l.parentNode,l)),a[10]||a[8]?s?s.p(a,u):(s=Fe(a),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},i(a){i||(C(t),i=!0)},o(a){N(t),i=!1},d(a){a&&(h(l),h(r)),o[e].d(a),s&&s.d(a)}}}function Dt(f){let e,t="There are no upcoming events this month.";return{c(){e=g("div"),e.textContent=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-1wqkfly"&&(e.textContent=t),this.h()},h(){p(e,"class","card-body text-muted small")},m(l,r){$(l,e,r)},p:F,i:F,o:F,d(l){l&&h(e)}}}function St(f){let e,t=[],l=new Ce,r,i=ne(Object.entries(f[9]));const c=o=>o[37];for(let o=0;o<i.length;o+=1){let n=Oe(f,i,o),s=c(n);l.set(s,t[o]=He(s,n))}return{c(){e=g("ul");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=b(o,"UL",{class:!0});var n=E(e);for(let s=0;s<t.length;s+=1)t[s].l(n);n.forEach(h),this.h()},h(){p(e,"class","list-group list-group-flush border-top-0")},m(o,n){$(o,e,n);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null);r=!0},p(o,n){n[0]&4459041&&(i=ne(Object.entries(o[9])),J(),t=Se(t,n,c,1,o,i,l,e,Te,He,null,Oe),Q())},i(o){if(!r){for(let n=0;n<i.length;n+=1)C(t[n]);r=!0}},o(o){for(let n=0;n<t.length;n+=1)N(t[n]);r=!1},d(o){o&&h(e);for(let n=0;n<t.length;n+=1)t[n].d()}}}function Be(f){let e,t,l,r;const i=[Ct,Tt],c=[];function o(n,s){return n[41].days.length?0:1}return e=o(f),t=c[e]=i[e](f),{c(){t.c(),l=K()},l(n){t.l(n),l=K()},m(n,s){c[e].m(n,s),$(n,l,s),r=!0},p(n,s){let a=e;e=o(n),e===a?c[e].p(n,s):(J(),N(c[a],1,1,()=>{c[a]=null}),Q(),t=c[e],t?t.p(n,s):(t=c[e]=i[e](n),t.c()),C(t,1),t.m(l.parentNode,l))},i(n){r||(C(t),r=!0)},o(n){N(t),r=!1},d(n){n&&h(l),c[e].d(n)}}}function Tt(f){let e,t="No events scheduled this week.";return{c(){e=g("li"),e.textContent=t,this.h()},l(l){e=b(l,"LI",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-1tq6asq"&&(e.textContent=t),this.h()},h(){p(e,"class","list-group-item py-3 text-muted")},m(l,r){$(l,e,r)},p:F,i:F,o:F,d(l){l&&h(e)}}}function Ct(f){let e=[],t=new Ce,l,r,i=ne(f[41].days);const c=o=>o[50].key;for(let o=0;o<i.length;o+=1){let n=Le(f,i,o),s=c(n);t.set(s,e[o]=Re(s,n))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();l=K()},l(o){for(let n=0;n<e.length;n+=1)e[n].l(o);l=K()},m(o,n){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(o,n);$(o,l,n),r=!0},p(o,n){n[0]&4194849&&(i=ne(o[41].days),J(),e=Se(e,n,c,1,o,i,t,l.parentNode,Te,Re,l,Le),Q())},i(o){if(!r){for(let n=0;n<i.length;n+=1)C(e[n]);r=!0}},o(o){for(let n=0;n<e.length;n+=1)N(e[n]);r=!1},d(o){o&&h(l);for(let n=0;n<e.length;n+=1)e[n].d(o)}}}function Pe(f){let e,t,l,r,i,c;function o(){return f[29](f[53])}return{c(){e=g("div"),t=g("button"),l=g("i"),this.h()},l(n){e=b(n,"DIV",{class:!0});var s=E(e);t=b(s,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var a=E(t);l=b(a,"I",{class:!0}),E(l).forEach(h),a.forEach(h),s.forEach(h),this.h()},h(){p(l,"class","bi bi-pencil-square"),p(t,"class","btn btn-sm btn-primary"),p(t,"type","button"),p(t,"data-bs-toggle","offcanvas"),p(t,"data-bs-target",r="#"+f[0]),p(t,"aria-controls",f[0]),p(e,"class","event-actions svelte-b48x49")},m(n,s){$(n,e,s),v(e,t),v(t,l),i||(c=fe(t,"click",o),i=!0)},p(n,s){f=n,s[0]&1&&r!==(r="#"+f[0])&&p(t,"data-bs-target",r),s[0]&1&&p(t,"aria-controls",f[0])},d(n){n&&h(e),i=!1,c()}}}function je(f,e){let t,l,r,i,c,o;r=new bt({props:{item:e[53],showDate:!1}});let n=e[5]&&Pe(e);return{key:f,first:null,c(){t=g("div"),l=g("div"),oe(r.$$.fragment),i=L(),n&&n.c(),c=L(),this.h()},l(s){t=b(s,"DIV",{class:!0});var a=E(t);l=b(a,"DIV",{class:!0});var u=E(l);ae(r.$$.fragment,u),u.forEach(h),i=V(a),n&&n.l(a),c=V(a),a.forEach(h),this.h()},h(){p(l,"class","event-content svelte-b48x49"),p(t,"class","daily-event-row svelte-b48x49"),this.first=t},m(s,a){$(s,t,a),v(t,l),re(r,l,null),v(t,i),n&&n.m(t,null),v(t,c),o=!0},p(s,a){e=s;const u={};a[0]&512&&(u.item=e[53]),r.$set(u),e[5]?n?n.p(e,a):(n=Pe(e),n.c(),n.m(t,c)):n&&(n.d(1),n=null)},i(s){o||(C(r.$$.fragment,s),o=!0)},o(s){N(r.$$.fragment,s),o=!1},d(s){s&&h(t),se(r),n&&n.d()}}}function Re(f,e){let t,l,r,i,c=e[50].displayDay+"",o,n,s,a=e[50].displayDate+"",u,_,m,d=[],D=new Ce,k,T,M=ne(e[50].events);const A=w=>w[53].id??`${w[53].start_time}-${w[53].meta_data?.recurring_instance_index??0}`;for(let w=0;w<M.length;w+=1){let I=We(e,M,w),S=A(I);D.set(S,d[w]=je(S,I))}return{key:f,first:null,c(){t=g("li"),l=g("div"),r=g("div"),i=g("strong"),o=R(c),n=L(),s=g("small"),u=R(a),_=L(),m=g("div");for(let w=0;w<d.length;w+=1)d[w].c();k=L(),this.h()},l(w){t=b(w,"LI",{class:!0});var I=E(t);l=b(I,"DIV",{class:!0});var S=E(l);r=b(S,"DIV",{class:!0});var Y=E(r);i=b(Y,"STRONG",{});var ee=E(i);o=j(ee,c),ee.forEach(h),n=V(Y),s=b(Y,"SMALL",{class:!0});var z=E(s);u=j(z,a),z.forEach(h),Y.forEach(h),_=V(S),m=b(S,"DIV",{class:!0});var B=E(m);for(let Z=0;Z<d.length;Z+=1)d[Z].l(B);B.forEach(h),S.forEach(h),k=V(I),I.forEach(h),this.h()},h(){p(s,"class","text-muted"),p(r,"class","event-date-column d-flex flex-column align-items-start text-nowrap svelte-b48x49"),p(m,"class","d-flex flex-column gap-3 flex-grow-1"),p(l,"class","d-flex flex-column flex-md-row gap-3"),p(t,"class","list-group-item py-3"),this.first=t},m(w,I){$(w,t,I),v(t,l),v(l,r),v(r,i),v(i,o),v(r,n),v(r,s),v(s,u),v(l,_),v(l,m);for(let S=0;S<d.length;S+=1)d[S]&&d[S].m(m,null);v(t,k),T=!0},p(w,I){e=w,(!T||I[0]&512)&&c!==(c=e[50].displayDay+"")&&x(o,c),(!T||I[0]&512)&&a!==(a=e[50].displayDate+"")&&x(u,a),I[0]&4194849&&(M=ne(e[50].events),J(),d=Se(d,I,A,1,e,M,D,m,Te,je,null,We),Q())},i(w){if(!T){for(let I=0;I<M.length;I+=1)C(d[I]);T=!0}},o(w){for(let I=0;I<d.length;I+=1)N(d[I]);T=!1},d(w){w&&h(t);for(let I=0;I<d.length;I+=1)d[I].d()}}}function qe(f,e){let t,l,r,i,c,o,n,s,a=e[45]+"",u,_,m=e[47]+"",d,D,k=e[47]===1?"":"s",T,M,A,w,I=e[41].label+"",S,Y,ee,z,B,Z,ue;function _e(){return e[28](e[41])}let W=e[46]&&Be(e);return{key:f,first:null,c(){t=g("li"),l=g("button"),r=g("span"),i=g("i"),o=L(),n=g("span"),s=R("Week "),u=R(a),_=R(" ["),d=R(m),D=R(" Event"),T=R(k),M=R("]"),A=L(),w=g("span"),S=R(I),ee=L(),W&&W.c(),z=K(),this.h()},l(q){t=b(q,"LI",{class:!0});var P=E(t);l=b(P,"BUTTON",{class:!0,title:!0});var be=E(l);r=b(be,"SPAN",{class:!0});var ge=E(r);i=b(ge,"I",{class:!0}),E(i).forEach(h),o=V(ge),n=b(ge,"SPAN",{class:!0});var te=E(n);s=j(te,"Week "),u=j(te,a),_=j(te," ["),d=j(te,m),D=j(te," Event"),T=j(te,k),M=j(te,"]"),te.forEach(h),ge.forEach(h),A=V(be),w=b(be,"SPAN",{});var ke=E(w);S=j(ke,I),ke.forEach(h),be.forEach(h),P.forEach(h),ee=V(q),W&&W.l(q),z=K(),this.h()},h(){p(i,"class",c="bi "+(e[46]?"bi-chevron-up":"bi-chevron-down")),p(n,"class","text-muted"),p(r,"class","d-flex align-items-center gap-2"),$e(w,"opacity-50",e[47]===0),p(l,"class","week-header w-100 d-flex justify-content-between align-items-center border-0 bg-transparent p-2 text-start svelte-b48x49"),p(l,"title",Y=e[46]?"Click to collapse week":"Click to expand week"),$e(l,"text-muted",e[47]===0),p(t,"class","list-group-item list-group-item-light text-uppercase small fw-lighter p-0"),this.first=t},m(q,P){$(q,t,P),v(t,l),v(l,r),v(r,i),v(r,o),v(r,n),v(n,s),v(n,u),v(n,_),v(n,d),v(n,D),v(n,T),v(n,M),v(l,A),v(l,w),v(w,S),$(q,ee,P),W&&W.m(q,P),$(q,z,P),B=!0,Z||(ue=fe(l,"click",_e),Z=!0)},p(q,P){e=q,(!B||P[0]&2560&&c!==(c="bi "+(e[46]?"bi-chevron-up":"bi-chevron-down")))&&p(i,"class",c),(!B||P[0]&512)&&a!==(a=e[45]+"")&&x(u,a),(!B||P[0]&512)&&m!==(m=e[47]+"")&&x(d,m),(!B||P[0]&512)&&k!==(k=e[47]===1?"":"s")&&x(T,k),(!B||P[0]&512)&&I!==(I=e[41].label+"")&&x(S,I),(!B||P[0]&512)&&$e(w,"opacity-50",e[47]===0),(!B||P[0]&2560&&Y!==(Y=e[46]?"Click to collapse week":"Click to expand week"))&&p(l,"title",Y),(!B||P[0]&512)&&$e(l,"text-muted",e[47]===0),e[46]?W?(W.p(e,P),P[0]&2560&&C(W,1)):(W=Be(e),W.c(),C(W,1),W.m(z.parentNode,z)):W&&(J(),N(W,1,1,()=>{W=null}),Q())},i(q){B||(C(W),B=!0)},o(q){N(W),B=!1},d(q){q&&(h(t),h(ee),h(z)),W&&W.d(q),Z=!1,ue()}}}function He(f,e){let t,l=e[38].label+"",r,i,c=[],o=new Ce,n,s,a=ne(e[38].weeks);const u=_=>_[41].key;for(let _=0;_<a.length;_+=1){let m=Ve(e,a,_),d=u(m);o.set(d,c[_]=qe(d,m))}return{key:f,first:null,c(){t=g("li"),r=R(l),i=L();for(let _=0;_<c.length;_+=1)c[_].c();n=K(),this.h()},l(_){t=b(_,"LI",{class:!0});var m=E(t);r=j(m,l),m.forEach(h),i=V(_);for(let d=0;d<c.length;d+=1)c[d].l(_);n=K(),this.h()},h(){p(t,"class","list-group-item bg-secondary text-white fw-semibold"),this.first=t},m(_,m){$(_,t,m),v(t,r),$(_,i,m);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(_,m);$(_,n,m),s=!0},p(_,m){e=_,(!s||m[0]&512)&&l!==(l=e[38].label+"")&&x(r,l),m[0]&4459041&&(a=ne(e[38].weeks),J(),c=Se(c,m,u,1,e,a,o,n.parentNode,Te,qe,n,Ve),Q())},i(_){if(!s){for(let m=0;m<a.length;m+=1)C(c[m]);s=!0}},o(_){for(let m=0;m<c.length;m+=1)N(c[m]);s=!1},d(_){_&&(h(t),h(i),h(n));for(let m=0;m<c.length;m+=1)c[m].d(_)}}}function Fe(f){let e,t,l,r=f[2].length+"",i,c,o=f[3].length+"",n,s,a;function u(d,D){return d[8]?At:Nt}let _=u(f),m=_(f);return{c(){e=g("div"),t=g("small"),l=R("Showing "),i=R(r),c=R(" of "),n=R(o),s=R(" future events"),a=L(),m.c(),this.h()},l(d){e=b(d,"DIV",{class:!0});var D=E(e);t=b(D,"SMALL",{});var k=E(t);l=j(k,"Showing "),i=j(k,r),c=j(k," of "),n=j(k,o),s=j(k," future events"),k.forEach(h),a=V(D),m.l(D),D.forEach(h),this.h()},h(){p(e,"class","card-footer d-flex align-items-center justify-content-between")},m(d,D){$(d,e,D),v(e,t),v(t,l),v(t,i),v(t,c),v(t,n),v(t,s),v(e,a),m.m(e,null)},p(d,D){D[0]&4&&r!==(r=d[2].length+"")&&x(i,r),D[0]&8&&o!==(o=d[3].length+"")&&x(n,o),_===(_=u(d))&&m?m.p(d,D):(m.d(1),m=_(d),m&&(m.c(),m.m(e,null)))},d(d){d&&h(e),m.d()}}}function Nt(f){let e,t,l="More",r,i,c="All",o,n;return{c(){e=g("div"),t=g("button"),t.textContent=l,r=L(),i=g("button"),i.textContent=c,this.h()},l(s){e=b(s,"DIV",{class:!0});var a=E(e);t=b(a,"BUTTON",{class:!0,"data-svelte-h":!0}),le(t)!=="svelte-1p8emoc"&&(t.textContent=l),r=V(a),i=b(a,"BUTTON",{class:!0,"data-svelte-h":!0}),le(i)!=="svelte-nk78by"&&(i.textContent=c),a.forEach(h),this.h()},h(){p(t,"class","btn btn-primary btn-sm"),p(i,"class","btn btn-outline-primary btn-sm"),p(e,"class","d-flex gap-2")},m(s,a){$(s,e,a),v(e,t),v(e,r),v(e,i),o||(n=[fe(t,"click",f[19]),fe(i,"click",f[20])],o=!0)},p:F,d(s){s&&h(e),o=!1,_t(n)}}}function At(f){let e,t="Reset",l,r;return{c(){e=g("button"),e.textContent=t,this.h()},l(i){e=b(i,"BUTTON",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-161htn1"&&(e.textContent=t),this.h()},h(){p(e,"class","btn btn-outline-secondary btn-sm")},m(i,c){$(i,e,c),l||(r=fe(e,"click",f[21]),l=!0)},p:F,d(i){i&&h(e),l=!1,r()}}}function Ot(f){let e,t,l,r,i,c;e=new at({props:{title:f[6],id:f[0],$$slots:{default:[Et]},$$scope:{ctx:f}}});const o=[It,wt],n=[];function s(a,u){return a[12]?0:1}return l=s(f),r=n[l]=o[l](f),{c(){oe(e.$$.fragment),t=L(),r.c(),i=K()},l(a){ae(e.$$.fragment,a),t=V(a),r.l(a),i=K()},m(a,u){re(e,a,u),$(a,t,u),n[l].m(a,u),$(a,i,u),c=!0},p(a,u){const _={};u[0]&64&&(_.title=a[6]),u[0]&1&&(_.id=a[0]),u[0]&129|u[1]&33554432&&(_.$$scope={dirty:u,ctx:a}),e.$set(_);let m=l;l=s(a),l===m?n[l].p(a,u):(J(),N(n[m],1,1,()=>{n[m]=null}),Q(),r=n[l],r?r.p(a,u):(r=n[l]=o[l](a),r.c()),C(r,1),r.m(i.parentNode,i))},i(a){c||(C(e.$$.fragment,a),C(r),c=!0)},o(a){N(e.$$.fragment,a),N(r),c=!1},d(a){a&&(h(t),h(i)),se(e,a),n[l].d(a)}}}const Ge=8,Vt=8;function Lt(f,e,t){let l,r,i,c,o,n,s,a,u,_,m,d,D;const{stores:{currentUserHasPermission:k}}=tt();ve(f,k,y=>t(32,_=y));const{stores:{ready:T,calendarEvents:M,weeksExpanded:A},actions:{reload:w}}=lt();ve(f,T,y=>t(12,D=y)),ve(f,M,y=>t(4,m=y)),ve(f,A,y=>t(26,d=y));const I={title:"Event",description:"",location:"",event_type:"calendar_event"};let{formId:S=ot()}=e,Y=!1,ee="",z={...I},B=Ge,Z=!1;const ue=vt();let _e={};function W(y){return y===r||y===i}function q(y){const H=_e[y]??W(y);t(24,_e={..._e,[y]:!H})}const P=y=>{const H=new Map;for(const U of y){if(!U.start_time)continue;const O=he(U.start_time);if(Number.isNaN(O.getTime()))continue;const G=ye(O,{weekStartsOn:1}),me=De(O,{weekStartsOn:1}),ce=X(G,"yyyy-MM-dd"),Ie=`${X(G,"MMM d")} – ${X(me,"MMM d")}`;let pe=H.get(ce);pe||(pe={key:ce,label:Ie,days:new Map},H.set(ce,pe));const we=X(O,"yyyy-MM-dd");let Me=pe.days.get(we);Me||(Me={key:we,displayDay:X(O,"EEE"),displayDate:X(O,"MMM d"),events:[]},pe.days.set(we,Me)),Me.events.push(U)}const ie=U=>{const O=X(U,"yyyy-MM-dd");H.has(O)||H.set(O,{key:O,label:`${X(U,"MMM d")} – ${X(De(U,{weekStartsOn:1}),"MMM d")}`,days:new Map})},de=Array.from(H.values());if(de.length){const U=de.reduce((me,ce)=>ce.key>me?ce.key:me,de[0].key),O=he(U);let G=ye(new Date,{weekStartsOn:1});if(G>O)ie(G);else for(;G<=O;)ie(G),G=Ne(G,1)}return Array.from(H.values()).sort((U,O)=>U.key<O.key?-1:U.key>O.key?1:0).map(U=>({key:U.key,label:U.label,days:Array.from(U.days.values()).sort((O,G)=>O.key<G.key?-1:O.key>G.key?1:0).map(O=>({...O,events:O.events.slice().sort((G,me)=>{const ce=G.is_all_day?0:1,Ie=me.is_all_day?0:1;if(ce!==Ie)return ce-Ie;const pe=G.start_time?he(G.start_time).getTime():Number.MAX_SAFE_INTEGER,we=me.start_time?he(me.start_time).getTime():Number.MAX_SAFE_INTEGER;return pe-we})}))}))};function be(){t(23,B+=Vt)}function ge(){t(23,B=520),t(8,Z=!0)}function te(){t(23,B=Ge),t(8,Z=!1)}Ze(async()=>{t(5,Y=_(Ee.CreateEvents)||_(Ee.EditOwnOrgEvents)||_(Ee.EditAllEvents)),await w()});const ke=async y=>{if(t(6,ee="Item Form"),y?.meta_data?.recurring_instance&&y?.meta_data?.recurring_parent_id){const{getCalendarEvent:H}=await ut(async()=>{const{getCalendarEvent:de}=await import("./C4dVwT6d.js").then(U=>U.h);return{getCalendarEvent:de}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url),ie=await H(y.meta_data.recurring_parent_id);if(ie){t(7,z={...ie,category:ie?.meta_data?.category,start_time:y.start_time,end_time:y.end_time,meta_data:{...ie.meta_data,recurring_instance:!0,recurring_parent_id:y.meta_data.recurring_parent_id,recurring_instance_index:y.meta_data.recurring_instance_index}});return}}t(7,z={...y,category:y?.meta_data?.category})},it=()=>ke({...I,event_type:"calendar_event",start_time:new Date().toISOString(),end_time:new Date().toISOString(),is_all_day:!0}),ct=y=>q(y.key),ft=y=>ke(y);return f.$$set=y=>{"formId"in y&&t(0,S=y.formId)},f.$$.update=()=>{f.$$.dirty[0]&8388608&&t(25,l=Ne(ue,B)),f.$$.dirty[0]&83886080&&t(11,c=y=>d?!0:_e[y]!==void 0?_e[y]:W(y)),f.$$.dirty[0]&33554448&&t(2,o=(m??[]).filter(y=>{if(!y.start_time)return!1;const H=he(y.start_time);return H>=ue&&H<=l})),f.$$.dirty[0]&16&&t(3,n=(m??[]).filter(y=>y.start_time?he(y.start_time)>=ue:!1)),f.$$.dirty[0]&4&&t(1,s=P(o)),f.$$.dirty[0]&12&&t(10,a=n.length>o.length),f.$$.dirty[0]&2&&t(9,u=s.reduce((y,H)=>{const ie=he(H.key),de=De(ie,{weekStartsOn:1}),U=X(de,"yyyy-MM"),O=X(de,"MMMM yyyy");return y[U]||(y[U]={label:O,weeks:[]}),y[U].weeks.push(H),y},{}))},r=X(ye(ue,{weekStartsOn:1}),"yyyy-MM-dd"),i=X(Ne(ye(ue,{weekStartsOn:1}),1),"yyyy-MM-dd"),[S,s,o,n,m,Y,ee,z,Z,u,a,c,D,k,T,M,A,I,q,be,ge,te,ke,B,_e,l,d,it,ct,ft]}class el extends xe{constructor(e){super(),et(this,e,Lt,Ot,Ye,{formId:0},null,[-1,-1])}}function Ke(f,e,t){const l=f.slice();return l[19]=e[t],l}function Wt(f){let e,t;return e=new nt({props:{eventItem:f[4],drawerId:f[12],name:"announcement-item-form"}}),{c(){oe(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){re(e,l,r),t=!0},p(l,r){const i={};r&16&&(i.eventItem=l[4]),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function Ut(f){let e,t,l;return t=new rt({}),{c(){e=g("div"),oe(t.$$.fragment),this.h()},l(r){e=b(r,"DIV",{class:!0});var i=E(e);ae(t.$$.fragment,i),i.forEach(h),this.h()},h(){p(e,"class","d-flex flex-column gap-4")},m(r,i){$(r,e,i),re(t,e,null),l=!0},p:F,i(r){l||(C(t.$$.fragment,r),l=!0)},o(r){N(t.$$.fragment,r),l=!1},d(r){r&&h(e),se(t)}}}function Bt(f){let e,t,l,r,i="Announcements",c,o,n,s,a,u,_=f[2]&&ze(f);const m=[jt,Pt],d=[];function D(k,T){return k[6].length?0:k[1]?.length===0?1:-1}return~(s=D(f))&&(a=d[s]=m[s](f)),{c(){e=g("div"),t=g("div"),l=g("div"),r=g("span"),r.textContent=i,c=L(),o=g("div"),_&&_.c(),n=L(),a&&a.c(),this.h()},l(k){e=b(k,"DIV",{class:!0});var T=E(e);t=b(T,"DIV",{class:!0});var M=E(t);l=b(M,"DIV",{class:!0});var A=E(l);r=b(A,"SPAN",{"data-svelte-h":!0}),le(r)!=="svelte-iczcm2"&&(r.textContent=i),c=V(A),o=b(A,"DIV",{class:!0});var w=E(o);_&&_.l(w),w.forEach(h),A.forEach(h),M.forEach(h),n=V(T),a&&a.l(T),T.forEach(h),this.h()},h(){p(o,"class","d-flex align-items-center gap-2"),p(l,"class","d-flex justify-content-between align-items-center"),p(t,"class","card-header"),p(e,"class","card")},m(k,T){$(k,e,T),v(e,t),v(t,l),v(l,r),v(l,c),v(l,o),_&&_.m(o,null),v(e,n),~s&&d[s].m(e,null),u=!0},p(k,T){k[2]?_?(_.p(k,T),T&4&&C(_,1)):(_=ze(k),_.c(),C(_,1),_.m(o,null)):_&&(J(),N(_,1,1,()=>{_=null}),Q());let M=s;s=D(k),s===M?~s&&d[s].p(k,T):(a&&(J(),N(d[M],1,1,()=>{d[M]=null}),Q()),~s?(a=d[s],a?a.p(k,T):(a=d[s]=m[s](k),a.c()),C(a,1),a.m(e,null)):a=null)},i(k){u||(C(_),C(a),u=!0)},o(k){N(_),N(a),u=!1},d(k){k&&h(e),_&&_.d(),~s&&d[s].d()}}}function ze(f){let e,t,l,r,i,c,o;return e=new st({}),{c(){oe(e.$$.fragment),t=L(),l=g("button"),r=g("i"),this.h()},l(n){ae(e.$$.fragment,n),t=V(n),l=b(n,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var s=E(l);r=b(s,"I",{class:!0}),E(r).forEach(h),s.forEach(h),this.h()},h(){p(r,"class","bi bi-plus"),p(l,"class","btn btn-sm btn-primary"),p(l,"type","button"),p(l,"data-bs-toggle","offcanvas"),p(l,"data-bs-target","#"+f[12]),p(l,"aria-controls",f[12])},m(n,s){re(e,n,s),$(n,t,s),$(n,l,s),v(l,r),i=!0,c||(o=fe(l,"click",f[15]),c=!0)},p:F,i(n){i||(C(e.$$.fragment,n),i=!0)},o(n){N(e.$$.fragment,n),i=!1},d(n){n&&(h(t),h(l)),se(e,n),c=!1,o()}}}function Pt(f){let e,t=`<div class="alert alert-info mb-0"><i class="bi bi-info-circle me-2"></i>
					No announcements yet.</div>`;return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-1f6lqec"&&(e.innerHTML=t),this.h()},h(){p(e,"class","card-body")},m(l,r){$(l,e,r)},p:F,i:F,o:F,d(l){l&&h(e)}}}function jt(f){let e,t,l,r,i=ne(f[6]),c=[];for(let s=0;s<i.length;s+=1)c[s]=Je(Ke(f,i,s));const o=s=>N(c[s],1,1,()=>{c[s]=null});let n=f[5]&&Qe(f);return{c(){e=g("ul");for(let s=0;s<c.length;s+=1)c[s].c();t=L(),n&&n.c(),l=K(),this.h()},l(s){e=b(s,"UL",{class:!0});var a=E(e);for(let u=0;u<c.length;u+=1)c[u].l(a);a.forEach(h),t=V(s),n&&n.l(s),l=K(),this.h()},h(){p(e,"class","list-group list-group-flush border-top-0")},m(s,a){$(s,e,a);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(e,null);$(s,t,a),n&&n.m(s,a),$(s,l,a),r=!0},p(s,a){if(a&20548){i=ne(s[6]);let u;for(u=0;u<i.length;u+=1){const _=Ke(s,i,u);c[u]?(c[u].p(_,a),C(c[u],1)):(c[u]=Je(_),c[u].c(),C(c[u],1),c[u].m(e,null))}for(J(),u=i.length;u<c.length;u+=1)o(u);Q()}s[5]?n?n.p(s,a):(n=Qe(s),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},i(s){if(!r){for(let a=0;a<i.length;a+=1)C(c[a]);r=!0}},o(s){c=c.filter(Boolean);for(let a=0;a<c.length;a+=1)N(c[a]);r=!1},d(s){s&&(h(e),h(t),h(l)),dt(c,s),n&&n.d(s)}}}function Xe(f){let e,t,l,r,i;function c(){return f[16](f[19])}return{c(){e=g("div"),t=g("button"),l=g("i"),this.h()},l(o){e=b(o,"DIV",{class:!0});var n=E(e);t=b(n,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var s=E(t);l=b(s,"I",{class:!0}),E(l).forEach(h),s.forEach(h),n.forEach(h),this.h()},h(){p(l,"class","bi bi-pencil-square"),p(t,"class","btn btn-sm btn-primary"),p(t,"type","button"),p(t,"data-bs-toggle","offcanvas"),p(t,"data-bs-target","#"+f[12]),p(t,"aria-controls",f[12]),p(e,"class","announcement-actions svelte-1rxfa63")},m(o,n){$(o,e,n),v(e,t),v(t,l),r||(i=fe(t,"click",c),r=!0)},p(o,n){f=o},d(o){o&&h(e),r=!1,i()}}}function Je(f){let e,t,l,r,i,c,o;r=new gt({props:{item:f[19]}});let n=f[2]&&Xe(f);return{c(){e=g("li"),t=g("div"),l=g("div"),oe(r.$$.fragment),i=L(),n&&n.c(),c=L(),this.h()},l(s){e=b(s,"LI",{class:!0});var a=E(e);t=b(a,"DIV",{class:!0});var u=E(t);l=b(u,"DIV",{class:!0});var _=E(l);ae(r.$$.fragment,_),_.forEach(h),i=V(u),n&&n.l(u),u.forEach(h),c=V(a),a.forEach(h),this.h()},h(){p(l,"class","announcement-content svelte-1rxfa63"),p(t,"class","announcement-row svelte-1rxfa63"),p(e,"class","list-group-item py-2")},m(s,a){$(s,e,a),v(e,t),v(t,l),re(r,l,null),v(t,i),n&&n.m(t,null),v(e,c),o=!0},p(s,a){const u={};a&64&&(u.item=s[19]),r.$set(u),s[2]?n?n.p(s,a):(n=Xe(s),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i(s){o||(C(r.$$.fragment,s),o=!0)},o(s){N(r.$$.fragment,s),o=!1},d(s){s&&h(e),se(r),n&&n.d()}}}function Qe(f){let e,t,l,r,i,c=(f[1]?.length??0)+"",o,n,s,a="More",u,_;return{c(){e=g("div"),t=g("small"),l=R("Showing "),r=R(f[0]),i=R(" of "),o=R(c),n=L(),s=g("button"),s.textContent=a,this.h()},l(m){e=b(m,"DIV",{class:!0});var d=E(e);t=b(d,"SMALL",{});var D=E(t);l=j(D,"Showing "),r=j(D,f[0]),i=j(D," of "),o=j(D,c),D.forEach(h),n=V(d),s=b(d,"BUTTON",{class:!0,"data-svelte-h":!0}),le(s)!=="svelte-1jfgkln"&&(s.textContent=a),d.forEach(h),this.h()},h(){p(s,"class","btn btn-primary btn-sm"),p(e,"class","card-footer d-flex align-items-center justify-content-between")},m(m,d){$(m,e,d),v(e,t),v(t,l),v(t,r),v(t,i),v(t,o),v(e,n),v(e,s),u||(_=fe(s,"click",f[13]),u=!0)},p(m,d){d&1&&x(r,m[0]),d&2&&c!==(c=(m[1]?.length??0)+"")&&x(o,c)},d(m){m&&h(e),u=!1,_()}}}function Rt(f){let e,t,l,r,i,c;e=new at({props:{title:f[3],id:f[12],$$slots:{default:[Wt]},$$scope:{ctx:f}}});const o=[Bt,Ut],n=[];function s(a,u){return a[7]?0:1}return l=s(f),r=n[l]=o[l](f),{c(){oe(e.$$.fragment),t=L(),r.c(),i=K()},l(a){ae(e.$$.fragment,a),t=V(a),r.l(a),i=K()},m(a,u){re(e,a,u),$(a,t,u),n[l].m(a,u),$(a,i,u),c=!0},p(a,[u]){const _={};u&8&&(_.title=a[3]),u&4194320&&(_.$$scope={dirty:u,ctx:a}),e.$set(_);let m=l;l=s(a),l===m?n[l].p(a,u):(J(),N(n[m],1,1,()=>{n[m]=null}),Q(),r=n[l],r?r.p(a,u):(r=n[l]=o[l](a),r.c()),C(r,1),r.m(i.parentNode,i))},i(a){c||(C(e.$$.fragment,a),C(r),c=!0)},o(a){N(e.$$.fragment,a),N(r),c=!1},d(a){a&&(h(t),h(i)),se(e,a),n[l].d(a)}}}const qt=5,Ht=5;function Ft(f,e,t){let l,r,i,c,o;const{stores:{currentUserHasPermission:n}}=tt();ve(f,n,S=>t(17,i=S));const{stores:{ready:s,announcements:a},actions:{reload:u}}=lt();ve(f,s,S=>t(7,o=S)),ve(f,a,S=>t(1,c=S));const _={title:"Announcement",description:"",location:"",event_type:"announcement"},m=ot();let d=!1,D="",k={..._},T=qt;function M(){t(0,T+=Ht)}Ze(async()=>{t(2,d=i(Ee.CreateEvents)||i(Ee.EditOwnOrgEvents)||i(Ee.EditAllEvents)),await u()});const A=S=>{t(3,D="Announcement Form"),t(4,k={...S,category:S?.meta_data?.category})},w=()=>A({..._,event_type:"calendar_event",start_time:new Date().toISOString(),end_time:new Date().toISOString(),is_all_day:!0}),I=S=>A(S);return f.$$.update=()=>{f.$$.dirty&3&&t(6,l=(c??[]).slice(0,T)),f.$$.dirty&3&&t(5,r=(c?.length??0)>T)},[T,c,d,D,k,r,l,o,n,s,a,_,m,M,A,w,I]}class tl extends xe{constructor(e){super(),et(this,e,Ft,Rt,Ye,{})}}export{tl as A,el as E,kt as d,yt as s};
