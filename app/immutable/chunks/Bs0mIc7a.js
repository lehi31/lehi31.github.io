const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DQVecoP_.js","./C5twpB8P.js","./BVU-SBqd.js","./IHki7fMi.js","./BNNq8oat.js","./DzDB5CMn.js","../assets/Header.4U83PhvS.css","./1t9PYzFY.js","./Bnt-d026.js","./CmsKOCeN.js","./CDcZWSVK.js","../assets/Spinner.CRM6NlOF.css","./CgPuVtgq.js","./I3k67RAl.js","../assets/feature-flag.CtYGqHat.css","../assets/AnnouncementWidgetItem.B_eehTgS.css"])))=>i.map(i=>d[i]);
import{_ as rt}from"./CmsKOCeN.js";import{S as He,i as Ke,s as ze,d,e as te,t as T,a as S,H as X,G as J,m as le,h as D,n as ne,l as L,W as H,q as se,p as W,A as be,B as Xe,v,f as p,j as g,k as I,x as ue,o as k,C as K,O as de,r as x,y as U,z as q,K as at}from"./C5twpB8P.js";import{g as Je,s as it,e as Me,f as Ee,A as Qe,a as Ye,b as ot,E as ct,c as ft}from"./DQVecoP_.js";import{e as ee,u as we,o as Ie}from"./BVU-SBqd.js";import"./IHki7fMi.js";import{g as Ze,F as xe}from"./I3k67RAl.js";import{S as et}from"./CDcZWSVK.js";import{D as tt,v as lt}from"./CgPuVtgq.js";import{s as pe,b as De,m as ut,t as _t,p as fe,f as z}from"./BNNq8oat.js";function dt(c,e,t){const l=pe(c,t),r=pe(e,t),u=+l-De(l),o=+r-De(r);return Math.round((u-o)/ut)}function mt(c){const e=_t(c);return e.setDate(1),e.setHours(0,0,0,0),e}const{Map:$e}=ot;function Se(c,e,t){const l=c.slice();return l[33]=e[t][0],l[34]=e[t][1],l}function Ne(c,e,t){const l=c.slice();l[37]=e[t];const r=fe(l[37].key);l[38]=r;const u=Ee(l[38],{weekStartsOn:1});l[39]=u;const o=mt(l[39]);l[40]=o;const i=dt(l[39],l[40],{weekStartsOn:1})+1;l[41]=i;const n=l[10](l[37].key);l[42]=n;const s=l[37].days.reduce((a,f)=>a+f.events.length,0);return l[43]=s,l}function Te(c,e,t){const l=c.slice();return l[46]=e[t],l}function Ce(c,e,t){const l=c.slice();return l[49]=e[t],l}function ht(c){let e,t;return e=new Qe({props:{eventItem:c[7],drawerId:c[0],name:"event-item-form"}}),{c(){se(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){le(e,l,r),t=!0},p(l,r){const u={};r[0]&128&&(u.eventItem=l[7]),r[0]&1&&(u.drawerId=l[0]),e.$set(u)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function pt(c){let e,t,l;return t=new et({}),{c(){e=k("div"),se(t.$$.fragment),this.h()},l(r){e=g(r,"DIV",{class:!0});var u=I(e);ne(t.$$.fragment,u),u.forEach(d),this.h()},h(){p(e,"class","d-flex flex-column gap-4")},m(r,u){D(r,e,u),le(t,e,null),l=!0},p:K,i(r){l||(S(t.$$.fragment,r),l=!0)},o(r){T(t.$$.fragment,r),l=!1},d(r){r&&d(e),te(t)}}}function vt(c){let e,t,l,r,u="Events",o,i,n,s,a,f,_,h;n=new Ye({});let m=c[5]&&Ae(c);const N=[gt,bt],b=[];function M(w,A){return w[4]?.length?0:1}return f=M(c),_=b[f]=N[f](c),{c(){e=k("div"),t=k("div"),l=k("div"),r=k("span"),r.textContent=u,o=W(),i=k("div"),se(n.$$.fragment),s=W(),m&&m.c(),a=W(),_.c(),this.h()},l(w){e=g(w,"DIV",{class:!0});var A=I(e);t=g(A,"DIV",{class:!0});var $=I(t);l=g($,"DIV",{class:!0});var y=I(l);r=g(y,"SPAN",{"data-svelte-h":!0}),ue(r)!=="svelte-1s343wn"&&(r.textContent=u),o=L(y),i=g(y,"DIV",{class:!0});var O=I(i);ne(n.$$.fragment,O),s=L(O),m&&m.l(O),O.forEach(d),y.forEach(d),$.forEach(d),a=L(A),_.l(A),A.forEach(d),this.h()},h(){p(i,"class","d-flex align-items-center gap-2 flex-wrap justify-content-end"),p(l,"class","d-flex justify-content-between align-items-center gap-3 flex-wrap"),p(t,"class","card-header"),p(e,"class","card")},m(w,A){D(w,e,A),v(e,t),v(t,l),v(l,r),v(l,o),v(l,i),le(n,i,null),v(i,s),m&&m.m(i,null),v(e,a),b[f].m(e,null),h=!0},p(w,A){w[5]?m?m.p(w,A):(m=Ae(w),m.c(),m.m(i,null)):m&&(m.d(1),m=null);let $=f;f=M(w),f===$?b[f].p(w,A):(X(),T(b[$],1,1,()=>{b[$]=null}),J(),_=b[f],_?_.p(w,A):(_=b[f]=N[f](w),_.c()),S(_,1),_.m(e,null))},i(w){h||(S(n.$$.fragment,w),S(_),h=!0)},o(w){T(n.$$.fragment,w),T(_),h=!1},d(w){w&&d(e),te(n),m&&m.d(),b[f].d()}}}function Ae(c){let e,t,l,r,u;return{c(){e=k("button"),t=k("i"),this.h()},l(o){e=g(o,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var i=I(e);t=g(i,"I",{class:!0}),I(t).forEach(d),i.forEach(d),this.h()},h(){p(t,"class","bi bi-plus"),p(e,"class","btn btn-sm btn-primary"),p(e,"type","button"),p(e,"data-bs-toggle","offcanvas"),p(e,"data-bs-target",l="#"+c[0]),p(e,"aria-controls",c[0])},m(o,i){D(o,e,i),v(e,t),r||(u=de(e,"click",c[23]),r=!0)},p(o,i){i[0]&1&&l!==(l="#"+o[0])&&p(e,"data-bs-target",l),i[0]&1&&p(e,"aria-controls",o[0])},d(o){o&&d(e),r=!1,u()}}}function bt(c){let e,t="There are no upcoming events scheduled.";return{c(){e=k("div"),e.textContent=t,this.h()},l(l){e=g(l,"DIV",{class:!0,"data-svelte-h":!0}),ue(e)!=="svelte-2uetp5"&&(e.textContent=t),this.h()},h(){p(e,"class","card-body text-muted small")},m(l,r){D(l,e,r)},p:K,i:K,o:K,d(l){l&&d(e)}}}function gt(c){let e,t,l,r,u;const o=[yt,kt],i=[];function n(a,f){return a[1].length?0:1}e=n(c),t=i[e]=o[e](c);let s=c[9]&&je(c);return{c(){t.c(),l=W(),s&&s.c(),r=H()},l(a){t.l(a),l=L(a),s&&s.l(a),r=H()},m(a,f){i[e].m(a,f),D(a,l,f),s&&s.m(a,f),D(a,r,f),u=!0},p(a,f){let _=e;e=n(a),e===_?i[e].p(a,f):(X(),T(i[_],1,1,()=>{i[_]=null}),J(),t=i[e],t?t.p(a,f):(t=i[e]=o[e](a),t.c()),S(t,1),t.m(l.parentNode,l)),a[9]?s?s.p(a,f):(s=je(a),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},i(a){u||(S(t),u=!0)},o(a){T(t),u=!1},d(a){a&&(d(l),d(r)),i[e].d(a),s&&s.d(a)}}}function kt(c){let e,t="There are no upcoming events this month.";return{c(){e=k("div"),e.textContent=t,this.h()},l(l){e=g(l,"DIV",{class:!0,"data-svelte-h":!0}),ue(e)!=="svelte-1wqkfly"&&(e.textContent=t),this.h()},h(){p(e,"class","card-body text-muted small")},m(l,r){D(l,e,r)},p:K,i:K,o:K,d(l){l&&d(e)}}}function yt(c){let e,t=[],l=new $e,r,u=ee(Object.entries(c[8]));const o=i=>i[33];for(let i=0;i<u.length;i+=1){let n=Se(c,u,i),s=o(n);l.set(s,t[i]=Fe(s,n))}return{c(){e=k("ul");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=g(i,"UL",{class:!0});var n=I(e);for(let s=0;s<t.length;s+=1)t[s].l(n);n.forEach(d),this.h()},h(){p(e,"class","list-group list-group-flush border-top-0")},m(i,n){D(i,e,n);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null);r=!0},p(i,n){n[0]&328993&&(u=ee(Object.entries(i[8])),X(),t=we(t,n,o,1,i,u,l,e,Ie,Fe,null,Se),J())},i(i){if(!r){for(let n=0;n<u.length;n+=1)S(t[n]);r=!0}},o(i){for(let n=0;n<t.length;n+=1)T(t[n]);r=!1},d(i){i&&d(e);for(let n=0;n<t.length;n+=1)t[n].d()}}}function Oe(c){let e,t,l,r;const u=[wt,Et],o=[];function i(n,s){return n[37].days.length?0:1}return e=i(c),t=o[e]=u[e](c),{c(){t.c(),l=H()},l(n){t.l(n),l=H()},m(n,s){o[e].m(n,s),D(n,l,s),r=!0},p(n,s){let a=e;e=i(n),e===a?o[e].p(n,s):(X(),T(o[a],1,1,()=>{o[a]=null}),J(),t=o[e],t?t.p(n,s):(t=o[e]=u[e](n),t.c()),S(t,1),t.m(l.parentNode,l))},i(n){r||(S(t),r=!0)},o(n){T(t),r=!1},d(n){n&&d(l),o[e].d(n)}}}function Et(c){let e,t="No events scheduled this week.";return{c(){e=k("li"),e.textContent=t,this.h()},l(l){e=g(l,"LI",{class:!0,"data-svelte-h":!0}),ue(e)!=="svelte-1tq6asq"&&(e.textContent=t),this.h()},h(){p(e,"class","list-group-item py-3 text-muted")},m(l,r){D(l,e,r)},p:K,i:K,o:K,d(l){l&&d(e)}}}function wt(c){let e=[],t=new $e,l,r,u=ee(c[37].days);const o=i=>i[46].key;for(let i=0;i<u.length;i+=1){let n=Te(c,u,i),s=o(n);t.set(s,e[i]=We(s,n))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=H()},l(i){for(let n=0;n<e.length;n+=1)e[n].l(i);l=H()},m(i,n){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(i,n);D(i,l,n),r=!0},p(i,n){n[0]&262433&&(u=ee(i[37].days),X(),e=we(e,n,o,1,i,u,t,l.parentNode,Ie,We,l,Te),J())},i(i){if(!r){for(let n=0;n<u.length;n+=1)S(e[n]);r=!0}},o(i){for(let n=0;n<e.length;n+=1)T(e[n]);r=!1},d(i){i&&d(l);for(let n=0;n<e.length;n+=1)e[n].d(i)}}}function Ve(c){let e,t,l,r,u,o;function i(){return c[25](c[49])}return{c(){e=k("div"),t=k("button"),l=k("i"),this.h()},l(n){e=g(n,"DIV",{class:!0});var s=I(e);t=g(s,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var a=I(t);l=g(a,"I",{class:!0}),I(l).forEach(d),a.forEach(d),s.forEach(d),this.h()},h(){p(l,"class","bi bi-pencil-square"),p(t,"class","btn btn-sm btn-primary"),p(t,"type","button"),p(t,"data-bs-toggle","offcanvas"),p(t,"data-bs-target",r="#"+c[0]),p(t,"aria-controls",c[0]),p(e,"class","event-actions svelte-b48x49")},m(n,s){D(n,e,s),v(e,t),v(t,l),u||(o=de(t,"click",i),u=!0)},p(n,s){c=n,s[0]&1&&r!==(r="#"+c[0])&&p(t,"data-bs-target",r),s[0]&1&&p(t,"aria-controls",c[0])},d(n){n&&d(e),u=!1,o()}}}function Le(c,e){let t,l,r,u,o,i;r=new ct({props:{item:e[49],showDate:!1}});let n=e[5]&&Ve(e);return{key:c,first:null,c(){t=k("div"),l=k("div"),se(r.$$.fragment),u=W(),n&&n.c(),o=W(),this.h()},l(s){t=g(s,"DIV",{class:!0});var a=I(t);l=g(a,"DIV",{class:!0});var f=I(l);ne(r.$$.fragment,f),f.forEach(d),u=L(a),n&&n.l(a),o=L(a),a.forEach(d),this.h()},h(){p(l,"class","event-content svelte-b48x49"),p(t,"class","daily-event-row svelte-b48x49"),this.first=t},m(s,a){D(s,t,a),v(t,l),le(r,l,null),v(t,u),n&&n.m(t,null),v(t,o),i=!0},p(s,a){e=s;const f={};a[0]&256&&(f.item=e[49]),r.$set(f),e[5]?n?n.p(e,a):(n=Ve(e),n.c(),n.m(t,o)):n&&(n.d(1),n=null)},i(s){i||(S(r.$$.fragment,s),i=!0)},o(s){T(r.$$.fragment,s),i=!1},d(s){s&&d(t),te(r),n&&n.d()}}}function We(c,e){let t,l,r,u,o=e[46].displayDay+"",i,n,s,a=e[46].displayDate+"",f,_,h,m=[],N=new $e,b,M,w=ee(e[46].events);const A=$=>$[49].id??`${$[49].start_time}-${$[49].meta_data?.recurring_instance_index??0}`;for(let $=0;$<w.length;$+=1){let y=Ce(e,w,$),O=A(y);N.set(O,m[$]=Le(O,y))}return{key:c,first:null,c(){t=k("li"),l=k("div"),r=k("div"),u=k("strong"),i=q(o),n=W(),s=k("small"),f=q(a),_=W(),h=k("div");for(let $=0;$<m.length;$+=1)m[$].c();b=W(),this.h()},l($){t=g($,"LI",{class:!0});var y=I(t);l=g(y,"DIV",{class:!0});var O=I(l);r=g(O,"DIV",{class:!0});var R=I(r);u=g(R,"STRONG",{});var Q=I(u);i=U(Q,o),Q.forEach(d),n=L(R),s=g(R,"SMALL",{class:!0});var re=I(s);f=U(re,a),re.forEach(d),R.forEach(d),_=L(O),h=g(O,"DIV",{class:!0});var Y=I(h);for(let C=0;C<m.length;C+=1)m[C].l(Y);Y.forEach(d),O.forEach(d),b=L(y),y.forEach(d),this.h()},h(){p(s,"class","text-muted"),p(r,"class","event-date-column d-flex flex-column align-items-start text-nowrap svelte-b48x49"),p(h,"class","d-flex flex-column gap-3 flex-grow-1"),p(l,"class","d-flex flex-column flex-md-row gap-3"),p(t,"class","list-group-item py-3"),this.first=t},m($,y){D($,t,y),v(t,l),v(l,r),v(r,u),v(u,i),v(r,n),v(r,s),v(s,f),v(l,_),v(l,h);for(let O=0;O<m.length;O+=1)m[O]&&m[O].m(h,null);v(t,b),M=!0},p($,y){e=$,(!M||y[0]&256)&&o!==(o=e[46].displayDay+"")&&x(i,o),(!M||y[0]&256)&&a!==(a=e[46].displayDate+"")&&x(f,a),y[0]&262433&&(w=ee(e[46].events),X(),m=we(m,y,A,1,e,w,N,h,Ie,Le,null,Ce),J())},i($){if(!M){for(let y=0;y<w.length;y+=1)S(m[y]);M=!0}},o($){for(let y=0;y<m.length;y+=1)T(m[y]);M=!1},d($){$&&d(t);for(let y=0;y<m.length;y+=1)m[y].d()}}}function Be(c,e){let t,l,r,u,o,i,n,s,a=e[41]+"",f,_,h=e[43]+"",m,N,b,M,w=e[37].label+"",A,$,y,O,R,Q,re;function Y(){return e[24](e[37])}let C=e[42]&&Oe(e);return{key:c,first:null,c(){t=k("li"),l=k("button"),r=k("span"),u=k("i"),i=W(),n=k("span"),s=q("Week "),f=q(a),_=q(" ("),m=q(h),N=q(")"),b=W(),M=k("span"),A=q(w),y=W(),C&&C.c(),O=H(),this.h()},l(F){t=g(F,"LI",{class:!0});var j=I(t);l=g(j,"BUTTON",{class:!0,title:!0});var me=I(l);r=g(me,"SPAN",{class:!0});var he=I(r);u=g(he,"I",{class:!0}),I(u).forEach(d),i=L(he),n=g(he,"SPAN",{class:!0});var Z=I(n);s=U(Z,"Week "),f=U(Z,a),_=U(Z," ("),m=U(Z,h),N=U(Z,")"),Z.forEach(d),he.forEach(d),b=L(me),M=g(me,"SPAN",{});var ge=I(M);A=U(ge,w),ge.forEach(d),me.forEach(d),j.forEach(d),y=L(F),C&&C.l(F),O=H(),this.h()},h(){p(u,"class",o="bi "+(e[42]?"bi-chevron-up":"bi-chevron-down")),p(n,"class","text-muted"),p(r,"class","d-flex align-items-center gap-2"),p(l,"class","week-header w-100 d-flex justify-content-between align-items-center border-0 bg-transparent p-2 text-start svelte-b48x49"),p(l,"title",$=e[42]?"Click to collapse week":"Click to expand week"),p(t,"class","list-group-item list-group-item-light text-uppercase small fw-lighter p-0"),this.first=t},m(F,j){D(F,t,j),v(t,l),v(l,r),v(r,u),v(r,i),v(r,n),v(n,s),v(n,f),v(n,_),v(n,m),v(n,N),v(l,b),v(l,M),v(M,A),D(F,y,j),C&&C.m(F,j),D(F,O,j),R=!0,Q||(re=de(l,"click",Y),Q=!0)},p(F,j){e=F,(!R||j[0]&1280&&o!==(o="bi "+(e[42]?"bi-chevron-up":"bi-chevron-down")))&&p(u,"class",o),(!R||j[0]&256)&&a!==(a=e[41]+"")&&x(f,a),(!R||j[0]&256)&&h!==(h=e[43]+"")&&x(m,h),(!R||j[0]&256)&&w!==(w=e[37].label+"")&&x(A,w),(!R||j[0]&1280&&$!==($=e[42]?"Click to collapse week":"Click to expand week"))&&p(l,"title",$),e[42]?C?(C.p(e,j),j[0]&1280&&S(C,1)):(C=Oe(e),C.c(),S(C,1),C.m(O.parentNode,O)):C&&(X(),T(C,1,1,()=>{C=null}),J())},i(F){R||(S(C),R=!0)},o(F){T(C),R=!1},d(F){F&&(d(t),d(y),d(O)),C&&C.d(F),Q=!1,re()}}}function Fe(c,e){let t,l=e[34].label+"",r,u,o=[],i=new $e,n,s,a=ee(e[34].weeks);const f=_=>_[37].key;for(let _=0;_<a.length;_+=1){let h=Ne(e,a,_),m=f(h);i.set(m,o[_]=Be(m,h))}return{key:c,first:null,c(){t=k("li"),r=q(l),u=W();for(let _=0;_<o.length;_+=1)o[_].c();n=H(),this.h()},l(_){t=g(_,"LI",{class:!0});var h=I(t);r=U(h,l),h.forEach(d),u=L(_);for(let m=0;m<o.length;m+=1)o[m].l(_);n=H(),this.h()},h(){p(t,"class","list-group-item bg-secondary text-white fw-semibold"),this.first=t},m(_,h){D(_,t,h),v(t,r),D(_,u,h);for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(_,h);D(_,n,h),s=!0},p(_,h){e=_,(!s||h[0]&256)&&l!==(l=e[34].label+"")&&x(r,l),h[0]&328993&&(a=ee(e[34].weeks),X(),o=we(o,h,f,1,e,a,i,n.parentNode,Ie,Be,n,Ne),J())},i(_){if(!s){for(let h=0;h<a.length;h+=1)S(o[h]);s=!0}},o(_){for(let h=0;h<o.length;h+=1)T(o[h]);s=!1},d(_){_&&(d(t),d(u),d(n));for(let h=0;h<o.length;h+=1)o[h].d(_)}}}function je(c){let e,t,l,r=c[2].length+"",u,o,i=c[3].length+"",n,s,a,f,_="More",h,m;return{c(){e=k("div"),t=k("small"),l=q("Showing "),u=q(r),o=q(" of "),n=q(i),s=q(" future events"),a=W(),f=k("button"),f.textContent=_,this.h()},l(N){e=g(N,"DIV",{class:!0});var b=I(e);t=g(b,"SMALL",{});var M=I(t);l=U(M,"Showing "),u=U(M,r),o=U(M," of "),n=U(M,i),s=U(M," future events"),M.forEach(d),a=L(b),f=g(b,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(f)!=="svelte-1p8emoc"&&(f.textContent=_),b.forEach(d),this.h()},h(){p(f,"class","btn btn-primary btn-sm"),p(e,"class","card-footer d-flex align-items-center justify-content-between")},m(N,b){D(N,e,b),v(e,t),v(t,l),v(t,u),v(t,o),v(t,n),v(t,s),v(e,a),v(e,f),h||(m=de(f,"click",c[17]),h=!0)},p(N,b){b[0]&4&&r!==(r=N[2].length+"")&&x(u,r),b[0]&8&&i!==(i=N[3].length+"")&&x(n,i)},d(N){N&&d(e),h=!1,m()}}}function It(c){let e,t,l,r,u,o;e=new tt({props:{title:c[6],id:c[0],$$slots:{default:[ht]},$$scope:{ctx:c}}});const i=[vt,pt],n=[];function s(a,f){return a[11]?0:1}return l=s(c),r=n[l]=i[l](c),{c(){se(e.$$.fragment),t=W(),r.c(),u=H()},l(a){ne(e.$$.fragment,a),t=L(a),r.l(a),u=H()},m(a,f){le(e,a,f),D(a,t,f),n[l].m(a,f),D(a,u,f),o=!0},p(a,f){const _={};f[0]&64&&(_.title=a[6]),f[0]&1&&(_.id=a[0]),f[0]&129|f[1]&2097152&&(_.$$scope={dirty:f,ctx:a}),e.$set(_);let h=l;l=s(a),l===h?n[l].p(a,f):(X(),T(n[h],1,1,()=>{n[h]=null}),J(),r=n[l],r?r.p(a,f):(r=n[l]=i[l](a),r.c()),S(r,1),r.m(u.parentNode,u))},i(a){o||(S(e.$$.fragment,a),S(r),o=!0)},o(a){T(e.$$.fragment,a),T(r),o=!1},d(a){a&&(d(t),d(u)),te(e,a),n[l].d(a)}}}const $t=8,Mt=8;function Dt(c,e,t){let l,r,u,o,i,n,s,a,f,_,h,m;const{actions:{featureIsEnabled:N}}=Ze(),{stores:{ready:b,calendarEvents:M,weeksExpanded:w},actions:{reload:A}}=Je();be(c,b,E=>t(11,m=E)),be(c,M,E=>t(4,_=E)),be(c,w,E=>t(22,h=E));const $={title:"Event",description:"",location:"",event_type:"calendar_event"};let{formId:y=lt()}=e,O=!1,R="",Q={...$},re=$t;const Y=it();let C={};function F(E){return E===r||E===u}function j(E){const G=C[E]??F(E);t(20,C={...C,[E]:!G})}const me=E=>{const G=new Map;for(const B of E){if(!B.start_time)continue;const V=fe(B.start_time);if(Number.isNaN(V.getTime()))continue;const P=pe(V,{weekStartsOn:1}),ce=Ee(V,{weekStartsOn:1}),ie=z(P,"yyyy-MM-dd"),ke=`${z(P,"EEE MMM d")} – ${z(ce,"EEE MMM d, yyyy")}`;let _e=G.get(ie);_e||(_e={key:ie,label:ke,days:new Map},G.set(ie,_e));const ve=z(V,"yyyy-MM-dd");let ye=_e.days.get(ve);ye||(ye={key:ve,displayDay:z(V,"EEE"),displayDate:z(V,"MMM d"),events:[]},_e.days.set(ve,ye)),ye.events.push(B)}const ae=B=>{const V=z(B,"yyyy-MM-dd");G.has(V)||G.set(V,{key:V,label:`${z(B,"EEE MMM d")} – ${z(Ee(B,{weekStartsOn:1}),"EEE MMM d, yyyy")}`,days:new Map})},oe=Array.from(G.values());if(oe.length){const B=oe.reduce((ce,ie)=>ie.key>ce?ie.key:ce,oe[0].key),V=fe(B);let P=pe(new Date,{weekStartsOn:1});if(P>V)ae(P);else for(;P<=V;)ae(P),P=Me(P,1)}return Array.from(G.values()).sort((B,V)=>B.key<V.key?-1:B.key>V.key?1:0).map(B=>({key:B.key,label:B.label,days:Array.from(B.days.values()).sort((V,P)=>V.key<P.key?-1:V.key>P.key?1:0).map(V=>({...V,events:V.events.slice().sort((P,ce)=>{const ie=P.is_all_day?0:1,ke=ce.is_all_day?0:1;if(ie!==ke)return ie-ke;const _e=P.start_time?fe(P.start_time).getTime():Number.MAX_SAFE_INTEGER,ve=ce.start_time?fe(ce.start_time).getTime():Number.MAX_SAFE_INTEGER;return _e-ve})}))}))};function he(){t(19,re+=Mt)}Xe(async()=>{t(5,O=N(xe.EditDBCalendarEvent)),await A()});const Z=async E=>{if(t(6,R="Item Form"),E?.meta_data?.recurring_instance&&E?.meta_data?.recurring_parent_id){const{getCalendarEvent:G}=await rt(async()=>{const{getCalendarEvent:oe}=await import("./DQVecoP_.js").then(B=>B.j);return{getCalendarEvent:oe}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]),import.meta.url),ae=await G(E.meta_data.recurring_parent_id);if(ae){t(7,Q={...ae,category:ae?.meta_data?.category,start_time:E.start_time,end_time:E.end_time,meta_data:{...ae.meta_data,recurring_instance:!0,recurring_parent_id:E.meta_data.recurring_parent_id,recurring_instance_index:E.meta_data.recurring_instance_index}});return}}t(7,Q={...E,category:E?.meta_data?.category})},ge=()=>Z({...$,event_type:"calendar_event",start_time:new Date().toISOString(),end_time:new Date().toISOString(),is_all_day:!0}),nt=E=>j(E.key),st=E=>Z(E);return c.$$set=E=>{"formId"in E&&t(0,y=E.formId)},c.$$.update=()=>{c.$$.dirty[0]&524288&&t(21,l=Me(Y,re)),c.$$.dirty[0]&5242880&&t(10,o=E=>h?!0:C[E]!==void 0?C[E]:F(E)),c.$$.dirty[0]&2097168&&t(2,i=(_??[]).filter(E=>{if(!E.start_time)return!1;const G=fe(E.start_time);return G>=Y&&G<=l})),c.$$.dirty[0]&16&&t(3,n=(_??[]).filter(E=>E.start_time?fe(E.start_time)>=Y:!1)),c.$$.dirty[0]&4&&t(1,s=me(i)),c.$$.dirty[0]&12&&t(9,a=n.length>i.length),c.$$.dirty[0]&2&&t(8,f=s.reduce((E,G)=>{const ae=fe(G.key),oe=Ee(ae,{weekStartsOn:1}),B=z(oe,"yyyy-MM"),V=z(oe,"MMMM yyyy");return E[B]||(E[B]={label:V,weeks:[]}),E[B].weeks.push(G),E},{}))},r=z(pe(Y,{weekStartsOn:1}),"yyyy-MM-dd"),u=z(Me(pe(Y,{weekStartsOn:1}),1),"yyyy-MM-dd"),[y,s,i,n,_,O,R,Q,f,a,o,m,b,M,w,$,j,he,Z,re,C,l,h,ge,nt,st]}class Kt extends He{constructor(e){super(),Ke(this,e,Dt,It,ze,{formId:0},null,[-1,-1])}}function Ue(c,e,t){const l=c.slice();return l[18]=e[t],l}function St(c){let e,t;return e=new Qe({props:{eventItem:c[4],drawerId:c[11],name:"announcement-item-form"}}),{c(){se(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){le(e,l,r),t=!0},p(l,r){const u={};r&16&&(u.eventItem=l[4]),e.$set(u)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function Nt(c){let e,t,l;return t=new et({}),{c(){e=k("div"),se(t.$$.fragment),this.h()},l(r){e=g(r,"DIV",{class:!0});var u=I(e);ne(t.$$.fragment,u),u.forEach(d),this.h()},h(){p(e,"class","d-flex flex-column gap-4")},m(r,u){D(r,e,u),le(t,e,null),l=!0},p:K,i(r){l||(S(t.$$.fragment,r),l=!0)},o(r){T(t.$$.fragment,r),l=!1},d(r){r&&d(e),te(t)}}}function Tt(c){let e,t,l,r,u="Announcements",o,i,n,s,a,f,_=c[2]&&qe(c);const h=[At,Ct],m=[];function N(b,M){return b[6].length?0:b[1]?.length===0?1:-1}return~(s=N(c))&&(a=m[s]=h[s](c)),{c(){e=k("div"),t=k("div"),l=k("div"),r=k("span"),r.textContent=u,o=W(),i=k("div"),_&&_.c(),n=W(),a&&a.c(),this.h()},l(b){e=g(b,"DIV",{class:!0});var M=I(e);t=g(M,"DIV",{class:!0});var w=I(t);l=g(w,"DIV",{class:!0});var A=I(l);r=g(A,"SPAN",{"data-svelte-h":!0}),ue(r)!=="svelte-iczcm2"&&(r.textContent=u),o=L(A),i=g(A,"DIV",{class:!0});var $=I(i);_&&_.l($),$.forEach(d),A.forEach(d),w.forEach(d),n=L(M),a&&a.l(M),M.forEach(d),this.h()},h(){p(i,"class","d-flex align-items-center gap-2"),p(l,"class","d-flex justify-content-between align-items-center"),p(t,"class","card-header"),p(e,"class","card")},m(b,M){D(b,e,M),v(e,t),v(t,l),v(l,r),v(l,o),v(l,i),_&&_.m(i,null),v(e,n),~s&&m[s].m(e,null),f=!0},p(b,M){b[2]?_?(_.p(b,M),M&4&&S(_,1)):(_=qe(b),_.c(),S(_,1),_.m(i,null)):_&&(X(),T(_,1,1,()=>{_=null}),J());let w=s;s=N(b),s===w?~s&&m[s].p(b,M):(a&&(X(),T(m[w],1,1,()=>{m[w]=null}),J()),~s?(a=m[s],a?a.p(b,M):(a=m[s]=h[s](b),a.c()),S(a,1),a.m(e,null)):a=null)},i(b){f||(S(_),S(a),f=!0)},o(b){T(_),T(a),f=!1},d(b){b&&d(e),_&&_.d(),~s&&m[s].d()}}}function qe(c){let e,t,l,r,u,o,i;return e=new Ye({}),{c(){se(e.$$.fragment),t=W(),l=k("button"),r=k("i"),this.h()},l(n){ne(e.$$.fragment,n),t=L(n),l=g(n,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var s=I(l);r=g(s,"I",{class:!0}),I(r).forEach(d),s.forEach(d),this.h()},h(){p(r,"class","bi bi-plus"),p(l,"class","btn btn-sm btn-primary"),p(l,"type","button"),p(l,"data-bs-toggle","offcanvas"),p(l,"data-bs-target","#"+c[11]),p(l,"aria-controls",c[11])},m(n,s){le(e,n,s),D(n,t,s),D(n,l,s),v(l,r),u=!0,o||(i=de(l,"click",c[14]),o=!0)},p:K,i(n){u||(S(e.$$.fragment,n),u=!0)},o(n){T(e.$$.fragment,n),u=!1},d(n){n&&(d(t),d(l)),te(e,n),o=!1,i()}}}function Ct(c){let e,t=`<div class="alert alert-info mb-0"><i class="bi bi-info-circle me-2"></i>
					No announcements yet.</div>`;return{c(){e=k("div"),e.innerHTML=t,this.h()},l(l){e=g(l,"DIV",{class:!0,"data-svelte-h":!0}),ue(e)!=="svelte-1f6lqec"&&(e.innerHTML=t),this.h()},h(){p(e,"class","card-body")},m(l,r){D(l,e,r)},p:K,i:K,o:K,d(l){l&&d(e)}}}function At(c){let e,t,l,r,u=ee(c[6]),o=[];for(let s=0;s<u.length;s+=1)o[s]=Ge(Ue(c,u,s));const i=s=>T(o[s],1,1,()=>{o[s]=null});let n=c[5]&&Pe(c);return{c(){e=k("ul");for(let s=0;s<o.length;s+=1)o[s].c();t=W(),n&&n.c(),l=H(),this.h()},l(s){e=g(s,"UL",{class:!0});var a=I(e);for(let f=0;f<o.length;f+=1)o[f].l(a);a.forEach(d),t=L(s),n&&n.l(s),l=H(),this.h()},h(){p(e,"class","list-group list-group-flush border-top-0")},m(s,a){D(s,e,a);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);D(s,t,a),n&&n.m(s,a),D(s,l,a),r=!0},p(s,a){if(a&10308){u=ee(s[6]);let f;for(f=0;f<u.length;f+=1){const _=Ue(s,u,f);o[f]?(o[f].p(_,a),S(o[f],1)):(o[f]=Ge(_),o[f].c(),S(o[f],1),o[f].m(e,null))}for(X(),f=u.length;f<o.length;f+=1)i(f);J()}s[5]?n?n.p(s,a):(n=Pe(s),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},i(s){if(!r){for(let a=0;a<u.length;a+=1)S(o[a]);r=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)T(o[a]);r=!1},d(s){s&&(d(e),d(t),d(l)),at(o,s),n&&n.d(s)}}}function Re(c){let e,t,l,r,u;function o(){return c[15](c[18])}return{c(){e=k("div"),t=k("button"),l=k("i"),this.h()},l(i){e=g(i,"DIV",{class:!0});var n=I(e);t=g(n,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var s=I(t);l=g(s,"I",{class:!0}),I(l).forEach(d),s.forEach(d),n.forEach(d),this.h()},h(){p(l,"class","bi bi-pencil-square"),p(t,"class","btn btn-sm btn-primary"),p(t,"type","button"),p(t,"data-bs-toggle","offcanvas"),p(t,"data-bs-target","#"+c[11]),p(t,"aria-controls",c[11]),p(e,"class","announcement-actions svelte-1rxfa63")},m(i,n){D(i,e,n),v(e,t),v(t,l),r||(u=de(t,"click",o),r=!0)},p(i,n){c=i},d(i){i&&d(e),r=!1,u()}}}function Ge(c){let e,t,l,r,u,o,i;r=new ft({props:{item:c[18]}});let n=c[2]&&Re(c);return{c(){e=k("li"),t=k("div"),l=k("div"),se(r.$$.fragment),u=W(),n&&n.c(),o=W(),this.h()},l(s){e=g(s,"LI",{class:!0});var a=I(e);t=g(a,"DIV",{class:!0});var f=I(t);l=g(f,"DIV",{class:!0});var _=I(l);ne(r.$$.fragment,_),_.forEach(d),u=L(f),n&&n.l(f),f.forEach(d),o=L(a),a.forEach(d),this.h()},h(){p(l,"class","announcement-content svelte-1rxfa63"),p(t,"class","announcement-row svelte-1rxfa63"),p(e,"class","list-group-item py-2")},m(s,a){D(s,e,a),v(e,t),v(t,l),le(r,l,null),v(t,u),n&&n.m(t,null),v(e,o),i=!0},p(s,a){const f={};a&64&&(f.item=s[18]),r.$set(f),s[2]?n?n.p(s,a):(n=Re(s),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i(s){i||(S(r.$$.fragment,s),i=!0)},o(s){T(r.$$.fragment,s),i=!1},d(s){s&&d(e),te(r),n&&n.d()}}}function Pe(c){let e,t,l,r,u,o=(c[1]?.length??0)+"",i,n,s,a="More",f,_;return{c(){e=k("div"),t=k("small"),l=q("Showing "),r=q(c[0]),u=q(" of "),i=q(o),n=W(),s=k("button"),s.textContent=a,this.h()},l(h){e=g(h,"DIV",{class:!0});var m=I(e);t=g(m,"SMALL",{});var N=I(t);l=U(N,"Showing "),r=U(N,c[0]),u=U(N," of "),i=U(N,o),N.forEach(d),n=L(m),s=g(m,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(s)!=="svelte-1jfgkln"&&(s.textContent=a),m.forEach(d),this.h()},h(){p(s,"class","btn btn-primary btn-sm"),p(e,"class","card-footer d-flex align-items-center justify-content-between")},m(h,m){D(h,e,m),v(e,t),v(t,l),v(t,r),v(t,u),v(t,i),v(e,n),v(e,s),f||(_=de(s,"click",c[12]),f=!0)},p(h,m){m&1&&x(r,h[0]),m&2&&o!==(o=(h[1]?.length??0)+"")&&x(i,o)},d(h){h&&d(e),f=!1,_()}}}function Ot(c){let e,t,l,r,u,o;e=new tt({props:{title:c[3],id:c[11],$$slots:{default:[St]},$$scope:{ctx:c}}});const i=[Tt,Nt],n=[];function s(a,f){return a[7]?0:1}return l=s(c),r=n[l]=i[l](c),{c(){se(e.$$.fragment),t=W(),r.c(),u=H()},l(a){ne(e.$$.fragment,a),t=L(a),r.l(a),u=H()},m(a,f){le(e,a,f),D(a,t,f),n[l].m(a,f),D(a,u,f),o=!0},p(a,[f]){const _={};f&8&&(_.title=a[3]),f&2097168&&(_.$$scope={dirty:f,ctx:a}),e.$set(_);let h=l;l=s(a),l===h?n[l].p(a,f):(X(),T(n[h],1,1,()=>{n[h]=null}),J(),r=n[l],r?r.p(a,f):(r=n[l]=i[l](a),r.c()),S(r,1),r.m(u.parentNode,u))},i(a){o||(S(e.$$.fragment,a),S(r),o=!0)},o(a){T(e.$$.fragment,a),T(r),o=!1},d(a){a&&(d(t),d(u)),te(e,a),n[l].d(a)}}}const Vt=5,Lt=5;function Wt(c,e,t){let l,r,u,o;const{actions:{featureIsEnabled:i}}=Ze(),{stores:{ready:n,announcements:s},actions:{reload:a}}=Je();be(c,n,y=>t(7,o=y)),be(c,s,y=>t(1,u=y));const f={title:"Announcement",description:"",location:"",event_type:"announcement"},_=lt();let h=!1,m="",N={...f},b=Vt;function M(){t(0,b+=Lt)}Xe(async()=>{t(2,h=i(xe.EditDBCalendarEvent)),await a()});const w=y=>{t(3,m="Announcement Form"),t(4,N={...y,category:y?.meta_data?.category})},A=()=>w({...f,event_type:"calendar_event",start_time:new Date().toISOString(),end_time:new Date().toISOString(),is_all_day:!0}),$=y=>w(y);return c.$$.update=()=>{c.$$.dirty&3&&t(6,l=(u??[]).slice(0,b)),c.$$.dirty&3&&t(5,r=(u?.length??0)>b)},[b,u,h,m,N,r,l,o,n,s,f,_,M,w,A,$]}class zt extends He{constructor(e){super(),Ke(this,e,Wt,Ot,ze,{})}}export{zt as A,Kt as E};
