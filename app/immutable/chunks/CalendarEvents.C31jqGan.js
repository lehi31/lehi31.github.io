import{F as Tt,s as ze,n as ne,r as vt,h as Ae,b as Et,o as qt}from"./scheduler.DOt2gWc2.js";import{S as Ze,i as We,e as _,b as $,s as S,j as h,k as C,m as x,d as p,f as M,n as m,o as O,q as u,C as Z,r as oe,c as De,l as J,g as we,y as ae,D as se,p as Ce,t as j,a as W,u as Ie,w as qe,v as Ge,z as nt,x as Gt,A as an,J as sn,K as rn}from"./index.CbsYLgat.js";import{w as Oe}from"./index.BeKXCxbz.js";import{U as he,g as on,A as Pe,B as yt}from"./app.state.DtwnrjIE.js";import{t as Jt,a as kt,f as Ue,p as Fe,e as _t}from"./Header.BzFeqgj4.js";import{s as lt,t as tt,D as Kt}from"./analytics.BZTffH36.js";import{S as Qt}from"./Spinner.Dv5f6AZN.js";import{p as ht}from"./parse.DcxFxQV8.js";function cn(n,e){const t=Jt(n);return t.setHours(e),t}function un(n,e){const t=Jt(n);return t.setMinutes(e),t}var gt=(n=>(n.EditSacramentProgram="edit-sacrament-program",n.ViewDBSacramentProgram="view-db-sacrament-program",n.EditCalendarEvent="edit-calendar-events",n.ViewDBCalendarEvents="view-db-calendar-events",n.UseCallings="use-callings",n))(gt||{});const fn=[{name:"edit-sacrament-program",roles:[he.Root,he.Admin],on:!0},{name:"view-db-sacrament-program",roles:[he.UnAuthenticated,he.Authenticated,he.Root,he.Admin],on:!0},{name:"view-db-calendar-events",roles:[he.Root],on:!0},{name:"edit-calendar-events",roles:[he.Root],on:!0},{name:"use-callings",roles:[he.Root],on:!0}],{stores:{currentUser:dn}}=on();let ke=null;const mn=()=>{const n=Oe(fn);return ke={stores:{featureFlags:n},actions:{featureIsEnabled:t=>{const a=Tt(n).find(i=>i.name===t);if(!a)return!1;const r=Tt(dn).role;return!!a.roles.find(i=>i===r)&&a.on}}},ke},Xt=()=>ke?.stores&&Object.keys(ke.stores).length>0&&ke?.actions&&Object.keys(ke.actions).length>0?ke:mn();function _n(n,e){const t=bn(e);return"formatToParts"in t?pn(t,n):vn(t,n)}const hn={year:0,month:1,day:2,hour:3,minute:4,second:5};function pn(n,e){try{const t=n.formatToParts(e),l=[];for(let a=0;a<t.length;a++){const s=hn[t[a].type];s!==void 0&&(l[s]=parseInt(t[a].value,10))}return l}catch(t){if(t instanceof RangeError)return[NaN];throw t}}function vn(n,e){const t=n.format(e),l=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(t);return[parseInt(l[3],10),parseInt(l[1],10),parseInt(l[2],10),parseInt(l[4],10),parseInt(l[5],10),parseInt(l[6],10)]}const ut={},Nt=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),gn=Nt==="06/25/2014, 00:00:00"||Nt==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";function bn(n){return ut[n]||(ut[n]=gn?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:n,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),ut[n]}function $t(n,e,t,l,a,s,r){const c=new Date(0);return c.setUTCFullYear(n,e,t),c.setUTCHours(l,a,s,r),c}const St=36e5,Dn=6e4,ft={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function xt(n,e,t){if(!n)return 0;let l=ft.timezoneZ.exec(n);if(l)return 0;let a,s;if(l=ft.timezoneHH.exec(n),l)return a=parseInt(l[1],10),Mt(a)?-(a*St):NaN;if(l=ft.timezoneHHMM.exec(n),l){a=parseInt(l[2],10);const r=parseInt(l[3],10);return Mt(a,r)?(s=Math.abs(a)*St+r*Dn,l[1]==="+"?-s:s):NaN}if(In(n)){e=new Date(e||Date.now());const r=t?e:wn(e),c=pt(r,n);return-(t?c:Cn(e,c,n))}return NaN}function wn(n){return $t(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}function pt(n,e){const t=_n(n,e),l=$t(t[0],t[1]-1,t[2],t[3]%24,t[4],t[5],0).getTime();let a=n.getTime();const s=a%1e3;return a-=s>=0?s:1e3+s,l-a}function Cn(n,e,t){let a=n.getTime()-e;const s=pt(new Date(a),t);if(e===s)return e;a-=s-e;const r=pt(new Date(a),t);return s===r?s:Math.max(s,r)}function Mt(n,e){return-23<=n&&n<=23&&(e==null||0<=e&&e<=59)}const Yt={};function In(n){if(Yt[n])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:n}),Yt[n]=!0,!0}catch{return!1}}function Lt(n){const e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),+n-+e}const Tn=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,dt=36e5,At=6e4,En=2,X={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Tn};function yn(n,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(n===null)return new Date(NaN);const t=e.additionalDigits==null?En:Number(e.additionalDigits);if(t!==2&&t!==1&&t!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]")return new Date(n.getTime());if(typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]")return new Date(n);if(Object.prototype.toString.call(n)!=="[object String]")return new Date(NaN);const l=kn(n),{year:a,restDateString:s}=Nn(l.date,t),r=Sn(s,a);if(r===null||isNaN(r.getTime()))return new Date(NaN);if(r){const c=r.getTime();let i=0,o;if(l.time&&(i=Mn(l.time),i===null||isNaN(i)))return new Date(NaN);if(l.timeZone||e.timeZone){if(o=xt(l.timeZone||e.timeZone,new Date(c+i)),isNaN(o))return new Date(NaN)}else o=Lt(new Date(c+i)),o=Lt(new Date(c+i+o));return new Date(c+i+o)}else return new Date(NaN)}function kn(n){const e={};let t=X.dateTimePattern.exec(n),l;if(t?(e.date=t[1],l=t[3]):(t=X.datePattern.exec(n),t?(e.date=t[1],l=t[2]):(e.date=null,l=n)),l){const a=X.timeZone.exec(l);a?(e.time=l.replace(a[1],""),e.timeZone=a[1].trim()):e.time=l}return e}function Nn(n,e){if(n){const t=X.YYY[e],l=X.YYYYY[e];let a=X.YYYY.exec(n)||l.exec(n);if(a){const s=a[1];return{year:parseInt(s,10),restDateString:n.slice(s.length)}}if(a=X.YY.exec(n)||t.exec(n),a){const s=a[1];return{year:parseInt(s,10)*100,restDateString:n.slice(s.length)}}}return{year:null}}function Sn(n,e){if(e===null)return null;let t,l,a;if(!n||!n.length)return t=new Date(0),t.setUTCFullYear(e),t;let s=X.MM.exec(n);if(s)return t=new Date(0),l=parseInt(s[1],10)-1,Bt(e,l)?(t.setUTCFullYear(e,l),t):new Date(NaN);if(s=X.DDD.exec(n),s){t=new Date(0);const r=parseInt(s[1],10);return An(e,r)?(t.setUTCFullYear(e,0,r),t):new Date(NaN)}if(s=X.MMDD.exec(n),s){t=new Date(0),l=parseInt(s[1],10)-1;const r=parseInt(s[2],10);return Bt(e,l,r)?(t.setUTCFullYear(e,l,r),t):new Date(NaN)}if(s=X.Www.exec(n),s)return a=parseInt(s[1],10)-1,Ht(a)?Ut(e,a):new Date(NaN);if(s=X.WwwD.exec(n),s){a=parseInt(s[1],10)-1;const r=parseInt(s[2],10)-1;return Ht(a,r)?Ut(e,a,r):new Date(NaN)}return null}function Mn(n){let e,t,l=X.HH.exec(n);if(l)return e=parseFloat(l[1].replace(",",".")),mt(e)?e%24*dt:NaN;if(l=X.HHMM.exec(n),l)return e=parseInt(l[1],10),t=parseFloat(l[2].replace(",",".")),mt(e,t)?e%24*dt+t*At:NaN;if(l=X.HHMMSS.exec(n),l){e=parseInt(l[1],10),t=parseInt(l[2],10);const a=parseFloat(l[3].replace(",","."));return mt(e,t,a)?e%24*dt+t*At+a*1e3:NaN}return null}function Ut(n,e,t){e=e||0,t=t||0;const l=new Date(0);l.setUTCFullYear(n,0,4);const a=l.getUTCDay()||7,s=e*7+t+1-a;return l.setUTCDate(l.getUTCDate()+s),l}const Yn=[31,28,31,30,31,30,31,31,30,31,30,31],Ln=[31,29,31,30,31,30,31,31,30,31,30,31];function en(n){return n%400===0||n%4===0&&n%100!==0}function Bt(n,e,t){if(e<0||e>11)return!1;if(t!=null){if(t<1)return!1;const l=en(n);if(l&&t>Ln[e]||!l&&t>Yn[e])return!1}return!0}function An(n,e){if(e<1)return!1;const t=en(n);return!(t&&e>366||!t&&e>365)}function Ht(n,e){return!(n<0||n>52||e!=null&&(e<0||e>6))}function mt(n,e,t){return!(n<0||n>=25||e!=null&&(e<0||e>=60)||t!=null&&(t<0||t>=60))}function je(n,e,t){n=yn(n,t);const l=xt(e,n,!0),a=new Date(n.getTime()-l),s=new Date(0);return s.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),s.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),s}const Un=Oe([]);async function at(){const{data:n,error:e}=await lt.from("calendar_events").select("*").order("start_time",{ascending:!0});if(e)throw e;const t=n||[];return Un.set(t),t}async function Bn(n){const{data:e,error:t}=await lt.from("calendar_events").insert([n]).select();if(t)throw t;return await at(),e?e[0]:void 0}async function Hn(n,e){const{data:t,error:l}=await lt.from("calendar_events").update(e).eq("id",n).select();if(l)throw l;return await at(),t?t[0]:void 0}async function Vn(n){const{error:e}=await lt.from("calendar_events").delete().eq("id",n);if(e)throw e;await at()}let Re=null;const On=()=>{const n=Oe(!1),e=Oe([]),t=Oe([]),l=s=>s.length?s.map(r=>({...r,start_time:kt(r.start_time),end_time:kt(r.end_time)})):[];return Re={stores:{ready:n,data:e,dbData:t},actions:{reload:async()=>{n.set(!1);const s=await at();t.set(l(s)),n.set(!0)}}},Re},tn=()=>Re?.stores&&Object.keys(Re.stores).length>0?Re:On();function Pn(n){let e,t,l,a,s,r,c,i,o,f,v,d,I,w,A,g,b,V,B,T,E,U,L;return{c(){e=_("div"),t=_("div"),l=_("div"),a=_("div"),s=_("h5"),r=$(n[0]),c=S(),i=_("button"),o=S(),f=_("div"),v=_("p"),d=$(n[1]),I=S(),w=_("div"),A=_("button"),g=$(n[2]),V=S(),B=_("button"),T=$(n[4]),this.h()},l(D){e=h(D,"DIV",{class:!0,tabindex:!0});var N=C(e);t=h(N,"DIV",{class:!0});var ee=C(t);l=h(ee,"DIV",{class:!0});var q=C(l);a=h(q,"DIV",{class:!0});var te=C(a);s=h(te,"H5",{class:!0});var z=C(s);r=x(z,n[0]),z.forEach(p),c=M(te),i=h(te,"BUTTON",{type:!0,class:!0,"aria-label":!0});var R=C(i);R.forEach(p),te.forEach(p),o=M(q),f=h(q,"DIV",{class:!0});var ce=C(f);v=h(ce,"P",{});var re=C(v);d=x(re,n[1]),re.forEach(p),ce.forEach(p),I=M(q),w=h(q,"DIV",{class:!0});var P=C(w);A=h(P,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0});var fe=C(A);g=x(fe,n[2]),fe.forEach(p),V=M(P),B=h(P,"BUTTON",{type:!0,class:!0});var pe=C(B);T=x(pe,n[4]),pe.forEach(p),P.forEach(p),q.forEach(p),ee.forEach(p),N.forEach(p),this.h()},h(){m(s,"class","modal-title"),m(i,"type","button"),m(i,"class","btn-close"),m(i,"aria-label",n[2]),m(a,"class","modal-header"),m(f,"class","modal-body"),m(A,"type","button"),m(A,"class",b="btn "+n[3]+" svelte-ydpc16"),m(A,"data-bs-dismiss","modal"),m(B,"type","button"),m(B,"class",E="btn "+n[5]+" svelte-ydpc16"),m(w,"class","modal-footer"),m(l,"class","modal-content"),m(t,"class","modal-dialog"),m(e,"class","modal svelte-ydpc16"),m(e,"tabindex","-1")},m(D,N){O(D,e,N),u(e,t),u(t,l),u(l,a),u(a,s),u(s,r),u(a,c),u(a,i),u(l,o),u(l,f),u(f,v),u(v,d),u(l,I),u(l,w),u(w,A),u(A,g),u(w,V),u(w,B),u(B,T),U||(L=[Z(i,"click",n[8]),Z(A,"click",n[9]),Z(B,"click",n[10])],U=!0)},p(D,[N]){N&1&&oe(r,D[0]),N&4&&m(i,"aria-label",D[2]),N&2&&oe(d,D[1]),N&4&&oe(g,D[2]),N&8&&b!==(b="btn "+D[3]+" svelte-ydpc16")&&m(A,"class",b),N&16&&oe(T,D[4]),N&32&&E!==(E="btn "+D[5]+" svelte-ydpc16")&&m(B,"class",E)},i:ne,o:ne,d(D){D&&p(e),U=!1,vt(L)}}}function Fn(n,e,t){let{title:l=""}=e,{message:a=""}=e,{rejectButtonLabel:s="No"}=e,{rejectButtonCSS:r="btn-secondary"}=e,{confirmButtonLabel:c="Yes"}=e,{confirmButtonCSS:i="btn-primary"}=e,{callback:o}=e;function f(w){o(w)}const v=()=>f(!1),d=()=>f(!1),I=()=>f(!0);return n.$$set=w=>{"title"in w&&t(0,l=w.title),"message"in w&&t(1,a=w.message),"rejectButtonLabel"in w&&t(2,s=w.rejectButtonLabel),"rejectButtonCSS"in w&&t(3,r=w.rejectButtonCSS),"confirmButtonLabel"in w&&t(4,c=w.confirmButtonLabel),"confirmButtonCSS"in w&&t(5,i=w.confirmButtonCSS),"callback"in w&&t(7,o=w.callback)},[l,a,s,r,c,i,f,o,v,d,I]}class jn extends Ze{constructor(e){super(),We(this,e,Fn,Pn,ze,{title:0,message:1,rejectButtonLabel:2,rejectButtonCSS:3,confirmButtonLabel:4,confirmButtonCSS:5,callback:7})}}let Vt;function Rn(n){const e=document.createElement("div");document.body.appendChild(e);const t={title:"Are you sure?",message:"Are you sure you want to do that?  You will not be able to undo this.",callback:()=>{console.log("callback")}};n.title&&(t.title=n.title),n.message&&(t.message=n.message),n.rejectButtonLabel&&(t.rejectButtonLabel=n.rejectButtonLabel),n.rejectButtonCSS&&(t.rejectButtonCSS=n.rejectButtonCSS),n.confirmButtonLabel&&(t.confirmButtonLabel=n.confirmButtonLabel),n.confirmButtonCSS&&(t.confirmButtonCSS=n.confirmButtonCSS),t.callback=l=>{console.log("Confirm result:",l),Vt.$destroy(),document.body.removeChild(e),n.callback&&typeof n.callback=="function"&&n.callback(l)},Vt=new jn({target:e,props:t})}function Ot(n){let e,t,l="Start time*",a,s,r,c,i,o,f="End time*",v,d,I,w,A;return{c(){e=_("div"),t=_("div"),t.textContent=l,a=S(),s=_("input"),c=S(),i=_("div"),o=_("div"),o.textContent=f,v=S(),d=_("input"),this.h()},l(g){e=h(g,"DIV",{class:!0});var b=C(e);t=h(b,"DIV",{"data-svelte-h":!0}),J(t)!=="svelte-gzi1xn"&&(t.textContent=l),a=M(b),s=h(b,"INPUT",{name:!0,type:!0,step:!0,class:!0}),b.forEach(p),c=M(g),i=h(g,"DIV",{class:!0});var V=C(i);o=h(V,"DIV",{"data-svelte-h":!0}),J(o)!=="svelte-ig3ngi"&&(o.textContent=f),v=M(V),d=h(V,"INPUT",{name:!0,type:!0,step:!0,class:!0}),V.forEach(p),this.h()},h(){m(s,"name",r=n[1]+"-start-time"),m(s,"type","time"),m(s,"step",900),m(s,"class","form-control"),s.disabled=n[6],s.required=!0,ae(s,"is-invalid",n[3]),m(e,"class","d-flex flex-column gap-2"),m(d,"name",I=n[1]+"-end-time"),m(d,"type","time"),m(d,"step",900),m(d,"class","form-control"),d.disabled=n[6],d.required=!0,ae(d,"is-invalid",n[2]),m(i,"class","d-flex flex-column gap-2")},m(g,b){O(g,e,b),u(e,t),u(e,a),u(e,s),n[29](s),se(s,n[15]),O(g,c,b),O(g,i,b),u(i,o),u(i,v),u(i,d),n[32](d),se(d,n[16]),w||(A=[Z(s,"focus",n[30]),Z(s,"input",n[31]),Z(d,"focus",n[33]),Z(d,"input",n[34])],w=!0)},p(g,b){b[0]&2&&r!==(r=g[1]+"-start-time")&&m(s,"name",r),b[0]&64&&(s.disabled=g[6]),b[0]&32768&&se(s,g[15]),b[0]&8&&ae(s,"is-invalid",g[3]),b[0]&2&&I!==(I=g[1]+"-end-time")&&m(d,"name",I),b[0]&64&&(d.disabled=g[6]),b[0]&65536&&se(d,g[16]),b[0]&4&&ae(d,"is-invalid",g[2])},d(g){g&&(p(e),p(c),p(i)),n[29](null),n[32](null),w=!1,vt(A)}}}function zn(n){let e,t="<span>Delete</span>",l,a;return{c(){e=_("button"),e.innerHTML=t,this.h()},l(s){e=h(s,"BUTTON",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-1bw2173"&&(e.innerHTML=t),this.h()},h(){m(e,"class","btn btn-danger position-relative")},m(s,r){O(s,e,r),l||(a=Z(e,"click",n[19]),l=!0)},p:ne,d(s){s&&p(e),l=!1,a()}}}function Zn(n){let e,t="Create";return{c(){e=_("span"),e.textContent=t},l(l){e=h(l,"SPAN",{"data-svelte-h":!0}),J(e)!=="svelte-1wf0js6"&&(e.textContent=t)},m(l,a){O(l,e,a)},d(l){l&&p(e)}}}function Wn(n){let e,t="Save";return{c(){e=_("span"),e.textContent=t},l(l){e=h(l,"SPAN",{"data-svelte-h":!0}),J(e)!=="svelte-l126tb"&&(e.textContent=t)},m(l,a){O(l,e,a)},d(l){l&&p(e)}}}function Pt(n){let e,t='<span class="visually-hidden">Item not saved</span>';return{c(){e=_("span"),e.innerHTML=t,this.h()},l(l){e=h(l,"SPAN",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-1g0a6ie"&&(e.innerHTML=t),this.h()},h(){m(e,"class","position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle")},m(l,a){O(l,e,a)},d(l){l&&p(e)}}}function qn(n){let e,t,l,a="Title*",s,r,c,i,o,f="Event title. i.e. Ward Conference, Ward BBQ Night",v,d,I,w="Date*",A,g,b,V,B,T,E,U,L,D,N,ee,q,te,z,R,ce="Description",re,P,fe,pe,de,Je="Describe the event to the best of your knowledge",Be,le,ve,Ke="Location",He,G,Ne,Ve,me,Qe="Location can be physical or virtual",Y,H,ie,Te=n[13].message+"",Se,ge,st,Ee,ye,rt,it,ue,ot,F,ct,bt,K=!n[0].is_all_day&&Ot(n);ye=new Qt({props:{size:"xs"}});let _e=n[18]&&zn(n);function ln(y,k){return y[18]?Wn:Zn}let Xe=ln(n)(n),Q=n[17]&&Pt();return{c(){e=_("div"),t=_("div"),l=_("div"),l.textContent=a,s=S(),r=_("input"),i=S(),o=_("small"),o.textContent=f,v=S(),d=_("div"),I=_("div"),I.textContent=w,A=S(),g=_("input"),V=S(),B=_("div"),T=_("div"),E=_("input"),L=S(),D=_("label"),N=$("All Day Event"),q=S(),K&&K.c(),te=S(),z=_("div"),R=_("div"),R.textContent=ce,re=S(),P=_("textarea"),pe=S(),de=_("small"),de.textContent=Je,Be=S(),le=_("div"),ve=_("div"),ve.textContent=Ke,He=S(),G=_("input"),Ve=S(),me=_("small"),me.textContent=Qe,Y=S(),H=_("div"),ie=_("small"),Se=$(Te),st=S(),Ee=_("span"),De(ye.$$.fragment),rt=S(),_e&&_e.c(),it=S(),ue=_("button"),Xe.c(),ot=S(),Q&&Q.c(),this.h()},l(y){e=h(y,"DIV",{class:!0});var k=C(e);t=h(k,"DIV",{class:!0});var Me=C(t);l=h(Me,"DIV",{"data-svelte-h":!0}),J(l)!=="svelte-1w3dtko"&&(l.textContent=a),s=M(Me),r=h(Me,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),i=M(Me),o=h(Me,"SMALL",{class:!0,"data-svelte-h":!0}),J(o)!=="svelte-gvb7m1"&&(o.textContent=f),Me.forEach(p),v=M(k),d=h(k,"DIV",{class:!0});var $e=C(d);I=h($e,"DIV",{"data-svelte-h":!0}),J(I)!=="svelte-1992pd0"&&(I.textContent=w),A=M($e),g=h($e,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),$e.forEach(p),V=M(k),B=h(k,"DIV",{});var Dt=C(B);T=h(Dt,"DIV",{class:!0});var xe=C(T);E=h(xe,"INPUT",{class:!0,type:!0,id:!0}),L=M(xe),D=h(xe,"LABEL",{class:!0,for:!0});var wt=C(D);N=x(wt,"All Day Event"),wt.forEach(p),xe.forEach(p),Dt.forEach(p),q=M(k),K&&K.l(k),te=M(k),z=h(k,"DIV",{class:!0});var Ye=C(z);R=h(Ye,"DIV",{"data-svelte-h":!0}),J(R)!=="svelte-1x8itd0"&&(R.textContent=ce),re=M(Ye),P=h(Ye,"TEXTAREA",{name:!0,class:!0}),C(P).forEach(p),pe=M(Ye),de=h(Ye,"SMALL",{class:!0,"data-svelte-h":!0}),J(de)!=="svelte-bky2ve"&&(de.textContent=Je),Ye.forEach(p),Be=M(k),le=h(k,"DIV",{class:!0});var Le=C(le);ve=h(Le,"DIV",{"data-svelte-h":!0}),J(ve)!=="svelte-szqbut"&&(ve.textContent=Ke),He=M(Le),G=h(Le,"INPUT",{name:!0,type:!0,class:!0}),Ve=M(Le),me=h(Le,"SMALL",{class:!0,"data-svelte-h":!0}),J(me)!=="svelte-1drtb8l"&&(me.textContent=Qe),Le.forEach(p),Y=M(k),H=h(k,"DIV",{class:!0});var be=C(H);ie=h(be,"SMALL",{class:!0});var Ct=C(ie);Se=x(Ct,Te),Ct.forEach(p),st=M(be),Ee=h(be,"SPAN",{});var It=C(Ee);we(ye.$$.fragment,It),It.forEach(p),rt=M(be),_e&&_e.l(be),it=M(be),ue=h(be,"BUTTON",{class:!0});var et=C(ue);Xe.l(et),ot=M(et),Q&&Q.l(et),et.forEach(p),be.forEach(p),k.forEach(p),this.h()},h(){m(r,"name",c=n[1]+"-title"),m(r,"type","text"),m(r,"class","form-control"),m(r,"placeholder","Event title"),r.disabled=n[6],r.required=!0,ae(r,"is-invalid",n[5]),m(o,"class","fw-lighter fst-italic"),m(t,"class","d-flex flex-column gap-2"),m(g,"name",b=n[1]+"-start-time"),m(g,"type","date"),m(g,"class","form-control"),m(g,"placeholder","Event title"),g.disabled=n[6],g.required=!0,ae(g,"is-invalid",n[3]),m(d,"class","d-flex flex-column gap-2"),m(E,"class","form-check-input"),m(E,"type","checkbox"),m(E,"id",U=n[1]+"-all-day-check"),m(D,"class","form-check-label"),m(D,"for",ee=n[1]+"-all-day-check"),m(T,"class","form-check d-flex align-items-center gap-2"),m(P,"name",fe=n[1]+"-description"),m(P,"class","form-control"),P.disabled=n[6],ae(P,"is-invalid",n[4]),m(de,"class","fw-lighter fst-italic"),m(z,"class","d-flex flex-column gap-2"),m(G,"name",Ne=n[1]+"-location"),m(G,"type","text"),m(G,"class","form-control"),G.disabled=n[6],m(me,"class","fw-lighter fst-italic"),m(le,"class","d-flex flex-column gap-2"),m(ie,"class",ge="fw-lighter fst-italic text-"+n[13].type),ae(Ee,"d-none",!n[6]),m(ue,"class","btn btn-primary position-relative"),m(H,"class","d-flex justify-content-end align-items-center gap-2 flex-row"),m(e,"class","d-flex flex-column gap-4")},m(y,k){O(y,e,k),u(e,t),u(t,l),u(t,s),u(t,r),n[22](r),se(r,n[0].title),u(t,i),u(t,o),u(e,v),u(e,d),u(d,I),u(d,A),u(d,g),n[25](g),se(g,n[14]),u(e,V),u(e,B),u(B,T),u(T,E),E.checked=n[0].is_all_day,u(T,L),u(T,D),u(D,N),u(e,q),K&&K.m(e,null),u(e,te),u(e,z),u(z,R),u(z,re),u(z,P),n[35](P),se(P,n[0].description),u(z,pe),u(z,de),u(e,Be),u(e,le),u(le,ve),u(le,He),u(le,G),n[38](G),se(G,n[0].location),u(le,Ve),u(le,me),u(e,Y),u(e,H),u(H,ie),u(ie,Se),u(H,st),u(H,Ee),Ce(ye,Ee,null),u(H,rt),_e&&_e.m(H,null),u(H,it),u(H,ue),Xe.m(ue,null),u(ue,ot),Q&&Q.m(ue,null),F=!0,ct||(bt=[Z(r,"focus",n[23]),Z(r,"input",n[24]),Z(g,"focus",n[26]),Z(g,"input",n[27]),Z(E,"change",n[28]),Z(P,"focus",n[36]),Z(P,"input",n[37]),Z(G,"focus",n[39]),Z(G,"input",n[40]),Z(ue,"click",n[20])],ct=!0)},p(y,k){(!F||k[0]&2&&c!==(c=y[1]+"-title"))&&m(r,"name",c),(!F||k[0]&64)&&(r.disabled=y[6]),k[0]&1&&r.value!==y[0].title&&se(r,y[0].title),(!F||k[0]&32)&&ae(r,"is-invalid",y[5]),(!F||k[0]&2&&b!==(b=y[1]+"-start-time"))&&m(g,"name",b),(!F||k[0]&64)&&(g.disabled=y[6]),k[0]&16384&&se(g,y[14]),(!F||k[0]&8)&&ae(g,"is-invalid",y[3]),(!F||k[0]&2&&U!==(U=y[1]+"-all-day-check"))&&m(E,"id",U),k[0]&1&&(E.checked=y[0].is_all_day),(!F||k[0]&2&&ee!==(ee=y[1]+"-all-day-check"))&&m(D,"for",ee),y[0].is_all_day?K&&(K.d(1),K=null):K?K.p(y,k):(K=Ot(y),K.c(),K.m(e,te)),(!F||k[0]&2&&fe!==(fe=y[1]+"-description"))&&m(P,"name",fe),(!F||k[0]&64)&&(P.disabled=y[6]),k[0]&1&&se(P,y[0].description),(!F||k[0]&16)&&ae(P,"is-invalid",y[4]),(!F||k[0]&2&&Ne!==(Ne=y[1]+"-location"))&&m(G,"name",Ne),(!F||k[0]&64)&&(G.disabled=y[6]),k[0]&1&&G.value!==y[0].location&&se(G,y[0].location),(!F||k[0]&8192)&&Te!==(Te=y[13].message+"")&&oe(Se,Te),(!F||k[0]&8192&&ge!==(ge="fw-lighter fst-italic text-"+y[13].type))&&m(ie,"class",ge),(!F||k[0]&64)&&ae(Ee,"d-none",!y[6]),y[18]&&_e.p(y,k),y[17]?Q||(Q=Pt(),Q.c(),Q.m(ue,null)):Q&&(Q.d(1),Q=null)},i(y){F||(j(ye.$$.fragment,y),F=!0)},o(y){W(ye.$$.fragment,y),F=!1},d(y){y&&p(e),n[22](null),n[25](null),K&&K.d(),n[35](null),n[38](null),Ie(ye),_e&&_e.d(),Xe.d(),Q&&Q.d(),ct=!1,vt(bt)}}}function Gn(n,e,t){let l,a,s,r,c,i,{name:o=""}=e,{event:f=yt}=e;const{actions:{reload:v}}=tn();let d=!1,I=f.id,w,A,g,b,V,B,T={message:"",type:"info"},E={title:"",description:"",start_time:"",end_time:"",location:"",is_all_day:!1},U=Ue(je(Fe(f.start_time),Pe),"yyyy-MM-dd"),L=Ue(je(Fe(f.start_time),Pe),"HH:mm"),D=Ue(je(Fe(f.end_time),Pe),"HH:mm");const N=(Y,H=0,ie="info")=>{t(13,T.message=Y,T),t(13,T.type=ie,T),H&&setTimeout(()=>{t(13,T.message="",T)},H)},ee=async()=>{if(!I){N("ID is not defined",0,"danger");return}try{await Vn(I),await v(),tt("set_calendar_event_success","interaction","Delete Calendar Event Successful",1),setTimeout(()=>{t(6,d=!1),t(21,E={...f,id:I}),N("Event Deleted",3e3,"success"),t(0,f=yt)},800)}catch(Y){tt("set_calendar_event_failed","interaction","Delete Calendar Event Failed",1),setTimeout(()=>{t(6,d=!1),console.error("Save failed:",Y),N("Failed to save event. Please try again.",7e3,"danger")},800)}},q=()=>{t(6,d=!0),Rn({title:"Delete Confirmation",message:"Are you sure you want to do this?  You won't be able to undo this.",confirmButtonLabel:"Yes",confirmButtonCSS:"btn-danger",callback:Y=>{Y?ee():t(6,d=!1)}})},te=async()=>{if(!l){N("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}if(!i){let H=[];a&&H.push("Title is invalid"),s&&H.push("Description is invalid"),r&&H.push("Start time is invalid"),c&&H.push("End time is invalid"),N(H.join(". ")+".  Please address accordingly.",0,"danger");return}if(d)return;N("Saving ..."),t(6,d=!0);const Y=(H,ie)=>{const[Te,Se]=ie.split(":").map(Number);let ge=cn(H,Te);return ge=un(ge,Se),ge};try{const H={title:f.title,description:f.description,start_time:Y(ht(U,"yyyy-MM-dd",new Date),L).toISOString(),end_time:Y(ht(U,"yyyy-MM-dd",new Date),D).toISOString(),location:f.location,is_all_day:f.is_all_day};I?await Hn(I,H):await Bn(H),await v(),tt("set_calendar_event_success","interaction",`Set Calendar Event Successful ${f.title}`,1),setTimeout(()=>{t(6,d=!1),t(21,E={...f,id:I}),N("Saved",3e3,"success")},800)}catch(H){tt("set_calendar_event_failed","interaction",`Set Calendar Event Failed ${f.title}`,1),setTimeout(()=>{t(6,d=!1),console.error("Save failed:",H),N("Failed to save event. Please try again.",7e3,"danger")},800)}};function z(Y){Ae[Y?"unshift":"push"](()=>{w=Y,t(7,w)})}const R=()=>w.select();function ce(){f.title=this.value,t(0,f)}function re(Y){Ae[Y?"unshift":"push"](()=>{g=Y,t(9,g)})}const P=()=>g.select();function fe(){U=this.value,t(14,U)}function pe(){f.is_all_day=this.checked,t(0,f)}function de(Y){Ae[Y?"unshift":"push"](()=>{b=Y,t(10,b)})}const Je=()=>b.select();function Be(){L=this.value,t(15,L)}function le(Y){Ae[Y?"unshift":"push"](()=>{V=Y,t(11,V)})}const ve=()=>V.select();function Ke(){D=this.value,t(16,D)}function He(Y){Ae[Y?"unshift":"push"](()=>{A=Y,t(8,A)})}const G=()=>A.select();function Ne(){f.description=this.value,t(0,f)}function Ve(Y){Ae[Y?"unshift":"push"](()=>{B=Y,t(12,B)})}const me=()=>B.select();function Qe(){f.location=this.value,t(0,f)}return n.$$set=Y=>{"name"in Y&&t(1,o=Y.name),"event"in Y&&t(0,f=Y.event)},n.$$.update=()=>{n.$$.dirty[0]&2097153&&t(17,l=E.title!==f.title||E.start_time!==f.start_time||E.end_time!==f.end_time||E.location!==f.location||E.is_all_day!==f.is_all_day),n.$$.dirty[0]&1&&t(5,a=f.title===""),n.$$.dirty[0]&1&&t(3,r=f.start_time===""),n.$$.dirty[0]&1&&t(2,c=f.end_time===""),n.$$.dirty[0]&60&&(i=!a&&!s&&!r&&!c)},t(4,s=!1),[f,o,c,r,s,a,d,w,A,g,b,V,B,T,U,L,D,l,I,q,te,E,z,R,ce,re,P,fe,pe,de,Je,Be,le,ve,Ke,He,G,Ne,Ve,me,Qe]}class nn extends Ze{constructor(e){super(),We(this,e,Gn,qn,ze,{name:1,event:0},null,[-1,-1])}}function Ft(n,e,t){const l=n.slice();return l[9]=e[t],l[11]=t,l}function Jn(n){let e,t;return e=new Qt({}),{c(){De(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p:ne,i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){Ie(e,l)}}}function Kn(n){let e,t,l,a;const s=[Xn,Qn],r=[];function c(i,o){return i[2]?.length?0:1}return e=c(n),t=r[e]=s[e](n),{c(){t.c(),l=nt()},l(i){t.l(i),l=nt()},m(i,o){r[e].m(i,o),O(i,l,o),a=!0},p(i,o){let f=e;e=c(i),e===f?r[e].p(i,o):(qe(),W(r[f],1,1,()=>{r[f]=null}),Ge(),t=r[e],t?t.p(i,o):(t=r[e]=s[e](i),t.c()),j(t,1),t.m(l.parentNode,l))},i(i){a||(j(t),a=!0)},o(i){W(t),a=!1},d(i){i&&p(l),r[e].d(i)}}}function Qn(n){let e,t="There are no events logged";return{c(){e=_("div"),e.textContent=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-10lllm0"&&(e.textContent=t),this.h()},h(){m(e,"class","card-body")},m(l,a){O(l,e,a)},p:ne,i:ne,o:ne,d(l){l&&p(e)}}}function Xn(n){let e,t,l,a,s;t=new Kt({props:{drawerTitle:"New Calendar Event",id:"calendar-event-form-new",$$slots:{label:[xn],default:[$n]},$$scope:{ctx:n}}});let r=_t(n[2]),c=[];for(let o=0;o<r.length;o+=1)c[o]=Wt(Ft(n,r,o));const i=o=>W(c[o],1,1,()=>{c[o]=null});return{c(){e=_("div"),De(t.$$.fragment),l=S(),a=_("ul");for(let o=0;o<c.length;o+=1)c[o].c();this.h()},l(o){e=h(o,"DIV",{class:!0});var f=C(e);we(t.$$.fragment,f),f.forEach(p),l=M(o),a=h(o,"UL",{class:!0});var v=C(a);for(let d=0;d<c.length;d+=1)c[d].l(v);v.forEach(p),this.h()},h(){m(e,"class","card-body"),m(a,"class","list-group list-group-flush")},m(o,f){O(o,e,f),Ce(t,e,null),O(o,l,f),O(o,a,f);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(a,null);s=!0},p(o,f){const v={};if(f&4096&&(v.$$scope={dirty:f,ctx:o}),t.$set(v),f&101){r=_t(o[2]);let d;for(d=0;d<r.length;d+=1){const I=Ft(o,r,d);c[d]?(c[d].p(I,f),j(c[d],1)):(c[d]=Wt(I),c[d].c(),j(c[d],1),c[d].m(a,null))}for(qe(),d=r.length;d<c.length;d+=1)i(d);Ge()}},i(o){if(!s){j(t.$$.fragment,o);for(let f=0;f<r.length;f+=1)j(c[f]);s=!0}},o(o){W(t.$$.fragment,o),c=c.filter(Boolean);for(let f=0;f<c.length;f+=1)W(c[f]);s=!1},d(o){o&&(p(e),p(l),p(a)),Ie(t),Gt(c,o)}}}function $n(n){let e,t;return e=new nn({props:{name:"item-new"}}),{c(){De(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p:ne,i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){Ie(e,l)}}}function xn(n){let e,t=`<i class="bi bi-plus"></i>
						Add New Calendar Event`;return{c(){e=_("span"),e.innerHTML=t,this.h()},l(l){e=h(l,"SPAN",{slot:!0,"data-svelte-h":!0}),J(e)!=="svelte-14hv56a"&&(e.innerHTML=t),this.h()},h(){m(e,"slot","label")},m(l,a){O(l,e,a)},p:ne,d(l){l&&p(e)}}}function jt(n){let e,t=n[6](n[9].start_time)+"",l,a,s=n[6](n[9].end_time)+"",r;return{c(){e=_("span"),l=$(t),a=$(" to "),r=$(s),this.h()},l(c){e=h(c,"SPAN",{class:!0});var i=C(e);l=x(i,t),a=x(i," to "),r=x(i,s),i.forEach(p),this.h()},h(){m(e,"class","d-block")},m(c,i){O(c,e,i),u(e,l),u(e,a),u(e,r)},p(c,i){i&4&&t!==(t=c[6](c[9].start_time)+"")&&oe(l,t),i&4&&s!==(s=c[6](c[9].end_time)+"")&&oe(r,s)},d(c){c&&p(e)}}}function Rt(n){let e,t=n[9].description+"",l;return{c(){e=_("span"),l=$(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var s=C(e);l=x(s,t),s.forEach(p),this.h()},h(){m(e,"class","d-block small")},m(a,s){O(a,e,s),u(e,l)},p(a,s){s&4&&t!==(t=a[9].description+"")&&oe(l,t)},d(a){a&&p(e)}}}function zt(n){let e,t=n[9].location+"",l;return{c(){e=_("em"),l=$(t),this.h()},l(a){e=h(a,"EM",{class:!0});var s=C(e);l=x(s,t),s.forEach(p),this.h()},h(){m(e,"class","d-block small fw-lighter")},m(a,s){O(a,e,s),u(e,l)},p(a,s){s&4&&t!==(t=a[9].location+"")&&oe(l,t)},d(a){a&&p(e)}}}function Zt(n){let e,t;return e=new Kt({props:{drawerTitle:"Edit Calendar Event",id:"calendar-event-form"+n[11],$$slots:{label:[tl],default:[el]},$$scope:{ctx:n}}}),{c(){De(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p(l,a){const s={};a&4100&&(s.$$scope={dirty:a,ctx:l}),e.$set(s)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){Ie(e,l)}}}function el(n){let e,t;return e=new nn({props:{event:n[9],name:"item"+n[11]}}),{c(){De(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},p(l,a){const s={};a&4&&(s.event=l[9]),e.$set(s)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){Ie(e,l)}}}function tl(n){let e;return{c(){e=_("i"),this.h()},l(t){e=h(t,"I",{slot:!0,class:!0}),C(e).forEach(p),this.h()},h(){m(e,"slot","label"),m(e,"class","bi bi-pencil")},m(t,l){O(t,e,l)},p:ne,d(t){t&&p(e)}}}function Wt(n){let e,t,l,a,s,r=n[5](n[9].start_time)+"",c,i,o,f,v=n[9].title+"",d,I,w,A,g,b,V,B,T=!n[9].is_all_day&&jt(n),E=n[9].description&&Rt(n),U=n[9].location&&zt(n),L=n[0]&&Zt(n);return{c(){e=_("li"),t=_("div"),l=_("div"),a=_("div"),s=_("strong"),c=$(r),i=S(),o=_("div"),f=_("strong"),d=$(v),I=S(),T&&T.c(),w=S(),E&&E.c(),A=S(),U&&U.c(),g=S(),b=_("div"),L&&L.c(),V=S(),this.h()},l(D){e=h(D,"LI",{class:!0});var N=C(e);t=h(N,"DIV",{class:!0});var ee=C(t);l=h(ee,"DIV",{class:!0});var q=C(l);a=h(q,"DIV",{style:!0});var te=C(a);s=h(te,"STRONG",{});var z=C(s);c=x(z,r),z.forEach(p),te.forEach(p),i=M(q),o=h(q,"DIV",{});var R=C(o);f=h(R,"STRONG",{});var ce=C(f);d=x(ce,v),ce.forEach(p),I=M(R),T&&T.l(R),w=M(R),E&&E.l(R),A=M(R),U&&U.l(R),R.forEach(p),q.forEach(p),g=M(ee),b=h(ee,"DIV",{});var re=C(b);L&&L.l(re),re.forEach(p),ee.forEach(p),V=M(N),N.forEach(p),this.h()},h(){an(a,"width","85px"),m(l,"class","d-flex flex-sm-column flex-md-row flex-xl-row flex-lg-row gap-3"),m(t,"class","d-flex justify-content-between"),m(e,"class","list-group-item")},m(D,N){O(D,e,N),u(e,t),u(t,l),u(l,a),u(a,s),u(s,c),u(l,i),u(l,o),u(o,f),u(f,d),u(o,I),T&&T.m(o,null),u(o,w),E&&E.m(o,null),u(o,A),U&&U.m(o,null),u(t,g),u(t,b),L&&L.m(b,null),u(e,V),B=!0},p(D,N){(!B||N&4)&&r!==(r=D[5](D[9].start_time)+"")&&oe(c,r),(!B||N&4)&&v!==(v=D[9].title+"")&&oe(d,v),D[9].is_all_day?T&&(T.d(1),T=null):T?T.p(D,N):(T=jt(D),T.c(),T.m(o,w)),D[9].description?E?E.p(D,N):(E=Rt(D),E.c(),E.m(o,A)):E&&(E.d(1),E=null),D[9].location?U?U.p(D,N):(U=zt(D),U.c(),U.m(o,null)):U&&(U.d(1),U=null),D[0]?L?(L.p(D,N),N&1&&j(L,1)):(L=Zt(D),L.c(),j(L,1),L.m(b,null)):L&&(qe(),W(L,1,1,()=>{L=null}),Ge())},i(D){B||(j(L),B=!0)},o(D){W(L),B=!1},d(D){D&&p(e),T&&T.d(),E&&E.d(),U&&U.d(),L&&L.d()}}}function nl(n){let e,t,l="Calendar Events",a,s,r,c;const i=[Kn,Jn],o=[];function f(v,d){return v[1]?0:1}return s=f(n),r=o[s]=i[s](n),{c(){e=_("div"),t=_("div"),t.textContent=l,a=S(),r.c(),this.h()},l(v){e=h(v,"DIV",{class:!0});var d=C(e);t=h(d,"DIV",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-1on85xs"&&(t.textContent=l),a=M(d),r.l(d),d.forEach(p),this.h()},h(){m(t,"class","card-header"),m(e,"class","card")},m(v,d){O(v,e,d),u(e,t),u(e,a),o[s].m(e,null),c=!0},p(v,[d]){let I=s;s=f(v),s===I?o[s].p(v,d):(qe(),W(o[I],1,1,()=>{o[I]=null}),Ge(),r=o[s],r?r.p(v,d):(r=o[s]=i[s](v),r.c()),j(r,1),r.m(e,null))},i(v){c||(j(r),c=!0)},o(v){W(r),c=!1},d(v){v&&p(e),o[s].d()}}}function ll(n,e,t){let l,a;const{actions:{featureIsEnabled:s}}=Xt(),{stores:{ready:r,dbData:c},actions:{reload:i}}=tn();Et(n,r,d=>t(1,l=d)),Et(n,c,d=>t(2,a=d));let o=!1;return qt(async()=>{t(0,o=s(gt.EditCalendarEvent)),await i()}),[o,l,a,r,c,d=>{const I=Fe(d),w=je(I,Pe);return Ue(w,"MMM, dd")},d=>{const I=Fe(d),w=je(I,Pe);return Ue(w,"h:mm aa")}]}class al extends Ze{constructor(e){super(),We(this,e,ll,nl,ze,{})}}const sl=[{when:"Every Tuesday",title:"Mount Timpanogos Temple",details:"Stake Temple Night every Tuesday at 7:30 PM.<br />President Nelson, “I urge you to find a way to make an appointment regularly with the Lord - to be in His holy house - then keep that appointment with exactness and joy!”"}].map(n=>({...n,when:n?.date?Ue(ht(`${n?.date?.year}-${n?.date?.month}-${n?.date?.day}`,"yyyy-M-d",new Date),"eeee, MMM d"):n.when}));function rl(n,e,t){const l=n.slice();return l[0]=e[t],l}function il(n){let e,t,l,a=n[0].when+"",s,r,c,i=n[0].title+"",o,f,v,d,I,w=n[0].details+"",A;return{c(){e=_("li"),t=_("strong"),l=_("small"),s=$(a),r=_("br"),c=S(),o=$(i),f=_("br"),v=S(),d=_("em"),I=new sn(!1),A=S(),this.h()},l(g){e=h(g,"LI",{class:!0});var b=C(e);t=h(b,"STRONG",{});var V=C(t);l=h(V,"SMALL",{});var B=C(l);s=x(B,a),B.forEach(p),V.forEach(p),r=h(b,"BR",{}),c=M(b),o=x(b,i),f=h(b,"BR",{}),v=M(b),d=h(b,"EM",{class:!0});var T=C(d);I=rn(T,!1),T.forEach(p),A=M(b),b.forEach(p),this.h()},h(){I.a=null,m(d,"class","small fw-lighter"),m(e,"class","list-group-item")},m(g,b){O(g,e,b),u(e,t),u(t,l),u(l,s),u(e,r),u(e,c),u(e,o),u(e,f),u(e,v),u(e,d),I.m(w,d),u(e,A)},p:ne,d(g){g&&p(e)}}}function ol(n){let e,t,l="Announcements",a,s,r=_t(sl),c=[];for(let i=0;i<r.length;i+=1)c[i]=il(rl(n,r,i));return{c(){e=_("div"),t=_("div"),t.textContent=l,a=S(),s=_("ul");for(let i=0;i<c.length;i+=1)c[i].c();this.h()},l(i){e=h(i,"DIV",{class:!0});var o=C(e);t=h(o,"DIV",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-rw6gj3"&&(t.textContent=l),a=M(o),s=h(o,"UL",{class:!0});var f=C(s);for(let v=0;v<c.length;v+=1)c[v].l(f);f.forEach(p),o.forEach(p),this.h()},h(){m(t,"class","card-header"),m(s,"class","list-group list-group-flush"),m(e,"class","card")},m(i,o){O(i,e,o),u(e,t),u(e,a),u(e,s);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(s,null)},p:ne,i:ne,o:ne,d(i){i&&p(e),Gt(c,i)}}}class cl extends Ze{constructor(e){super(),We(this,e,null,ol,ze,{})}}function ul(n){let e,t;return e=new cl({}),{c(){De(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){Ie(e,l)}}}function fl(n){let e,t;return e=new al({}),{c(){De(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,a){Ce(e,l,a),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){Ie(e,l)}}}function dl(n){let e,t,l,a;const s=[fl,ul],r=[];function c(i,o){return i[0]?0:1}return e=c(n),t=r[e]=s[e](n),{c(){t.c(),l=nt()},l(i){t.l(i),l=nt()},m(i,o){r[e].m(i,o),O(i,l,o),a=!0},p(i,[o]){let f=e;e=c(i),e!==f&&(qe(),W(r[f],1,1,()=>{r[f]=null}),Ge(),t=r[e],t||(t=r[e]=s[e](i),t.c()),j(t,1),t.m(l.parentNode,l))},i(i){a||(j(t),a=!0)},o(i){W(t),a=!1},d(i){i&&p(l),r[e].d(i)}}}function ml(n,e,t){const{actions:{featureIsEnabled:l}}=Xt();let a=!1;return qt(async()=>{t(0,a=l(gt.ViewDBCalendarEvents))}),[a]}class Il extends Ze{constructor(e){super(),We(this,e,ml,dl,ze,{})}}export{sl as A,Il as C,gt as F,Xt as g};
