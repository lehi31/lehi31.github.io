import{s as ke,c as pt,u as vt,g as gt,a as bt,n as le,r as Dt,h as Be,b as Et,o as Xt}from"./scheduler.C9-2ehqC.js";import{S as Se,i as Ne,e as h,b as X,s as N,j as p,k as I,m as K,d as v,f as M,n as c,o as V,q as u,r as ie,t as P,a as Z,c as De,g as we,p as Ie,u as Te,B as q,l as x,x as se,C as re,w as et,v as tt,D as Kt,z as un,H as cn,I as fn,y as kt}from"./index.8lvwZVbA.js";import{s as nt,a as $t,F as xt,A as dn}from"./announcements.data.CFHNzu2J.js";import{t as en,b as St,f as Fe,d as je,p as Nt,e as _t}from"./Header.CnxX5URI.js";import{S as mn}from"./Spinner.BIR51mvO.js";import{w as xe}from"./index.-KbeAlZo.js";import{A as Pe}from"./app.state.4JgFJFhH.js";function _n(t,e){const n=en(t);return n.setHours(e),n}function hn(t,e){const n=en(t);return n.setMinutes(e),n}var Q=[];for(var ut=0;ut<256;++ut)Q.push((ut+256).toString(16).slice(1));function pn(t,e=0){return(Q[t[e+0]]+Q[t[e+1]]+Q[t[e+2]]+Q[t[e+3]]+"-"+Q[t[e+4]]+Q[t[e+5]]+"-"+Q[t[e+6]]+Q[t[e+7]]+"-"+Q[t[e+8]]+Q[t[e+9]]+"-"+Q[t[e+10]]+Q[t[e+11]]+Q[t[e+12]]+Q[t[e+13]]+Q[t[e+14]]+Q[t[e+15]]).toLowerCase()}var Ke,vn=new Uint8Array(16);function gn(){if(!Ke&&(Ke=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ke))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ke(vn)}var bn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Mt={randomUUID:bn};function Dn(t,e,n){if(Mt.randomUUID&&!e&&!t)return Mt.randomUUID();t=t||{};var l=t.random||(t.rng||gn)();return l[6]=l[6]&15|64,l[8]=l[8]&63|128,pn(l)}function wn(t){let e,n,l,a,s,i,o,r,f,d,C;const m=t[8].default,w=pt(m,t,t[7],null);return{c(){e=h("div"),n=h("div"),l=h("h4"),a=X(t[1]),s=N(),i=h("button"),r=N(),f=h("div"),w&&w.c(),this.h()},l(_){e=p(_,"DIV",{class:!0,tabindex:!0,id:!0,"aria-labelledby":!0});var b=I(e);n=p(b,"DIV",{class:!0});var g=I(n);l=p(g,"H4",{class:!0,id:!0});var D=I(l);a=K(D,t[1]),D.forEach(v),s=M(g),i=p(g,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-bs-target":!0,"aria-label":!0}),I(i).forEach(v),g.forEach(v),r=M(b),f=p(b,"DIV",{class:!0});var O=I(f);w&&w.l(O),O.forEach(v),b.forEach(v),this.h()},h(){c(l,"class","offcanvas-title"),c(l,"id",t[4]),c(i,"type","button"),c(i,"class","btn-close"),c(i,"data-bs-dismiss","offcanvas"),c(i,"data-bs-target",o="#"+t[0]),c(i,"aria-label","Close"),c(n,"class","offcanvas-header"),c(f,"class","offcanvas-body"),c(e,"class",d=t[3]+" "+t[2]),c(e,"tabindex","-1"),c(e,"id",t[0]),c(e,"aria-labelledby",t[4])},m(_,b){V(_,e,b),u(e,n),u(n,l),u(l,a),u(n,s),u(n,i),u(e,r),u(e,f),w&&w.m(f,null),C=!0},p(_,[b]){(!C||b&2)&&ie(a,_[1]),(!C||b&1&&o!==(o="#"+_[0]))&&c(i,"data-bs-target",o),w&&w.p&&(!C||b&128)&&vt(w,m,_,_[7],C?bt(m,_[7],b,null):gt(_[7]),null),(!C||b&12&&d!==(d=_[3]+" "+_[2]))&&c(e,"class",d),(!C||b&1)&&c(e,"id",_[0])},i(_){C||(P(w,_),C=!0)},o(_){Z(w,_),C=!1},d(_){_&&v(e),w&&w.d(_)}}}function In(t,e,n){let l,a,{$$slots:s={},$$scope:i}=e,{id:o}=e,{title:r}=e,{breakpoint:f=""}=e,{placement:d="end"}=e;const C=Dn();return t.$$set=m=>{"id"in m&&n(0,o=m.id),"title"in m&&n(1,r=m.title),"breakpoint"in m&&n(5,f=m.breakpoint),"placement"in m&&n(6,d=m.placement),"$$scope"in m&&n(7,i=m.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(3,l=`offcanvas${f===""?"":"-"+f}`),t.$$.dirty&64&&n(2,a=`offcanvas-${d}`)},[o,r,a,l,C,f,d,i,s]}class Tn extends Se{constructor(e){super(),Ne(this,e,In,wn,ke,{id:0,title:1,breakpoint:5,placement:6})}}const Cn=t=>({}),Yt=t=>({});function yn(t){let e;const n=t[2].default,l=pt(n,t,t[3],null);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,s){l&&l.m(a,s),e=!0},p(a,s){l&&l.p&&(!e||s&8)&&vt(l,n,a,a[3],e?bt(n,a[3],s,null):gt(a[3]),null)},i(a){e||(P(l,a),e=!0)},o(a){Z(l,a),e=!1},d(a){l&&l.d(a)}}}function En(t){let e,n,l,a,s;const i=t[2].label,o=pt(i,t,t[3],Yt);return a=new Tn({props:{title:t[1],id:t[0],$$slots:{default:[yn]},$$scope:{ctx:t}}}),{c(){e=h("button"),o&&o.c(),l=N(),De(a.$$.fragment),this.h()},l(r){e=p(r,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var f=I(e);o&&o.l(f),f.forEach(v),l=M(r),we(a.$$.fragment,r),this.h()},h(){c(e,"class","btn btn-sm btn-secondary"),c(e,"type","button"),c(e,"data-bs-toggle","offcanvas"),c(e,"data-bs-target",n="#"+t[0]),c(e,"aria-controls",t[0])},m(r,f){V(r,e,f),o&&o.m(e,null),V(r,l,f),Ie(a,r,f),s=!0},p(r,[f]){o&&o.p&&(!s||f&8)&&vt(o,i,r,r[3],s?bt(i,r[3],f,Cn):gt(r[3]),Yt),(!s||f&1&&n!==(n="#"+r[0]))&&c(e,"data-bs-target",n),(!s||f&1)&&c(e,"aria-controls",r[0]);const d={};f&2&&(d.title=r[1]),f&1&&(d.id=r[0]),f&8&&(d.$$scope={dirty:f,ctx:r}),a.$set(d)},i(r){s||(P(o,r),P(a.$$.fragment,r),s=!0)},o(r){Z(o,r),Z(a.$$.fragment,r),s=!1},d(r){r&&(v(e),v(l)),o&&o.d(r),Te(a,r)}}}function kn(t,e,n){let{$$slots:l={},$$scope:a}=e,{id:s=""}=e,{drawerTitle:i=""}=e;return t.$$set=o=>{"id"in o&&n(0,s=o.id),"drawerTitle"in o&&n(1,i=o.drawerTitle),"$$scope"in o&&n(3,a=o.$$scope)},[s,i,l,a]}class tn extends Se{constructor(e){super(),Ne(this,e,kn,En,ke,{id:0,drawerTitle:1})}}function Sn(t,e){const n=Un(e);return"formatToParts"in n?Mn(n,t):Yn(n,t)}const Nn={year:0,month:1,day:2,hour:3,minute:4,second:5};function Mn(t,e){try{const n=t.formatToParts(e),l=[];for(let a=0;a<n.length;a++){const s=Nn[n[a].type];s!==void 0&&(l[s]=parseInt(n[a].value,10))}return l}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function Yn(t,e){const n=t.format(e),l=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(l[3],10),parseInt(l[1],10),parseInt(l[2],10),parseInt(l[4],10),parseInt(l[5],10),parseInt(l[6],10)]}const ct={},Lt=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),Ln=Lt==="06/25/2014, 00:00:00"||Lt==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";function Un(t){return ct[t]||(ct[t]=Ln?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),ct[t]}function nn(t,e,n,l,a,s,i){const o=new Date(0);return o.setUTCFullYear(t,e,n),o.setUTCHours(l,a,s,i),o}const Ut=36e5,An=6e4,ft={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function ln(t,e,n){if(!t)return 0;let l=ft.timezoneZ.exec(t);if(l)return 0;let a,s;if(l=ft.timezoneHH.exec(t),l)return a=parseInt(l[1],10),At(a)?-(a*Ut):NaN;if(l=ft.timezoneHHMM.exec(t),l){a=parseInt(l[2],10);const i=parseInt(l[3],10);return At(a,i)?(s=Math.abs(a)*Ut+i*An,l[1]==="+"?-s:s):NaN}if(On(t)){e=new Date(e||Date.now());const i=n?e:Bn(e),o=ht(i,t);return-(n?o:Hn(e,o,t))}return NaN}function Bn(t){return nn(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function ht(t,e){const n=Sn(t,e),l=nn(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let a=t.getTime();const s=a%1e3;return a-=s>=0?s:1e3+s,l-a}function Hn(t,e,n){let a=t.getTime()-e;const s=ht(new Date(a),n);if(e===s)return e;a-=s-e;const i=ht(new Date(a),n);return s===i?s:Math.max(s,i)}function At(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}const Bt={};function On(t){if(Bt[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Bt[t]=!0,!0}catch{return!1}}function Ht(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const Vn=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,dt=36e5,Ot=6e4,Fn=2,te={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Vn};function jn(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const n=e.additionalDigits==null?Fn:Number(e.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const l=Pn(t),{year:a,restDateString:s}=Rn(l.date,n),i=zn(s,a);if(i===null||isNaN(i.getTime()))return new Date(NaN);if(i){const o=i.getTime();let r=0,f;if(l.time&&(r=Zn(l.time),r===null||isNaN(r)))return new Date(NaN);if(l.timeZone||e.timeZone){if(f=ln(l.timeZone||e.timeZone,new Date(o+r)),isNaN(f))return new Date(NaN)}else f=Ht(new Date(o+r)),f=Ht(new Date(o+r+f));return new Date(o+r+f)}else return new Date(NaN)}function Pn(t){const e={};let n=te.dateTimePattern.exec(t),l;if(n?(e.date=n[1],l=n[3]):(n=te.datePattern.exec(t),n?(e.date=n[1],l=n[2]):(e.date=null,l=t)),l){const a=te.timeZone.exec(l);a?(e.time=l.replace(a[1],""),e.timeZone=a[1].trim()):e.time=l}return e}function Rn(t,e){if(t){const n=te.YYY[e],l=te.YYYYY[e];let a=te.YYYY.exec(t)||l.exec(t);if(a){const s=a[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(a=te.YY.exec(t)||n.exec(t),a){const s=a[1];return{year:parseInt(s,10)*100,restDateString:t.slice(s.length)}}}return{year:null}}function zn(t,e){if(e===null)return null;let n,l,a;if(!t||!t.length)return n=new Date(0),n.setUTCFullYear(e),n;let s=te.MM.exec(t);if(s)return n=new Date(0),l=parseInt(s[1],10)-1,Ft(e,l)?(n.setUTCFullYear(e,l),n):new Date(NaN);if(s=te.DDD.exec(t),s){n=new Date(0);const i=parseInt(s[1],10);return Gn(e,i)?(n.setUTCFullYear(e,0,i),n):new Date(NaN)}if(s=te.MMDD.exec(t),s){n=new Date(0),l=parseInt(s[1],10)-1;const i=parseInt(s[2],10);return Ft(e,l,i)?(n.setUTCFullYear(e,l,i),n):new Date(NaN)}if(s=te.Www.exec(t),s)return a=parseInt(s[1],10)-1,jt(a)?Vt(e,a):new Date(NaN);if(s=te.WwwD.exec(t),s){a=parseInt(s[1],10)-1;const i=parseInt(s[2],10)-1;return jt(a,i)?Vt(e,a,i):new Date(NaN)}return null}function Zn(t){let e,n,l=te.HH.exec(t);if(l)return e=parseFloat(l[1].replace(",",".")),mt(e)?e%24*dt:NaN;if(l=te.HHMM.exec(t),l)return e=parseInt(l[1],10),n=parseFloat(l[2].replace(",",".")),mt(e,n)?e%24*dt+n*Ot:NaN;if(l=te.HHMMSS.exec(t),l){e=parseInt(l[1],10),n=parseInt(l[2],10);const a=parseFloat(l[3].replace(",","."));return mt(e,n,a)?e%24*dt+n*Ot+a*1e3:NaN}return null}function Vt(t,e,n){e=e||0,n=n||0;const l=new Date(0);l.setUTCFullYear(t,0,4);const a=l.getUTCDay()||7,s=e*7+n+1-a;return l.setUTCDate(l.getUTCDate()+s),l}const Wn=[31,28,31,30,31,30,31,31,30,31,30,31],qn=[31,29,31,30,31,30,31,31,30,31,30,31];function an(t){return t%400===0||t%4===0&&t%100!==0}function Ft(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;const l=an(t);if(l&&n>qn[e]||!l&&n>Wn[e])return!1}return!0}function Gn(t,e){if(e<1)return!1;const n=an(t);return!(n&&e>366||!n&&e>365)}function jt(t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function mt(t,e,n){return!(t<0||t>=25||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}function Re(t,e,n){t=jn(t,n);const l=ln(e,t,!0),a=new Date(t.getTime()-l),s=new Date(0);return s.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),s.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),s}const Jn=xe([]);async function lt(){const{data:t,error:e}=await nt.from("calendar_events").select("*").order("start_time",{ascending:!0});if(e)throw e;const n=t||[];return Jn.set(n),n}async function Qn(t){const{data:e,error:n}=await nt.from("calendar_events").insert([t]).select();if(n)throw n;return await lt(),e?e[0]:void 0}async function Xn(t,e){const{data:n,error:l}=await nt.from("calendar_events").update(e).eq("id",t).select();if(l)throw l;return await lt(),n?n[0]:void 0}async function Kn(t){const{error:e}=await nt.from("calendar_events").delete().eq("id",t);if(e)throw e;await lt()}function $n(t,e){typeof window<"u"&&window.gtag?window.gtag("event",t,e||{}):console.warn("gtag is not available")}function $e(t,e,n,l){$n(t,{event_category:e,event_label:n,value:l})}let ze=null;const xn=()=>{const t=xe(!1),e=xe([]),n=xe([]),l=s=>s.length?s.map(i=>({...i,start_time:St(i.start_time),end_time:St(i.end_time)})):[];return ze={stores:{ready:t,data:e,dbData:n},actions:{reload:async()=>{t.set(!1);const s=await lt();n.set(l(s)),t.set(!0)}}},ze},sn=()=>ze?.stores&&Object.keys(ze.stores).length>0?ze:xn();function el(t){let e,n,l,a,s,i,o,r,f,d,C,m,w,_,b,g,D,O,B,y,E,A,L;return{c(){e=h("div"),n=h("div"),l=h("div"),a=h("div"),s=h("h5"),i=X(t[0]),o=N(),r=h("button"),f=N(),d=h("div"),C=h("p"),m=X(t[1]),w=N(),_=h("div"),b=h("button"),g=X(t[2]),O=N(),B=h("button"),y=X(t[4]),this.h()},l(T){e=p(T,"DIV",{class:!0,tabindex:!0});var U=I(e);n=p(U,"DIV",{class:!0});var ne=I(n);l=p(ne,"DIV",{class:!0});var G=I(l);a=p(G,"DIV",{class:!0});var j=I(a);s=p(j,"H5",{class:!0});var W=I(s);i=K(W,t[0]),W.forEach(v),o=M(j),r=p(j,"BUTTON",{type:!0,class:!0,"aria-label":!0});var z=I(r);z.forEach(v),j.forEach(v),f=M(G),d=p(G,"DIV",{class:!0});var ce=I(d);C=p(ce,"P",{});var oe=I(C);m=K(oe,t[1]),oe.forEach(v),ce.forEach(v),w=M(G),_=p(G,"DIV",{class:!0});var F=I(_);b=p(F,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0});var de=I(b);g=K(de,t[2]),de.forEach(v),O=M(F),B=p(F,"BUTTON",{type:!0,class:!0});var pe=I(B);y=K(pe,t[4]),pe.forEach(v),F.forEach(v),G.forEach(v),ne.forEach(v),U.forEach(v),this.h()},h(){c(s,"class","modal-title"),c(r,"type","button"),c(r,"class","btn-close"),c(r,"aria-label",t[2]),c(a,"class","modal-header"),c(d,"class","modal-body"),c(b,"type","button"),c(b,"class",D="btn "+t[3]+" svelte-ydpc16"),c(b,"data-bs-dismiss","modal"),c(B,"type","button"),c(B,"class",E="btn "+t[5]+" svelte-ydpc16"),c(_,"class","modal-footer"),c(l,"class","modal-content"),c(n,"class","modal-dialog"),c(e,"class","modal svelte-ydpc16"),c(e,"tabindex","-1")},m(T,U){V(T,e,U),u(e,n),u(n,l),u(l,a),u(a,s),u(s,i),u(a,o),u(a,r),u(l,f),u(l,d),u(d,C),u(C,m),u(l,w),u(l,_),u(_,b),u(b,g),u(_,O),u(_,B),u(B,y),A||(L=[q(r,"click",t[8]),q(b,"click",t[9]),q(B,"click",t[10])],A=!0)},p(T,[U]){U&1&&ie(i,T[0]),U&4&&c(r,"aria-label",T[2]),U&2&&ie(m,T[1]),U&4&&ie(g,T[2]),U&8&&D!==(D="btn "+T[3]+" svelte-ydpc16")&&c(b,"class",D),U&16&&ie(y,T[4]),U&32&&E!==(E="btn "+T[5]+" svelte-ydpc16")&&c(B,"class",E)},i:le,o:le,d(T){T&&v(e),A=!1,Dt(L)}}}function tl(t,e,n){let{title:l=""}=e,{message:a=""}=e,{rejectButtonLabel:s="No"}=e,{rejectButtonCSS:i="btn-secondary"}=e,{confirmButtonLabel:o="Yes"}=e,{confirmButtonCSS:r="btn-primary"}=e,{callback:f}=e;function d(_){f(_)}const C=()=>d(!1),m=()=>d(!1),w=()=>d(!0);return t.$$set=_=>{"title"in _&&n(0,l=_.title),"message"in _&&n(1,a=_.message),"rejectButtonLabel"in _&&n(2,s=_.rejectButtonLabel),"rejectButtonCSS"in _&&n(3,i=_.rejectButtonCSS),"confirmButtonLabel"in _&&n(4,o=_.confirmButtonLabel),"confirmButtonCSS"in _&&n(5,r=_.confirmButtonCSS),"callback"in _&&n(7,f=_.callback)},[l,a,s,i,o,r,d,f,C,m,w]}class nl extends Se{constructor(e){super(),Ne(this,e,tl,el,ke,{title:0,message:1,rejectButtonLabel:2,rejectButtonCSS:3,confirmButtonLabel:4,confirmButtonCSS:5,callback:7})}}let Pt;function ll(t){const e=document.createElement("div");document.body.appendChild(e);const n={title:"Are you sure?",message:"Are you sure you want to do that?  You will not be able to undo this.",callback:()=>{console.log("callback")}};t.title&&(n.title=t.title),t.message&&(n.message=t.message),t.rejectButtonLabel&&(n.rejectButtonLabel=t.rejectButtonLabel),t.rejectButtonCSS&&(n.rejectButtonCSS=t.rejectButtonCSS),t.confirmButtonLabel&&(n.confirmButtonLabel=t.confirmButtonLabel),t.confirmButtonCSS&&(n.confirmButtonCSS=t.confirmButtonCSS),n.callback=l=>{console.log("Confirm result:",l),Pt.$destroy(),document.body.removeChild(e),t.callback&&typeof t.callback=="function"&&t.callback(l)},Pt=new nl({target:e,props:n})}function Rt(t){let e,n,l="Start time*",a,s,i,o,r,f,d="End time*",C,m,w,_,b;return{c(){e=h("div"),n=h("div"),n.textContent=l,a=N(),s=h("input"),o=N(),r=h("div"),f=h("div"),f.textContent=d,C=N(),m=h("input"),this.h()},l(g){e=p(g,"DIV",{class:!0});var D=I(e);n=p(D,"DIV",{"data-svelte-h":!0}),x(n)!=="svelte-gzi1xn"&&(n.textContent=l),a=M(D),s=p(D,"INPUT",{name:!0,type:!0,step:!0,class:!0}),D.forEach(v),o=M(g),r=p(g,"DIV",{class:!0});var O=I(r);f=p(O,"DIV",{"data-svelte-h":!0}),x(f)!=="svelte-ig3ngi"&&(f.textContent=d),C=M(O),m=p(O,"INPUT",{name:!0,type:!0,step:!0,class:!0}),O.forEach(v),this.h()},h(){c(s,"name",i=t[1]+"-start-time"),c(s,"type","time"),c(s,"step",900),c(s,"class","form-control"),s.disabled=t[6],s.required=!0,se(s,"is-invalid",t[3]),c(e,"class","d-flex flex-column gap-2"),c(m,"name",w=t[1]+"-end-time"),c(m,"type","time"),c(m,"step",900),c(m,"class","form-control"),m.disabled=t[6],m.required=!0,se(m,"is-invalid",t[2]),c(r,"class","d-flex flex-column gap-2")},m(g,D){V(g,e,D),u(e,n),u(e,a),u(e,s),t[29](s),re(s,t[15]),V(g,o,D),V(g,r,D),u(r,f),u(r,C),u(r,m),t[32](m),re(m,t[16]),_||(b=[q(s,"focus",t[30]),q(s,"input",t[31]),q(m,"focus",t[33]),q(m,"input",t[34])],_=!0)},p(g,D){D[0]&2&&i!==(i=g[1]+"-start-time")&&c(s,"name",i),D[0]&64&&(s.disabled=g[6]),D[0]&32768&&re(s,g[15]),D[0]&8&&se(s,"is-invalid",g[3]),D[0]&2&&w!==(w=g[1]+"-end-time")&&c(m,"name",w),D[0]&64&&(m.disabled=g[6]),D[0]&65536&&re(m,g[16]),D[0]&4&&se(m,"is-invalid",g[2])},d(g){g&&(v(e),v(o),v(r)),t[29](null),t[32](null),_=!1,Dt(b)}}}function al(t){let e,n="<span>Delete</span>",l,a;return{c(){e=h("button"),e.innerHTML=n,this.h()},l(s){e=p(s,"BUTTON",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-1bw2173"&&(e.innerHTML=n),this.h()},h(){c(e,"class","btn btn-danger position-relative")},m(s,i){V(s,e,i),l||(a=q(e,"click",t[19]),l=!0)},p:le,d(s){s&&v(e),l=!1,a()}}}function sl(t){let e,n="Create";return{c(){e=h("span"),e.textContent=n},l(l){e=p(l,"SPAN",{"data-svelte-h":!0}),x(e)!=="svelte-1wf0js6"&&(e.textContent=n)},m(l,a){V(l,e,a)},d(l){l&&v(e)}}}function rl(t){let e,n="Save";return{c(){e=h("span"),e.textContent=n},l(l){e=p(l,"SPAN",{"data-svelte-h":!0}),x(e)!=="svelte-l126tb"&&(e.textContent=n)},m(l,a){V(l,e,a)},d(l){l&&v(e)}}}function zt(t){let e,n='<span class="visually-hidden">Item not saved</span>';return{c(){e=h("span"),e.innerHTML=n,this.h()},l(l){e=p(l,"SPAN",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-1g0a6ie"&&(e.innerHTML=n),this.h()},h(){c(e,"class","position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle")},m(l,a){V(l,e,a)},d(l){l&&v(e)}}}function il(t){let e,n,l,a="Title*",s,i,o,r,f,d="Event title. i.e. Ward Conference, Ward BBQ Night",C,m,w,_="Date*",b,g,D,O,B,y,E,A,L,T,U,ne,G,j,W,z,ce="Description",oe,F,de,pe,me,Ze="Describe the event to the best of your knowledge",He,ae,ve,We="Location",Oe,J,Me,Ve,_e,qe="Location can be physical or virtual",Y,H,ue,Ce=t[13].message+"",Ye,ge,at,ye,Ee,st,rt,fe,it,R,ot,wt,$=!t[0].is_all_day&&Rt(t);Ee=new mn({props:{size:"xs"}});let he=t[18]&&al(t);function on(k,S){return k[18]?rl:sl}let Ge=on(t)(t),ee=t[17]&&zt();return{c(){e=h("div"),n=h("div"),l=h("div"),l.textContent=a,s=N(),i=h("input"),r=N(),f=h("small"),f.textContent=d,C=N(),m=h("div"),w=h("div"),w.textContent=_,b=N(),g=h("input"),O=N(),B=h("div"),y=h("div"),E=h("input"),L=N(),T=h("label"),U=X("All Day Event"),G=N(),$&&$.c(),j=N(),W=h("div"),z=h("div"),z.textContent=ce,oe=N(),F=h("textarea"),pe=N(),me=h("small"),me.textContent=Ze,He=N(),ae=h("div"),ve=h("div"),ve.textContent=We,Oe=N(),J=h("input"),Ve=N(),_e=h("small"),_e.textContent=qe,Y=N(),H=h("div"),ue=h("small"),Ye=X(Ce),at=N(),ye=h("span"),De(Ee.$$.fragment),st=N(),he&&he.c(),rt=N(),fe=h("button"),Ge.c(),it=N(),ee&&ee.c(),this.h()},l(k){e=p(k,"DIV",{class:!0});var S=I(e);n=p(S,"DIV",{class:!0});var Le=I(n);l=p(Le,"DIV",{"data-svelte-h":!0}),x(l)!=="svelte-1w3dtko"&&(l.textContent=a),s=M(Le),i=p(Le,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),r=M(Le),f=p(Le,"SMALL",{class:!0,"data-svelte-h":!0}),x(f)!=="svelte-gvb7m1"&&(f.textContent=d),Le.forEach(v),C=M(S),m=p(S,"DIV",{class:!0});var Je=I(m);w=p(Je,"DIV",{"data-svelte-h":!0}),x(w)!=="svelte-1992pd0"&&(w.textContent=_),b=M(Je),g=p(Je,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),Je.forEach(v),O=M(S),B=p(S,"DIV",{});var It=I(B);y=p(It,"DIV",{class:!0});var Qe=I(y);E=p(Qe,"INPUT",{class:!0,type:!0,id:!0}),L=M(Qe),T=p(Qe,"LABEL",{class:!0,for:!0});var Tt=I(T);U=K(Tt,"All Day Event"),Tt.forEach(v),Qe.forEach(v),It.forEach(v),G=M(S),$&&$.l(S),j=M(S),W=p(S,"DIV",{class:!0});var Ue=I(W);z=p(Ue,"DIV",{"data-svelte-h":!0}),x(z)!=="svelte-1x8itd0"&&(z.textContent=ce),oe=M(Ue),F=p(Ue,"TEXTAREA",{name:!0,class:!0}),I(F).forEach(v),pe=M(Ue),me=p(Ue,"SMALL",{class:!0,"data-svelte-h":!0}),x(me)!=="svelte-bky2ve"&&(me.textContent=Ze),Ue.forEach(v),He=M(S),ae=p(S,"DIV",{class:!0});var Ae=I(ae);ve=p(Ae,"DIV",{"data-svelte-h":!0}),x(ve)!=="svelte-szqbut"&&(ve.textContent=We),Oe=M(Ae),J=p(Ae,"INPUT",{name:!0,type:!0,class:!0}),Ve=M(Ae),_e=p(Ae,"SMALL",{class:!0,"data-svelte-h":!0}),x(_e)!=="svelte-1drtb8l"&&(_e.textContent=qe),Ae.forEach(v),Y=M(S),H=p(S,"DIV",{class:!0});var be=I(H);ue=p(be,"SMALL",{class:!0});var Ct=I(ue);Ye=K(Ct,Ce),Ct.forEach(v),at=M(be),ye=p(be,"SPAN",{});var yt=I(ye);we(Ee.$$.fragment,yt),yt.forEach(v),st=M(be),he&&he.l(be),rt=M(be),fe=p(be,"BUTTON",{class:!0});var Xe=I(fe);Ge.l(Xe),it=M(Xe),ee&&ee.l(Xe),Xe.forEach(v),be.forEach(v),S.forEach(v),this.h()},h(){c(i,"name",o=t[1]+"-title"),c(i,"type","text"),c(i,"class","form-control"),c(i,"placeholder","Event title"),i.disabled=t[6],i.required=!0,se(i,"is-invalid",t[5]),c(f,"class","fw-lighter fst-italic"),c(n,"class","d-flex flex-column gap-2"),c(g,"name",D=t[1]+"-start-time"),c(g,"type","date"),c(g,"class","form-control"),c(g,"placeholder","Event title"),g.disabled=t[6],g.required=!0,se(g,"is-invalid",t[3]),c(m,"class","d-flex flex-column gap-2"),c(E,"class","form-check-input"),c(E,"type","checkbox"),c(E,"id",A=t[1]+"-all-day-check"),c(T,"class","form-check-label"),c(T,"for",ne=t[1]+"-all-day-check"),c(y,"class","form-check d-flex align-items-center gap-2"),c(F,"name",de=t[1]+"-description"),c(F,"class","form-control"),F.disabled=t[6],se(F,"is-invalid",t[4]),c(me,"class","fw-lighter fst-italic"),c(W,"class","d-flex flex-column gap-2"),c(J,"name",Me=t[1]+"-location"),c(J,"type","text"),c(J,"class","form-control"),J.disabled=t[6],c(_e,"class","fw-lighter fst-italic"),c(ae,"class","d-flex flex-column gap-2"),c(ue,"class",ge="fw-lighter fst-italic text-"+t[13].type),se(ye,"d-none",!t[6]),c(fe,"class","btn btn-primary position-relative"),c(H,"class","d-flex justify-content-end align-items-center gap-2 flex-row"),c(e,"class","d-flex flex-column gap-4")},m(k,S){V(k,e,S),u(e,n),u(n,l),u(n,s),u(n,i),t[22](i),re(i,t[0].title),u(n,r),u(n,f),u(e,C),u(e,m),u(m,w),u(m,b),u(m,g),t[25](g),re(g,t[14]),u(e,O),u(e,B),u(B,y),u(y,E),E.checked=t[0].is_all_day,u(y,L),u(y,T),u(T,U),u(e,G),$&&$.m(e,null),u(e,j),u(e,W),u(W,z),u(W,oe),u(W,F),t[35](F),re(F,t[0].description),u(W,pe),u(W,me),u(e,He),u(e,ae),u(ae,ve),u(ae,Oe),u(ae,J),t[38](J),re(J,t[0].location),u(ae,Ve),u(ae,_e),u(e,Y),u(e,H),u(H,ue),u(ue,Ye),u(H,at),u(H,ye),Ie(Ee,ye,null),u(H,st),he&&he.m(H,null),u(H,rt),u(H,fe),Ge.m(fe,null),u(fe,it),ee&&ee.m(fe,null),R=!0,ot||(wt=[q(i,"focus",t[23]),q(i,"input",t[24]),q(g,"focus",t[26]),q(g,"input",t[27]),q(E,"change",t[28]),q(F,"focus",t[36]),q(F,"input",t[37]),q(J,"focus",t[39]),q(J,"input",t[40]),q(fe,"click",t[20])],ot=!0)},p(k,S){(!R||S[0]&2&&o!==(o=k[1]+"-title"))&&c(i,"name",o),(!R||S[0]&64)&&(i.disabled=k[6]),S[0]&1&&i.value!==k[0].title&&re(i,k[0].title),(!R||S[0]&32)&&se(i,"is-invalid",k[5]),(!R||S[0]&2&&D!==(D=k[1]+"-start-time"))&&c(g,"name",D),(!R||S[0]&64)&&(g.disabled=k[6]),S[0]&16384&&re(g,k[14]),(!R||S[0]&8)&&se(g,"is-invalid",k[3]),(!R||S[0]&2&&A!==(A=k[1]+"-all-day-check"))&&c(E,"id",A),S[0]&1&&(E.checked=k[0].is_all_day),(!R||S[0]&2&&ne!==(ne=k[1]+"-all-day-check"))&&c(T,"for",ne),k[0].is_all_day?$&&($.d(1),$=null):$?$.p(k,S):($=Rt(k),$.c(),$.m(e,j)),(!R||S[0]&2&&de!==(de=k[1]+"-description"))&&c(F,"name",de),(!R||S[0]&64)&&(F.disabled=k[6]),S[0]&1&&re(F,k[0].description),(!R||S[0]&16)&&se(F,"is-invalid",k[4]),(!R||S[0]&2&&Me!==(Me=k[1]+"-location"))&&c(J,"name",Me),(!R||S[0]&64)&&(J.disabled=k[6]),S[0]&1&&J.value!==k[0].location&&re(J,k[0].location),(!R||S[0]&8192)&&Ce!==(Ce=k[13].message+"")&&ie(Ye,Ce),(!R||S[0]&8192&&ge!==(ge="fw-lighter fst-italic text-"+k[13].type))&&c(ue,"class",ge),(!R||S[0]&64)&&se(ye,"d-none",!k[6]),k[18]&&he.p(k,S),k[17]?ee||(ee=zt(),ee.c(),ee.m(fe,null)):ee&&(ee.d(1),ee=null)},i(k){R||(P(Ee.$$.fragment,k),R=!0)},o(k){Z(Ee.$$.fragment,k),R=!1},d(k){k&&v(e),t[22](null),t[25](null),$&&$.d(),t[35](null),t[38](null),Te(Ee),he&&he.d(),Ge.d(),ee&&ee.d(),ot=!1,Dt(wt)}}}function ol(t,e,n){let l,a,s,i,o,r,{name:f=""}=e,{event:d={title:"Event Title",is_all_day:!0,description:"",location:"",start_time:new Date().toISOString(),end_time:new Date().toISOString()}}=e;const{actions:{reload:C}}=sn();let m=!1,w=d.id,_,b,g,D,O,B,y={message:"",type:"info"},E={title:"",description:"",start_time:"",end_time:"",location:"",is_all_day:!1},A=Fe(Re(je(d.start_time),Pe),"yyyy-MM-dd"),L=Fe(Re(je(d.start_time),Pe),"HH:mm"),T=Fe(Re(je(d.end_time),Pe),"HH:mm");const U=async()=>{if(!w){j("ID is not defined",0,"danger");return}try{await Kn(w),await C(),$e("set_calendar_event_success","interaction","Delete Calendar Event Successful",1),setTimeout(()=>{n(6,m=!1),n(21,E={...d,id:w}),j("Event Deleted",3e3,"success")},800)}catch(Y){$e("set_calendar_event_failed","interaction","Delete Calendar Event Failed",1),setTimeout(()=>{n(6,m=!1),console.error("Save failed:",Y),j("Failed to save event. Please try again.",7e3,"danger")},800)}},ne=()=>{n(6,m=!0),ll({title:"Delete Confirmation",message:"Are you sure you want to do this?  You won't be able to undo this.",confirmButtonLabel:"Yes",confirmButtonCSS:"btn-danger",callback:Y=>{Y?U():n(6,m=!1)}})},G=async()=>{if(!l){j("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}if(!r){let H=[];a&&H.push("Title is invalid"),s&&H.push("Description is invalid"),i&&H.push("Start time is invalid"),o&&H.push("End time is invalid"),j(H.join(". ")+".  Please address accordingly.",0,"danger");return}if(m)return;j("Saving ..."),n(6,m=!0);const Y=(H,ue)=>{const[Ce,Ye]=ue.split(":").map(Number);let ge=_n(H,Ce);return ge=hn(ge,Ye),ge};try{const H={title:d.title,description:d.description,start_time:Y(Nt(A,"yyyy-MM-dd",new Date),L).toISOString(),end_time:Y(Nt(A,"yyyy-MM-dd",new Date),T).toISOString(),location:d.location,is_all_day:d.is_all_day};w?await Xn(w,H):await Qn(H),await C(),$e("set_calendar_event_success","interaction",`Set Calendar Event Successful ${d.title}`,1),setTimeout(()=>{n(6,m=!1),n(21,E={...d,id:w}),j("Saved",3e3,"success")},800)}catch(H){$e("set_calendar_event_failed","interaction",`Set Calendar Event Failed ${d.title}`,1),setTimeout(()=>{n(6,m=!1),console.error("Save failed:",H),j("Failed to save event. Please try again.",7e3,"danger")},800)}},j=(Y,H=0,ue="info")=>{n(13,y.message=Y,y),n(13,y.type=ue,y),H&&setTimeout(()=>{n(13,y.message="",y)},H)};function W(Y){Be[Y?"unshift":"push"](()=>{_=Y,n(7,_)})}const z=()=>_.select();function ce(){d.title=this.value,n(0,d)}function oe(Y){Be[Y?"unshift":"push"](()=>{g=Y,n(9,g)})}const F=()=>g.select();function de(){A=this.value,n(14,A)}function pe(){d.is_all_day=this.checked,n(0,d)}function me(Y){Be[Y?"unshift":"push"](()=>{D=Y,n(10,D)})}const Ze=()=>D.select();function He(){L=this.value,n(15,L)}function ae(Y){Be[Y?"unshift":"push"](()=>{O=Y,n(11,O)})}const ve=()=>O.select();function We(){T=this.value,n(16,T)}function Oe(Y){Be[Y?"unshift":"push"](()=>{b=Y,n(8,b)})}const J=()=>b.select();function Me(){d.description=this.value,n(0,d)}function Ve(Y){Be[Y?"unshift":"push"](()=>{B=Y,n(12,B)})}const _e=()=>B.select();function qe(){d.location=this.value,n(0,d)}return t.$$set=Y=>{"name"in Y&&n(1,f=Y.name),"event"in Y&&n(0,d=Y.event)},t.$$.update=()=>{t.$$.dirty[0]&2097153&&n(17,l=E.title!==d.title||E.start_time!==d.start_time||E.end_time!==d.end_time||E.location!==d.location||E.is_all_day!==d.is_all_day),t.$$.dirty[0]&1&&n(5,a=d.title===""),t.$$.dirty[0]&1&&n(3,i=d.start_time===""),t.$$.dirty[0]&1&&n(2,o=d.end_time===""),t.$$.dirty[0]&60&&(r=!a&&!s&&!i&&!o)},n(4,s=!1),[d,f,o,i,s,a,m,_,b,g,D,O,B,y,A,L,T,l,w,ne,G,E,W,z,ce,oe,F,de,pe,me,Ze,He,ae,ve,We,Oe,J,Me,Ve,_e,qe]}class rn extends Se{constructor(e){super(),Ne(this,e,ol,il,ke,{name:1,event:0},null,[-1,-1])}}function Zt(t,e,n){const l=t.slice();return l[9]=e[n],l[11]=n,l}function ul(t){let e,n;return e=new rn({props:{name:"item-new"}}),{c(){De(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,a){Ie(e,l,a),n=!0},p:le,i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){Z(e.$$.fragment,l),n=!1},d(l){Te(e,l)}}}function cl(t){let e,n=`<i class="bi bi-plus"></i>
				Add New Announcement`;return{c(){e=h("span"),e.innerHTML=n,this.h()},l(l){e=p(l,"SPAN",{slot:!0,"data-svelte-h":!0}),x(e)!=="svelte-1ykpm6n"&&(e.innerHTML=n),this.h()},h(){c(e,"slot","label")},m(l,a){V(l,e,a)},p:le,d(l){l&&v(e)}}}function fl(t){let e;return{c(){e=X("Loading ...")},l(n){e=K(n,"Loading ...")},m(n,l){V(n,e,l)},p:le,i:le,o:le,d(n){n&&v(e)}}}function dl(t){let e,n,l=_t(t[2]),a=[];for(let i=0;i<l.length;i+=1)a[i]=Qt(Zt(t,l,i));const s=i=>Z(a[i],1,1,()=>{a[i]=null});return{c(){e=h("ul");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=p(i,"UL",{class:!0});var o=I(e);for(let r=0;r<a.length;r+=1)a[r].l(o);o.forEach(v),this.h()},h(){c(e,"class","list-group list-group-flush")},m(i,o){V(i,e,o);for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(e,null);n=!0},p(i,o){if(o&101){l=_t(i[2]);let r;for(r=0;r<l.length;r+=1){const f=Zt(i,l,r);a[r]?(a[r].p(f,o),P(a[r],1)):(a[r]=Qt(f),a[r].c(),P(a[r],1),a[r].m(e,null))}for(et(),r=l.length;r<a.length;r+=1)s(r);tt()}},i(i){if(!n){for(let o=0;o<l.length;o+=1)P(a[o]);n=!0}},o(i){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)Z(a[o]);n=!1},d(i){i&&v(e),Kt(a,i)}}}function Wt(t){let e,n=t[6](t[9].start_time)+"",l,a,s=t[6](t[9].end_time)+"",i;return{c(){e=h("span"),l=X(n),a=X(" to "),i=X(s),this.h()},l(o){e=p(o,"SPAN",{class:!0});var r=I(e);l=K(r,n),a=K(r," to "),i=K(r,s),r.forEach(v),this.h()},h(){c(e,"class","d-block")},m(o,r){V(o,e,r),u(e,l),u(e,a),u(e,i)},p(o,r){r&4&&n!==(n=o[6](o[9].start_time)+"")&&ie(l,n),r&4&&s!==(s=o[6](o[9].end_time)+"")&&ie(i,s)},d(o){o&&v(e)}}}function qt(t){let e,n=t[9].description+"",l;return{c(){e=h("span"),l=X(n),this.h()},l(a){e=p(a,"SPAN",{class:!0});var s=I(e);l=K(s,n),s.forEach(v),this.h()},h(){c(e,"class","d-block small")},m(a,s){V(a,e,s),u(e,l)},p(a,s){s&4&&n!==(n=a[9].description+"")&&ie(l,n)},d(a){a&&v(e)}}}function Gt(t){let e,n=t[9].location+"",l;return{c(){e=h("em"),l=X(n),this.h()},l(a){e=p(a,"EM",{class:!0});var s=I(e);l=K(s,n),s.forEach(v),this.h()},h(){c(e,"class","d-block small fw-lighter")},m(a,s){V(a,e,s),u(e,l)},p(a,s){s&4&&n!==(n=a[9].location+"")&&ie(l,n)},d(a){a&&v(e)}}}function Jt(t){let e,n;return e=new tn({props:{drawerTitle:"Edit Calendar Event",id:"calendar-event-form"+t[11],$$slots:{label:[_l],default:[ml]},$$scope:{ctx:t}}}),{c(){De(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,a){Ie(e,l,a),n=!0},p(l,a){const s={};a&4100&&(s.$$scope={dirty:a,ctx:l}),e.$set(s)},i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){Z(e.$$.fragment,l),n=!1},d(l){Te(e,l)}}}function ml(t){let e,n;return e=new rn({props:{event:t[9],name:"item"+t[11]}}),{c(){De(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,a){Ie(e,l,a),n=!0},p(l,a){const s={};a&4&&(s.event=l[9]),e.$set(s)},i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){Z(e.$$.fragment,l),n=!1},d(l){Te(e,l)}}}function _l(t){let e;return{c(){e=h("i"),this.h()},l(n){e=p(n,"I",{slot:!0,class:!0}),I(e).forEach(v),this.h()},h(){c(e,"slot","label"),c(e,"class","bi bi-pencil")},m(n,l){V(n,e,l)},p:le,d(n){n&&v(e)}}}function Qt(t){let e,n,l,a,s,i=t[5](t[9].start_time)+"",o,r,f,d,C=t[9].title+"",m,w,_,b,g,D,O,B,y=!t[9].is_all_day&&Wt(t),E=t[9].description&&qt(t),A=t[9].location&&Gt(t),L=t[0]&&Jt(t);return{c(){e=h("li"),n=h("div"),l=h("div"),a=h("div"),s=h("strong"),o=X(i),r=N(),f=h("div"),d=h("strong"),m=X(C),w=N(),y&&y.c(),_=N(),E&&E.c(),b=N(),A&&A.c(),g=N(),D=h("div"),L&&L.c(),O=N(),this.h()},l(T){e=p(T,"LI",{class:!0});var U=I(e);n=p(U,"DIV",{class:!0});var ne=I(n);l=p(ne,"DIV",{class:!0});var G=I(l);a=p(G,"DIV",{style:!0});var j=I(a);s=p(j,"STRONG",{});var W=I(s);o=K(W,i),W.forEach(v),j.forEach(v),r=M(G),f=p(G,"DIV",{});var z=I(f);d=p(z,"STRONG",{});var ce=I(d);m=K(ce,C),ce.forEach(v),w=M(z),y&&y.l(z),_=M(z),E&&E.l(z),b=M(z),A&&A.l(z),z.forEach(v),G.forEach(v),g=M(ne),D=p(ne,"DIV",{});var oe=I(D);L&&L.l(oe),oe.forEach(v),ne.forEach(v),O=M(U),U.forEach(v),this.h()},h(){un(a,"width","85px"),c(l,"class","d-flex flex-sm-column flex-md-row flex-xl-row flex-lg-row gap-3"),c(n,"class","d-flex justify-content-between"),c(e,"class","list-group-item")},m(T,U){V(T,e,U),u(e,n),u(n,l),u(l,a),u(a,s),u(s,o),u(l,r),u(l,f),u(f,d),u(d,m),u(f,w),y&&y.m(f,null),u(f,_),E&&E.m(f,null),u(f,b),A&&A.m(f,null),u(n,g),u(n,D),L&&L.m(D,null),u(e,O),B=!0},p(T,U){(!B||U&4)&&i!==(i=T[5](T[9].start_time)+"")&&ie(o,i),(!B||U&4)&&C!==(C=T[9].title+"")&&ie(m,C),T[9].is_all_day?y&&(y.d(1),y=null):y?y.p(T,U):(y=Wt(T),y.c(),y.m(f,_)),T[9].description?E?E.p(T,U):(E=qt(T),E.c(),E.m(f,b)):E&&(E.d(1),E=null),T[9].location?A?A.p(T,U):(A=Gt(T),A.c(),A.m(f,null)):A&&(A.d(1),A=null),T[0]?L?(L.p(T,U),U&1&&P(L,1)):(L=Jt(T),L.c(),P(L,1),L.m(D,null)):L&&(et(),Z(L,1,1,()=>{L=null}),tt())},i(T){B||(P(L),B=!0)},o(T){Z(L),B=!1},d(T){T&&v(e),y&&y.d(),E&&E.d(),A&&A.d(),L&&L.d()}}}function hl(t){let e,n,l="Announcements",a,s,i,o,r,f,d;i=new tn({props:{drawerTitle:"New Announcement",id:"calendar-event-form-new",$$slots:{label:[cl],default:[ul]},$$scope:{ctx:t}}});const C=[dl,fl],m=[];function w(_,b){return _[1]?0:1}return r=w(t),f=m[r]=C[r](t),{c(){e=h("div"),n=h("div"),n.textContent=l,a=N(),s=h("div"),De(i.$$.fragment),o=N(),f.c(),this.h()},l(_){e=p(_,"DIV",{class:!0});var b=I(e);n=p(b,"DIV",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-rw6gj3"&&(n.textContent=l),a=M(b),s=p(b,"DIV",{class:!0});var g=I(s);we(i.$$.fragment,g),g.forEach(v),o=M(b),f.l(b),b.forEach(v),this.h()},h(){c(n,"class","card-header"),c(s,"class","card-body"),c(e,"class","card")},m(_,b){V(_,e,b),u(e,n),u(e,a),u(e,s),Ie(i,s,null),u(e,o),m[r].m(e,null),d=!0},p(_,[b]){const g={};b&4096&&(g.$$scope={dirty:b,ctx:_}),i.$set(g);let D=r;r=w(_),r===D?m[r].p(_,b):(et(),Z(m[D],1,1,()=>{m[D]=null}),tt(),f=m[r],f?f.p(_,b):(f=m[r]=C[r](_),f.c()),P(f,1),f.m(e,null))},i(_){d||(P(i.$$.fragment,_),P(f),d=!0)},o(_){Z(i.$$.fragment,_),Z(f),d=!1},d(_){_&&v(e),Te(i),m[r].d()}}}function pl(t,e,n){let l,a;const{actions:{featureIsEnabled:s}}=$t(),{stores:{ready:i,dbData:o},actions:{reload:r}}=sn();Et(t,i,m=>n(1,l=m)),Et(t,o,m=>n(2,a=m));let f=!1;return Xt(async()=>{n(0,f=s(xt.EditAnnouncement)),await r()}),[f,l,a,i,o,m=>{const w=je(m),_=Re(w,Pe);return Fe(_,"MMM, dd")},m=>{const w=je(m),_=Re(w,Pe);return Fe(_,"h:mm aa")}]}class vl extends Se{constructor(e){super(),Ne(this,e,pl,hl,ke,{})}}function gl(t,e,n){const l=t.slice();return l[0]=e[n],l}function bl(t){let e,n,l,a=t[0].when+"",s,i,o,r=t[0].title+"",f,d,C,m,w,_=t[0].details+"",b;return{c(){e=h("li"),n=h("strong"),l=h("small"),s=X(a),i=h("br"),o=N(),f=X(r),d=h("br"),C=N(),m=h("em"),w=new cn(!1),b=N(),this.h()},l(g){e=p(g,"LI",{class:!0});var D=I(e);n=p(D,"STRONG",{});var O=I(n);l=p(O,"SMALL",{});var B=I(l);s=K(B,a),B.forEach(v),O.forEach(v),i=p(D,"BR",{}),o=M(D),f=K(D,r),d=p(D,"BR",{}),C=M(D),m=p(D,"EM",{class:!0});var y=I(m);w=fn(y,!1),y.forEach(v),b=M(D),D.forEach(v),this.h()},h(){w.a=null,c(m,"class","small fw-lighter"),c(e,"class","list-group-item")},m(g,D){V(g,e,D),u(e,n),u(n,l),u(l,s),u(e,i),u(e,o),u(e,f),u(e,d),u(e,C),u(e,m),w.m(_,m),u(e,b)},p:le,d(g){g&&v(e)}}}function Dl(t){let e,n,l="Announcements",a,s,i=_t(dn),o=[];for(let r=0;r<i.length;r+=1)o[r]=bl(gl(t,i,r));return{c(){e=h("div"),n=h("div"),n.textContent=l,a=N(),s=h("ul");for(let r=0;r<o.length;r+=1)o[r].c();this.h()},l(r){e=p(r,"DIV",{class:!0});var f=I(e);n=p(f,"DIV",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-rw6gj3"&&(n.textContent=l),a=M(f),s=p(f,"UL",{class:!0});var d=I(s);for(let C=0;C<o.length;C+=1)o[C].l(d);d.forEach(v),f.forEach(v),this.h()},h(){c(n,"class","card-header"),c(s,"class","list-group list-group-flush"),c(e,"class","card")},m(r,f){V(r,e,f),u(e,n),u(e,a),u(e,s);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(s,null)},p:le,i:le,o:le,d(r){r&&v(e),Kt(o,r)}}}class wl extends Se{constructor(e){super(),Ne(this,e,null,Dl,ke,{})}}function Il(t){let e,n;return e=new wl({}),{c(){De(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,a){Ie(e,l,a),n=!0},i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){Z(e.$$.fragment,l),n=!1},d(l){Te(e,l)}}}function Tl(t){let e,n;return e=new vl({}),{c(){De(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,a){Ie(e,l,a),n=!0},i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){Z(e.$$.fragment,l),n=!1},d(l){Te(e,l)}}}function Cl(t){let e,n,l,a;const s=[Tl,Il],i=[];function o(r,f){return r[0]?0:1}return e=o(t),n=i[e]=s[e](t),{c(){n.c(),l=kt()},l(r){n.l(r),l=kt()},m(r,f){i[e].m(r,f),V(r,l,f),a=!0},p(r,[f]){let d=e;e=o(r),e!==d&&(et(),Z(i[d],1,1,()=>{i[d]=null}),tt(),n=i[e],n||(n=i[e]=s[e](r),n.c()),P(n,1),n.m(l.parentNode,l))},i(r){a||(P(n),a=!0)},o(r){Z(n),a=!1},d(r){r&&v(l),i[e].d(r)}}}function yl(t,e,n){const{actions:{featureIsEnabled:l}}=$t();let a=!1;return Xt(async()=>{n(0,a=l(xt.ViewDBAnnouncements))}),[a]}class Al extends Se{constructor(e){super(),Ne(this,e,yl,Cl,ke,{})}}export{Al as A,tn as D,$e as t};
