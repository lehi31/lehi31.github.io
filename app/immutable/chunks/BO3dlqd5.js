import{s as ae,c as oe,u as ie,g as ce,a as ue,n as x,r as de,j as $}from"./L5Y2JTVC.js";import{S as ne,i as le,d as _,t as me,a as fe,s as A,f as s,c as se,e as r,k as S,l as y,o as T,g as R,r as B,u as H,p as O,z as G}from"./BIn-6gMk.js";import{w as be}from"./CsXvd8Uc.js";import{U as k,g as ve}from"./CtEAH_B1.js";var g=[];for(var N=0;N<256;++N)g.push((N+256).toString(16).slice(1));function _e(e,t=0){return(g[e[t+0]]+g[e[t+1]]+g[e[t+2]]+g[e[t+3]]+"-"+g[e[t+4]]+g[e[t+5]]+"-"+g[e[t+6]]+g[e[t+7]]+"-"+g[e[t+8]]+g[e[t+9]]+"-"+g[e[t+10]]+g[e[t+11]]+g[e[t+12]]+g[e[t+13]]+g[e[t+14]]+g[e[t+15]]).toLowerCase()}var q,ge=new Uint8Array(16);function he(){if(!q&&(q=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!q))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return q(ge)}var Se=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const ee={randomUUID:Se};function ye(e,t,n){if(ee.randomUUID&&!e)return ee.randomUUID();e=e||{};var l=e.random||(e.rng||he)();return l[6]=l[6]&15|64,l[8]=l[8]&63|128,_e(l)}function Be(e){let t,n,l,i,h,c,E,u,b,m,f;const d=e[8].default,v=oe(d,e,e[7],null);return{c(){t=B("div"),n=B("div"),l=B("h4"),i=H(e[1]),h=O(),c=B("button"),u=O(),b=B("div"),v&&v.c(),this.h()},l(a){t=S(a,"DIV",{class:!0,tabindex:!0,id:!0,"aria-labelledby":!0});var o=y(t);n=S(o,"DIV",{class:!0});var U=y(n);l=S(U,"H4",{class:!0,id:!0});var j=y(l);i=T(j,e[1]),j.forEach(_),h=R(U),c=S(U,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-bs-target":!0,"aria-label":!0}),y(c).forEach(_),U.forEach(_),u=R(o),b=S(o,"DIV",{class:!0});var L=y(b);v&&v.l(L),L.forEach(_),o.forEach(_),this.h()},h(){s(l,"class","offcanvas-title"),s(l,"id",e[4]),s(c,"type","button"),s(c,"class","btn-close"),s(c,"data-bs-dismiss","offcanvas"),s(c,"data-bs-target",E="#"+e[0]),s(c,"aria-label","Close"),s(n,"class","offcanvas-header"),s(b,"class","offcanvas-body"),s(t,"class",m=e[3]+" "+e[2]),s(t,"tabindex","-1"),s(t,"id",e[0]),s(t,"aria-labelledby",e[4])},m(a,o){se(a,t,o),r(t,n),r(n,l),r(l,i),r(n,h),r(n,c),r(t,u),r(t,b),v&&v.m(b,null),f=!0},p(a,[o]){(!f||o&2)&&A(i,a[1]),(!f||o&1&&E!==(E="#"+a[0]))&&s(c,"data-bs-target",E),v&&v.p&&(!f||o&128)&&ie(v,d,a,a[7],f?ue(d,a[7],o,null):ce(a[7]),null),(!f||o&12&&m!==(m=a[3]+" "+a[2]))&&s(t,"class",m),(!f||o&1)&&s(t,"id",a[0])},i(a){f||(fe(v,a),f=!0)},o(a){me(v,a),f=!1},d(a){a&&_(t),v&&v.d(a)}}}function Ee(e,t,n){let l,i,{$$slots:h={},$$scope:c}=t,{id:E}=t,{title:u}=t,{breakpoint:b=""}=t,{placement:m="end"}=t;const f=ye();return e.$$set=d=>{"id"in d&&n(0,E=d.id),"title"in d&&n(1,u=d.title),"breakpoint"in d&&n(5,b=d.breakpoint),"placement"in d&&n(6,m=d.placement),"$$scope"in d&&n(7,c=d.$$scope)},e.$$.update=()=>{e.$$.dirty&32&&n(3,l=`offcanvas${b===""?"":"-"+b}`),e.$$.dirty&64&&n(2,i=`offcanvas-${m}`)},[E,u,i,l,f,b,m,c,h]}class Te extends ne{constructor(t){super(),le(this,t,Ee,Be,ae,{id:0,title:1,breakpoint:5,placement:6})}}function ke(e,t){typeof window<"u"&&window.gtag?window.gtag("event",e,t||{}):console.warn("gtag is not available")}function He(e,t,n,l){ke(e,{event_category:t,event_label:n,value:l})}function Ce(e){let t,n,l,i,h,c,E,u,b,m,f,d,v,a,o,U,j,L,w,P,Y,z,Q;return{c(){t=B("div"),n=B("div"),l=B("div"),i=B("div"),h=B("h5"),c=H(e[0]),E=O(),u=B("button"),b=O(),m=B("div"),f=B("p"),d=H(e[1]),v=O(),a=B("div"),o=B("button"),U=H(e[2]),L=O(),w=B("button"),P=H(e[4]),this.h()},l(C){t=S(C,"DIV",{class:!0,tabindex:!0});var I=y(t);n=S(I,"DIV",{class:!0});var W=y(n);l=S(W,"DIV",{class:!0});var V=y(l);i=S(V,"DIV",{class:!0});var F=y(i);h=S(F,"H5",{class:!0});var J=y(h);c=T(J,e[0]),J.forEach(_),E=R(F),u=S(F,"BUTTON",{type:!0,class:!0,"aria-label":!0});var re=y(u);re.forEach(_),F.forEach(_),b=R(V),m=S(V,"DIV",{class:!0});var K=y(m);f=S(K,"P",{});var X=y(f);d=T(X,e[1]),X.forEach(_),K.forEach(_),v=R(V),a=S(V,"DIV",{class:!0});var M=y(a);o=S(M,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0});var Z=y(o);U=T(Z,e[2]),Z.forEach(_),L=R(M),w=S(M,"BUTTON",{type:!0,class:!0});var p=y(w);P=T(p,e[4]),p.forEach(_),M.forEach(_),V.forEach(_),W.forEach(_),I.forEach(_),this.h()},h(){s(h,"class","modal-title"),s(u,"type","button"),s(u,"class","btn-close"),s(u,"aria-label",e[2]),s(i,"class","modal-header"),s(m,"class","modal-body"),s(o,"type","button"),s(o,"class",j="btn "+e[3]+" svelte-ydpc16"),s(o,"data-bs-dismiss","modal"),s(w,"type","button"),s(w,"class",Y="btn "+e[5]+" svelte-ydpc16"),s(a,"class","modal-footer"),s(l,"class","modal-content"),s(n,"class","modal-dialog"),s(t,"class","modal svelte-ydpc16"),s(t,"tabindex","-1")},m(C,I){se(C,t,I),r(t,n),r(n,l),r(l,i),r(i,h),r(h,c),r(i,E),r(i,u),r(l,b),r(l,m),r(m,f),r(f,d),r(l,v),r(l,a),r(a,o),r(o,U),r(a,L),r(a,w),r(w,P),z||(Q=[G(u,"click",e[8]),G(o,"click",e[9]),G(w,"click",e[10])],z=!0)},p(C,[I]){I&1&&A(c,C[0]),I&4&&s(u,"aria-label",C[2]),I&2&&A(d,C[1]),I&4&&A(U,C[2]),I&8&&j!==(j="btn "+C[3]+" svelte-ydpc16")&&s(o,"class",j),I&16&&A(P,C[4]),I&32&&Y!==(Y="btn "+C[5]+" svelte-ydpc16")&&s(w,"class",Y)},i:x,o:x,d(C){C&&_(t),z=!1,de(Q)}}}function Ie(e,t,n){let{title:l=""}=t,{message:i=""}=t,{rejectButtonLabel:h="No"}=t,{rejectButtonCSS:c="btn-secondary"}=t,{confirmButtonLabel:E="Yes"}=t,{confirmButtonCSS:u="btn-primary"}=t,{callback:b}=t;function m(a){b(a)}const f=()=>m(!1),d=()=>m(!1),v=()=>m(!0);return e.$$set=a=>{"title"in a&&n(0,l=a.title),"message"in a&&n(1,i=a.message),"rejectButtonLabel"in a&&n(2,h=a.rejectButtonLabel),"rejectButtonCSS"in a&&n(3,c=a.rejectButtonCSS),"confirmButtonLabel"in a&&n(4,E=a.confirmButtonLabel),"confirmButtonCSS"in a&&n(5,u=a.confirmButtonCSS),"callback"in a&&n(7,b=a.callback)},[l,i,h,c,E,u,m,b,f,d,v]}class Ue extends ne{constructor(t){super(),le(this,t,Ie,Ce,ae,{title:0,message:1,rejectButtonLabel:2,rejectButtonCSS:3,confirmButtonLabel:4,confirmButtonCSS:5,callback:7})}}let te;function Pe(e){const t=document.createElement("div");document.body.appendChild(t);const n={title:"Are you sure?",message:"Are you sure you want to do that?  You will not be able to undo this.",callback:()=>{console.log("callback")}};e.title&&(n.title=e.title),e.message&&(n.message=e.message),e.rejectButtonLabel&&(n.rejectButtonLabel=e.rejectButtonLabel),e.rejectButtonCSS&&(n.rejectButtonCSS=e.rejectButtonCSS),e.confirmButtonLabel&&(n.confirmButtonLabel=e.confirmButtonLabel),e.confirmButtonCSS&&(n.confirmButtonCSS=e.confirmButtonCSS),n.callback=l=>{console.log("Confirm result:",l),te.$destroy(),document.body.removeChild(t),e.callback&&typeof e.callback=="function"&&e.callback(l)},te=new Ue({target:t,props:n})}var we=(e=>(e.EditSacramentProgram="edit-sacrament-program",e.EditDBCalendarEvent="edit-calendar-events",e.EditMemberListItem="edit-member-list-item",e.ViewDBMemberListItem="view-db-member-list-item",e.UseCallings="use-callings",e))(we||{});const je=[{name:"edit-sacrament-program",roles:[k.Root,k.Admin],turnedOn:!0},{name:"edit-calendar-events",roles:[k.Root,k.Admin,k.Primary,k.ReliefSociety,k.EldersQuorum,k.YoungWomen,k.SundaySchool],turnedOn:!0},{name:"view-db-member-list-item",roles:[k.Root,k.Admin],turnedOn:!0},{name:"edit-member-list-item",roles:[k.Root,k.Admin],turnedOn:!0},{name:"use-callings",roles:[k.Root],turnedOn:!0}],{stores:{currentUser:De}}=ve();let D=null;const Le=()=>{const e=be(je);return D={stores:{featureFlags:e},actions:{featureIsEnabled:n=>{const i=$(e).find(u=>u.name===n);if(!i)return!1;const c=$(De).role;return!!i.roles.find(u=>u===c)&&i.turnedOn}}},D},Ye=()=>D?.stores&&Object.keys(D.stores).length>0&&D?.actions&&Object.keys(D.actions).length>0?D:Le();export{Te as D,we as F,Pe as c,Ye as g,He as t,ye as v};
