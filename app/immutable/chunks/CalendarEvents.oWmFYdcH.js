import{s as Ze,k as qt,r as Qe,n as ve,j as Te,b as et,o as Bt}from"./scheduler.C8jfK40o.js";import{S as Xe,i as Je,e as m,s as S,n as z,c as Ae,b as h,d as y,p as q,g as V,f as d,q as G,h as Le,j as u,x as le,D as x,k as M,r as f,E as ot,m as Me,C as H,u as ne,t as se,a as ae,l as Be,y as ie,F as zt,w as Pt,v as Ot,B as tt,z as Gt,H as lt,I as nt}from"./index.DwDFp6kI.js";import{g as Ut,F as Rt}from"./feature-flag.state.GIsuWZC2.js";import{t as Ft,f as De,p as Ne,e as He}from"./Header.tokZXbo8.js";import{S as Ht}from"./Spinner.DMJ61URz.js";import{g as jt,t as Se,p as ft,u as Kt,c as Wt,d as Yt,A as Zt}from"./announcements.data.xvjkTIDC.js";import{t as Ye,D as Qt,v as Xt}from"./Drawer.fcQ4L9WJ.js";import{c as Jt}from"./confirm.service.CfVVWpUH.js";import{A as Ve,B as ut}from"./app.state.axKAGfzM.js";function $t(n,e){const t=Ft(n);return t.setHours(e),t}function xt(n,e){const t=Ft(n);return t.setMinutes(e),t}function ct(n){let e,t,l="Date*",s,a,r,i,o;return{c(){e=m("div"),t=m("div"),t.textContent=l,s=S(),a=m("input"),this.h()},l(g){e=h(g,"DIV",{class:!0});var v=y(e);t=h(v,"DIV",{"data-svelte-h":!0}),q(t)!=="svelte-1992pd0"&&(t.textContent=l),s=V(v),a=h(v,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),v.forEach(d),this.h()},h(){u(a,"name",r=n[1]+"-start-time"),u(a,"type","date"),u(a,"class","form-control"),u(a,"placeholder","Event title"),a.disabled=n[6],a.required=!0,le(a,"is-invalid",n[3]),u(e,"class","d-flex flex-column gap-2")},m(g,v){M(g,e,v),f(e,t),f(e,s),f(e,a),n[27](a),x(a,n[14]),i||(o=[H(a,"focus",n[28]),H(a,"input",n[29])],i=!0)},p(g,v){v[0]&2&&r!==(r=g[1]+"-start-time")&&u(a,"name",r),v[0]&64&&(a.disabled=g[6]),v[0]&16384&&x(a,g[14]),v[0]&8&&le(a,"is-invalid",g[3])},d(g){g&&d(e),n[27](null),i=!1,Qe(o)}}}function dt(n){let e,t,l,s,a,r,i,o,g,v,k,c,_=!n[0].is_all_day&&_t(n);return{c(){e=m("div"),t=m("div"),l=m("input"),a=S(),r=m("label"),i=z("All Day Event"),g=S(),_&&_.c(),v=ie(),this.h()},l(b){e=h(b,"DIV",{});var I=y(e);t=h(I,"DIV",{class:!0});var p=y(t);l=h(p,"INPUT",{class:!0,type:!0,id:!0}),a=V(p),r=h(p,"LABEL",{class:!0,for:!0});var E=y(r);i=G(E,"All Day Event"),E.forEach(d),p.forEach(d),I.forEach(d),g=V(b),_&&_.l(b),v=ie(),this.h()},h(){u(l,"class","form-check-input"),u(l,"type","checkbox"),u(l,"id",s=n[1]+"-all-day-check"),u(r,"class","form-check-label"),u(r,"for",o=n[1]+"-all-day-check"),u(t,"class","form-check d-flex align-items-center gap-2")},m(b,I){M(b,e,I),f(e,t),f(t,l),l.checked=n[0].is_all_day,f(t,a),f(t,r),f(r,i),M(b,g,I),_&&_.m(b,I),M(b,v,I),k||(c=H(l,"change",n[30]),k=!0)},p(b,I){I[0]&2&&s!==(s=b[1]+"-all-day-check")&&u(l,"id",s),I[0]&1&&(l.checked=b[0].is_all_day),I[0]&2&&o!==(o=b[1]+"-all-day-check")&&u(r,"for",o),b[0].is_all_day?_&&(_.d(1),_=null):_?_.p(b,I):(_=_t(b),_.c(),_.m(v.parentNode,v))},d(b){b&&(d(e),d(g),d(v)),_&&_.d(b),k=!1,c()}}}function _t(n){let e,t,l="Start time*",s,a,r,i,o,g,v="End time*",k,c,_,b,I;return{c(){e=m("div"),t=m("div"),t.textContent=l,s=S(),a=m("input"),i=S(),o=m("div"),g=m("div"),g.textContent=v,k=S(),c=m("input"),this.h()},l(p){e=h(p,"DIV",{class:!0});var E=y(e);t=h(E,"DIV",{"data-svelte-h":!0}),q(t)!=="svelte-gzi1xn"&&(t.textContent=l),s=V(E),a=h(E,"INPUT",{name:!0,type:!0,step:!0,class:!0}),E.forEach(d),i=V(p),o=h(p,"DIV",{class:!0});var w=y(o);g=h(w,"DIV",{"data-svelte-h":!0}),q(g)!=="svelte-ig3ngi"&&(g.textContent=v),k=V(w),c=h(w,"INPUT",{name:!0,type:!0,step:!0,class:!0}),w.forEach(d),this.h()},h(){u(a,"name",r=n[1]+"-start-time"),u(a,"type","time"),u(a,"step",900),u(a,"class","form-control"),a.disabled=n[6],a.required=!0,le(a,"is-invalid",n[3]),u(e,"class","d-flex flex-column gap-2"),u(c,"name",_=n[1]+"-end-time"),u(c,"type","time"),u(c,"step",900),u(c,"class","form-control"),c.disabled=n[6],c.required=!0,le(c,"is-invalid",n[2]),u(o,"class","d-flex flex-column gap-2")},m(p,E){M(p,e,E),f(e,t),f(e,s),f(e,a),n[31](a),x(a,n[15]),M(p,i,E),M(p,o,E),f(o,g),f(o,k),f(o,c),n[34](c),x(c,n[16]),b||(I=[H(a,"focus",n[32]),H(a,"input",n[33]),H(c,"focus",n[35]),H(c,"input",n[36])],b=!0)},p(p,E){E[0]&2&&r!==(r=p[1]+"-start-time")&&u(a,"name",r),E[0]&64&&(a.disabled=p[6]),E[0]&32768&&x(a,p[15]),E[0]&8&&le(a,"is-invalid",p[3]),E[0]&2&&_!==(_=p[1]+"-end-time")&&u(c,"name",_),E[0]&64&&(c.disabled=p[6]),E[0]&65536&&x(c,p[16]),E[0]&4&&le(c,"is-invalid",p[2])},d(p){p&&(d(e),d(i),d(o)),n[31](null),n[34](null),b=!1,Qe(I)}}}function mt(n){let e,t="<span>Delete</span>",l,s;return{c(){e=m("button"),e.innerHTML=t,this.h()},l(a){e=h(a,"BUTTON",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-1bw2173"&&(e.innerHTML=t),this.h()},h(){u(e,"class","btn btn-danger position-relative")},m(a,r){M(a,e,r),l||(s=H(e,"click",n[20]),l=!0)},p:ve,d(a){a&&d(e),l=!1,s()}}}function el(n){let e,t="Create";return{c(){e=m("span"),e.textContent=t},l(l){e=h(l,"SPAN",{"data-svelte-h":!0}),q(e)!=="svelte-1wf0js6"&&(e.textContent=t)},m(l,s){M(l,e,s)},d(l){l&&d(e)}}}function tl(n){let e,t="Save";return{c(){e=m("span"),e.textContent=t},l(l){e=h(l,"SPAN",{"data-svelte-h":!0}),q(e)!=="svelte-l126tb"&&(e.textContent=t)},m(l,s){M(l,e,s)},d(l){l&&d(e)}}}function ht(n){let e,t='<span class="visually-hidden">Item not saved</span>';return{c(){e=m("span"),e.innerHTML=t,this.h()},l(l){e=h(l,"SPAN",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-1g0a6ie"&&(e.innerHTML=t),this.h()},h(){u(e,"class","position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle")},m(l,s){M(l,e,s)},d(l){l&&d(e)}}}function ll(n){let e,t,l,s="Title*",a,r,i,o,g,v="Event title. i.e. Ward Conference, Ward BBQ Night",k,c,_,b="Type*",I,p,E,w="Calendar Event",C,A="Announcement",P,O,T,U,D,F="Description",$,R,re,_e,oe,je="Describe the event to the best of your knowledge",Pe,te,me,qe="Location",Oe,K,ge,Ue,fe,ze="Location can be physical or virtual",Re,Q,ue,be=n[13].message+"",Ee,ke,Fe,ce,N,X,he,ee,Ie,j,$e,st,W=n[18]&&ct(n),Y=n[18]&&dt(n);N=new Ht({props:{size:"xs"}});let Z=n[17]&&mt(n);function at(L,B){return L[17]?tl:el}let Ge=at(n),de=Ge(n),J=n[19]&&ht();return{c(){e=m("div"),t=m("div"),l=m("div"),l.textContent=s,a=S(),r=m("input"),o=S(),g=m("small"),g.textContent=v,k=S(),c=m("div"),_=m("div"),_.textContent=b,I=S(),p=m("select"),E=m("option"),E.textContent=w,C=m("option"),C.textContent=A,P=S(),W&&W.c(),O=S(),Y&&Y.c(),T=S(),U=m("div"),D=m("div"),D.textContent=F,$=S(),R=m("textarea"),_e=S(),oe=m("small"),oe.textContent=je,Pe=S(),te=m("div"),me=m("div"),me.textContent=qe,Oe=S(),K=m("input"),Ue=S(),fe=m("small"),fe.textContent=ze,Re=S(),Q=m("div"),ue=m("small"),Ee=z(be),Fe=S(),ce=m("span"),Ae(N.$$.fragment),X=S(),Z&&Z.c(),he=S(),ee=m("button"),de.c(),Ie=S(),J&&J.c(),this.h()},l(L){e=h(L,"DIV",{class:!0});var B=y(e);t=h(B,"DIV",{class:!0});var Ce=y(t);l=h(Ce,"DIV",{"data-svelte-h":!0}),q(l)!=="svelte-1w3dtko"&&(l.textContent=s),a=V(Ce),r=h(Ce,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),o=V(Ce),g=h(Ce,"SMALL",{class:!0,"data-svelte-h":!0}),q(g)!=="svelte-twd1iv"&&(g.textContent=v),Ce.forEach(d),k=V(B),c=h(B,"DIV",{class:!0});var Ke=y(c);_=h(Ke,"DIV",{"data-svelte-h":!0}),q(_)!=="svelte-5u2urk"&&(_.textContent=b),I=V(Ke),p=h(Ke,"SELECT",{class:!0,"aria-label":!0});var xe=y(p);E=h(xe,"OPTION",{"data-svelte-h":!0}),q(E)!=="svelte-5qncf7"&&(E.textContent=w),C=h(xe,"OPTION",{"data-svelte-h":!0}),q(C)!=="svelte-lrqs0u"&&(C.textContent=A),xe.forEach(d),Ke.forEach(d),P=V(B),W&&W.l(B),O=V(B),Y&&Y.l(B),T=V(B),U=h(B,"DIV",{class:!0});var ye=y(U);D=h(ye,"DIV",{"data-svelte-h":!0}),q(D)!=="svelte-1x8itd0"&&(D.textContent=F),$=V(ye),R=h(ye,"TEXTAREA",{name:!0,class:!0}),y(R).forEach(d),_e=V(ye),oe=h(ye,"SMALL",{class:!0,"data-svelte-h":!0}),q(oe)!=="svelte-bky2ve"&&(oe.textContent=je),ye.forEach(d),Pe=V(B),te=h(B,"DIV",{class:!0});var we=y(te);me=h(we,"DIV",{"data-svelte-h":!0}),q(me)!=="svelte-szqbut"&&(me.textContent=qe),Oe=V(we),K=h(we,"INPUT",{name:!0,type:!0,class:!0}),Ue=V(we),fe=h(we,"SMALL",{class:!0,"data-svelte-h":!0}),q(fe)!=="svelte-1drtb8l"&&(fe.textContent=ze),we.forEach(d),Re=V(B),Q=h(B,"DIV",{class:!0});var pe=y(Q);ue=h(pe,"SMALL",{class:!0});var it=y(ue);Ee=G(it,be),it.forEach(d),Fe=V(pe),ce=h(pe,"SPAN",{});var rt=y(ce);Le(N.$$.fragment,rt),rt.forEach(d),X=V(pe),Z&&Z.l(pe),he=V(pe),ee=h(pe,"BUTTON",{class:!0});var We=y(ee);de.l(We),Ie=V(We),J&&J.l(We),We.forEach(d),pe.forEach(d),B.forEach(d),this.h()},h(){u(r,"name",i=n[1]+"-title"),u(r,"type","text"),u(r,"class","form-control"),u(r,"placeholder",""),r.disabled=n[6],r.required=!0,le(r,"is-invalid",n[5]),u(g,"class","fw-lighter fst-italic"),u(t,"class","d-flex flex-column gap-2"),E.__value="calendar_event",x(E,E.__value),C.__value="announcement",x(C,C.__value),u(p,"class","form-select"),u(p,"aria-label","Select Type"),n[0].event_type===void 0&&qt(()=>n[26].call(p)),u(c,"class","d-flex flex-column gap-2"),u(R,"name",re=n[1]+"-description"),u(R,"class","form-control"),R.disabled=n[6],le(R,"is-invalid",n[4]),u(oe,"class","fw-lighter fst-italic"),u(U,"class","d-flex flex-column gap-2"),u(K,"name",ge=n[1]+"-location"),u(K,"type","text"),u(K,"class","form-control"),K.disabled=n[6],u(fe,"class","fw-lighter fst-italic"),u(te,"class","d-flex flex-column gap-2"),u(ue,"class",ke="fw-lighter fst-italic text-"+n[13].type),le(ce,"d-none",!n[6]),u(ee,"class","btn btn-primary position-relative"),u(Q,"class","d-flex justify-content-end align-items-center gap-2 flex-row"),u(e,"class","d-flex flex-column gap-4")},m(L,B){M(L,e,B),f(e,t),f(t,l),f(t,a),f(t,r),n[23](r),x(r,n[0].title),f(t,o),f(t,g),f(e,k),f(e,c),f(c,_),f(c,I),f(c,p),f(p,E),f(p,C),ot(p,n[0].event_type,!0),f(e,P),W&&W.m(e,null),f(e,O),Y&&Y.m(e,null),f(e,T),f(e,U),f(U,D),f(U,$),f(U,R),n[37](R),x(R,n[0].description),f(U,_e),f(U,oe),f(e,Pe),f(e,te),f(te,me),f(te,Oe),f(te,K),n[40](K),x(K,n[0].location),f(te,Ue),f(te,fe),f(e,Re),f(e,Q),f(Q,ue),f(ue,Ee),f(Q,Fe),f(Q,ce),Me(N,ce,null),f(Q,X),Z&&Z.m(Q,null),f(Q,he),f(Q,ee),de.m(ee,null),f(ee,Ie),J&&J.m(ee,null),j=!0,$e||(st=[H(r,"focus",n[24]),H(r,"input",n[25]),H(p,"change",n[26]),H(R,"focus",n[38]),H(R,"input",n[39]),H(K,"focus",n[41]),H(K,"input",n[42]),H(ee,"click",n[21])],$e=!0)},p(L,B){(!j||B[0]&2&&i!==(i=L[1]+"-title"))&&u(r,"name",i),(!j||B[0]&64)&&(r.disabled=L[6]),B[0]&1&&r.value!==L[0].title&&x(r,L[0].title),(!j||B[0]&32)&&le(r,"is-invalid",L[5]),B[0]&1&&ot(p,L[0].event_type),L[18]?W?W.p(L,B):(W=ct(L),W.c(),W.m(e,O)):W&&(W.d(1),W=null),L[18]?Y?Y.p(L,B):(Y=dt(L),Y.c(),Y.m(e,T)):Y&&(Y.d(1),Y=null),(!j||B[0]&2&&re!==(re=L[1]+"-description"))&&u(R,"name",re),(!j||B[0]&64)&&(R.disabled=L[6]),B[0]&1&&x(R,L[0].description),(!j||B[0]&16)&&le(R,"is-invalid",L[4]),(!j||B[0]&2&&ge!==(ge=L[1]+"-location"))&&u(K,"name",ge),(!j||B[0]&64)&&(K.disabled=L[6]),B[0]&1&&K.value!==L[0].location&&x(K,L[0].location),(!j||B[0]&8192)&&be!==(be=L[13].message+"")&&ne(Ee,be),(!j||B[0]&8192&&ke!==(ke="fw-lighter fst-italic text-"+L[13].type))&&u(ue,"class",ke),(!j||B[0]&64)&&le(ce,"d-none",!L[6]),L[17]?Z?Z.p(L,B):(Z=mt(L),Z.c(),Z.m(Q,he)):Z&&(Z.d(1),Z=null),Ge!==(Ge=at(L))&&(de.d(1),de=Ge(L),de&&(de.c(),de.m(ee,Ie))),L[19]?J||(J=ht(),J.c(),J.m(ee,null)):J&&(J.d(1),J=null)},i(L){j||(se(N.$$.fragment,L),j=!0)},o(L){ae(N.$$.fragment,L),j=!1},d(L){L&&d(e),n[23](null),W&&W.d(),Y&&Y.d(),n[37](null),n[40](null),Be(N),Z&&Z.d(),de.d(),J&&J.d(),$e=!1,Qe(st)}}}function nl(n,e,t){let l,s,a,r,i,o,g,v,{name:k=""}=e,{eventItem:c=ut}=e;const{actions:{reload:_}}=jt();let b=!1,I,p,E,w,C,A,P={message:"",type:"info"},O={title:"",description:"",start_time:"",end_time:"",location:"",is_all_day:!1,event_type:"announcement"},T=s&&c.start_time?De(Se(Ne(c.start_time),Ve),"yyyy-MM-dd"):"",U=s&&c.start_time?De(Se(Ne(c.start_time),Ve),"HH:mm"):"",D=s&&c.end_time?De(Se(Ne(c.end_time),Ve),"HH:mm"):"";const F=(N,X=0,he="info")=>{t(13,P.message=N,P),t(13,P.type=he,P),X&&setTimeout(()=>{t(13,P.message="",P)},X)},$=async()=>{if(!l){F("ID is not defined",0,"danger");return}try{await Yt(l),await _(),Ye("set_calendar_event_success","interaction","Delete Calendar Event Successful",1),setTimeout(()=>{t(6,b=!1),t(22,O={...c,id:l}),F("Event Deleted",3e3,"success"),t(0,c=ut)},800)}catch(N){Ye("set_calendar_event_failed","interaction","Delete Calendar Event Failed",1),setTimeout(()=>{t(6,b=!1),console.error("Save failed:",N),F("Failed to save event. Please try again.",7e3,"danger")},800)}},R=()=>{t(6,b=!0),Jt({title:"Delete Confirmation",message:"Are you sure you want to do this?  You won't be able to undo this.",confirmButtonLabel:"Yes",confirmButtonCSS:"btn-danger",callback:N=>{N?$():t(6,b=!1)}})},re=()=>{if(!v){let N=[];return r&&N.push("Title is invalid"),i&&N.push("Description is invalid"),o&&N.push("Start time is invalid"),g&&N.push("End time is invalid"),F(N.join(". ")+".  Please address accordingly.",0,"danger"),!1}return!0},_e=async()=>{if(!a){F("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}if(!re()||b)return;F("Saving ..."),t(6,b=!0);const N=(X,he)=>{const[ee,Ie]=he.split(":").map(Number);let j=$t(X,ee);return j=xt(j,Ie),j};try{let X={title:c.title,description:c.description,location:c.location,event_type:c.event_type};s&&(X={...X,start_time:N(ft(T,"yyyy-MM-dd",new Date),U).toISOString(),end_time:N(ft(T,"yyyy-MM-dd",new Date),D).toISOString(),is_all_day:c.is_all_day}),l?await Kt(l,X):await Wt(X),await _(),Ye("set_calendar_event_success","interaction",`Set Calendar Event Successful ${c.title}`,1),setTimeout(()=>{t(6,b=!1),t(22,O={...c,id:l}),F("Saved",3e3,"success")},800)}catch(X){Ye("set_calendar_event_failed","interaction",`Set Calendar Event Failed ${c.title}`,1),setTimeout(()=>{t(6,b=!1),console.error("Save failed:",X),F("Failed to save event. Please try again.",7e3,"danger")},800)}};function oe(N){Te[N?"unshift":"push"](()=>{I=N,t(7,I)})}const je=()=>I.select();function Pe(){c.title=this.value,t(0,c)}function te(){c.event_type=zt(this),t(0,c)}function me(N){Te[N?"unshift":"push"](()=>{E=N,t(9,E)})}const qe=()=>E.select();function Oe(){T=this.value,t(14,T)}function K(){c.is_all_day=this.checked,t(0,c)}function ge(N){Te[N?"unshift":"push"](()=>{w=N,t(10,w)})}const Ue=()=>w.select();function fe(){U=this.value,t(15,U)}function ze(N){Te[N?"unshift":"push"](()=>{C=N,t(11,C)})}const Re=()=>C.select();function Q(){D=this.value,t(16,D)}function ue(N){Te[N?"unshift":"push"](()=>{p=N,t(8,p)})}const be=()=>p.select();function Ee(){c.description=this.value,t(0,c)}function ke(N){Te[N?"unshift":"push"](()=>{A=N,t(12,A)})}const Fe=()=>A.select();function ce(){c.location=this.value,t(0,c)}return n.$$set=N=>{"name"in N&&t(1,k=N.name),"eventItem"in N&&t(0,c=N.eventItem)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(17,l=c.id),n.$$.dirty[0]&1&&t(18,s=c.event_type==="calendar_event"),n.$$.dirty[0]&4194305&&t(19,a=O.title!==c.title||O.start_time!==c.start_time||O.end_time!==c.end_time||O.location!==c.location||O.is_all_day!==c.is_all_day),n.$$.dirty[0]&1&&t(5,r=c.title===""),n.$$.dirty[0]&1&&t(3,o=c.start_time===""),n.$$.dirty[0]&1&&t(2,g=c.end_time===""),n.$$.dirty[0]&60&&(v=!r&&!i&&!o&&!g)},t(4,i=!1),[c,k,g,o,i,r,b,I,p,E,w,C,A,P,T,U,D,l,s,a,R,_e,O,oe,je,Pe,te,me,qe,Oe,K,ge,Ue,fe,ze,Re,Q,ue,be,Ee,ke,Fe,ce]}class sl extends Xe{constructor(e){super(),Je(this,e,nl,ll,Ze,{name:1,eventItem:0},null,[-1,-1])}}function pt(n,e,t){const l=n.slice();return l[22]=e[t],l}function vt(n,e,t){const l=n.slice();return l[22]=e[t],l}function al(n){let e,t;return e=new sl({props:{eventItem:n[3],name:"calendar-event-item-form"}}),{c(){Ae(e.$$.fragment)},l(l){Le(e.$$.fragment,l)},m(l,s){Me(e,l,s),t=!0},p(l,s){const a={};s&8&&(a.eventItem=l[3]),e.$set(a)},i(l){t||(se(e.$$.fragment,l),t=!0)},o(l){ae(e.$$.fragment,l),t=!1},d(l){Be(e,l)}}}function il(n){let e,t;return e=new Ht({}),{c(){Ae(e.$$.fragment)},l(l){Le(e.$$.fragment,l)},m(l,s){Me(e,l,s),t=!0},p:ve,i(l){t||(se(e.$$.fragment,l),t=!0)},o(l){ae(e.$$.fragment,l),t=!1},d(l){Be(e,l)}}}function rl(n){let e,t,l,s=n[1]&&bt(n),a=n[5]?.length&&gt(n),r=n[6]?.length&&Tt(n);return{c(){s&&s.c(),e=S(),a&&a.c(),t=S(),r&&r.c(),l=ie()},l(i){s&&s.l(i),e=V(i),a&&a.l(i),t=V(i),r&&r.l(i),l=ie()},m(i,o){s&&s.m(i,o),M(i,e,o),a&&a.m(i,o),M(i,t,o),r&&r.m(i,o),M(i,l,o)},p(i,o){i[1]?s?s.p(i,o):(s=bt(i),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),i[5]?.length?a?a.p(i,o):(a=gt(i),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null),i[6]?.length?r?r.p(i,o):(r=Tt(i),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},i:ve,o:ve,d(i){i&&(d(e),d(t),d(l)),s&&s.d(i),a&&a.d(i),r&&r.d(i)}}}function bt(n){let e,t,l,s,a,r,i,o,g,v,k,c;return{c(){e=m("div"),t=m("button"),l=m("i"),s=z(`
					Add Announcement`),r=S(),i=m("button"),o=m("i"),g=z(`
					Add New Calendar Event`),this.h()},l(_){e=h(_,"DIV",{class:!0});var b=y(e);t=h(b,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var I=y(t);l=h(I,"I",{class:!0}),y(l).forEach(d),s=G(I,`
					Add Announcement`),I.forEach(d),r=V(b),i=h(b,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var p=y(i);o=h(p,"I",{class:!0}),y(o).forEach(d),g=G(p,`
					Add New Calendar Event`),p.forEach(d),b.forEach(d),this.h()},h(){u(l,"class","bi bi-plus"),u(t,"class","btn btn-sm btn-secondary"),u(t,"type","button"),u(t,"data-bs-toggle","offcanvas"),u(t,"data-bs-target",a="#"+n[0]),u(t,"aria-controls",n[0]),u(o,"class","bi bi-plus"),u(i,"class","btn btn-sm btn-secondary"),u(i,"type","button"),u(i,"data-bs-toggle","offcanvas"),u(i,"data-bs-target",v="#"+n[0]),u(i,"aria-controls",n[0]),u(e,"class","card-body")},m(_,b){M(_,e,b),f(e,t),f(t,l),f(t,s),f(e,r),f(e,i),f(i,o),f(i,g),k||(c=[H(t,"click",n[16]),H(i,"click",n[17])],k=!0)},p(_,b){b&1&&a!==(a="#"+_[0])&&u(t,"data-bs-target",a),b&1&&u(t,"aria-controls",_[0]),b&1&&v!==(v="#"+_[0])&&u(i,"data-bs-target",v),b&1&&u(i,"aria-controls",_[0])},d(_){_&&d(e),k=!1,Qe(c)}}}function gt(n){let e,t=He(n[5]),l=[];for(let s=0;s<t.length;s+=1)l[s]=wt(vt(n,t,s));return{c(){e=m("ul");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=h(s,"UL",{class:!0});var a=y(e);for(let r=0;r<l.length;r+=1)l[r].l(a);a.forEach(d),this.h()},h(){u(e,"class","list-group list-group-flush")},m(s,a){M(s,e,a);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(s,a){if(a&57379){t=He(s[5]);let r;for(r=0;r<t.length;r+=1){const i=vt(s,t,r);l[r]?l[r].p(i,a):(l[r]=wt(i),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(s){s&&d(e),tt(l,s)}}}function Et(n){let e,t=!n[22].is_all_day&&kt(n);return{c(){t&&t.c(),e=ie()},l(l){t&&t.l(l),e=ie()},m(l,s){t&&t.m(l,s),M(l,e,s)},p(l,s){l[22].is_all_day?t&&(t.d(1),t=null):t?t.p(l,s):(t=kt(l),t.c(),t.m(e.parentNode,e))},d(l){l&&d(e),t&&t.d(l)}}}function kt(n){let e,t=n[13](n[22].start_time)+"",l,s,a=n[13](n[22].end_time)+"",r;return{c(){e=m("span"),l=z(t),s=z(" to "),r=z(a),this.h()},l(i){e=h(i,"SPAN",{class:!0});var o=y(e);l=G(o,t),s=G(o," to "),r=G(o,a),o.forEach(d),this.h()},h(){u(e,"class","d-block")},m(i,o){M(i,e,o),f(e,l),f(e,s),f(e,r)},p(i,o){o&32&&t!==(t=i[13](i[22].start_time)+"")&&ne(l,t),o&32&&a!==(a=i[13](i[22].end_time)+"")&&ne(r,a)},d(i){i&&d(e)}}}function It(n){let e,t,l=n[22].description+"";return{c(){e=m("span"),t=new lt(!1),this.h()},l(s){e=h(s,"SPAN",{class:!0});var a=y(e);t=nt(a,!1),a.forEach(d),this.h()},h(){t.a=null,u(e,"class","d-block small")},m(s,a){M(s,e,a),t.m(l,e)},p(s,a){a&32&&l!==(l=s[22].description+"")&&t.p(l)},d(s){s&&d(e)}}}function Ct(n){let e,t=n[22].location+"",l;return{c(){e=m("em"),l=z(t),this.h()},l(s){e=h(s,"EM",{class:!0});var a=y(e);l=G(a,t),a.forEach(d),this.h()},h(){u(e,"class","d-block small fw-lighter")},m(s,a){M(s,e,a),f(e,l)},p(s,a){a&32&&t!==(t=s[22].location+"")&&ne(l,t)},d(s){s&&d(e)}}}function yt(n){let e,t,l,s,a;function r(){return n[18](n[22])}return{c(){e=m("button"),t=m("i"),this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var o=y(e);t=h(o,"I",{class:!0}),y(t).forEach(d),o.forEach(d),this.h()},h(){u(t,"class","bi bi-pencil"),u(e,"class","btn btn-sm btn-secondary"),u(e,"type","button"),u(e,"data-bs-toggle","offcanvas"),u(e,"data-bs-target",l="#"+n[0]),u(e,"aria-controls",n[0])},m(i,o){M(i,e,o),f(e,t),s||(a=H(e,"click",r),s=!0)},p(i,o){n=i,o&1&&l!==(l="#"+n[0])&&u(e,"data-bs-target",l),o&1&&u(e,"aria-controls",n[0])},d(i){i&&d(e),s=!1,a()}}}function wt(n){let e,t,l,s,a,r=n[22].title+"",i,o,g=n[15](n[22]),v,k,c,_,b,I=g&&Et(n),p=n[22].description&&It(n),E=n[22].location&&Ct(n),w=n[1]&&yt(n);return{c(){e=m("li"),t=m("div"),l=m("div"),s=m("div"),a=m("strong"),i=z(r),o=S(),I&&I.c(),v=S(),p&&p.c(),k=S(),E&&E.c(),c=S(),_=m("div"),w&&w.c(),b=S(),this.h()},l(C){e=h(C,"LI",{class:!0});var A=y(e);t=h(A,"DIV",{class:!0});var P=y(t);l=h(P,"DIV",{class:!0});var O=y(l);s=h(O,"DIV",{});var T=y(s);a=h(T,"STRONG",{});var U=y(a);i=G(U,r),U.forEach(d),o=V(T),I&&I.l(T),v=V(T),p&&p.l(T),k=V(T),E&&E.l(T),T.forEach(d),O.forEach(d),c=V(P),_=h(P,"DIV",{});var D=y(_);w&&w.l(D),D.forEach(d),P.forEach(d),b=V(A),A.forEach(d),this.h()},h(){u(l,"class","d-flex flex-sm-column flex-md-row flex-xl-row flex-lg-row gap-3"),u(t,"class","d-flex justify-content-between"),u(e,"class","list-group-item")},m(C,A){M(C,e,A),f(e,t),f(t,l),f(l,s),f(s,a),f(a,i),f(s,o),I&&I.m(s,null),f(s,v),p&&p.m(s,null),f(s,k),E&&E.m(s,null),f(t,c),f(t,_),w&&w.m(_,null),f(e,b)},p(C,A){A&32&&r!==(r=C[22].title+"")&&ne(i,r),A&32&&(g=C[15](C[22])),g?I?I.p(C,A):(I=Et(C),I.c(),I.m(s,v)):I&&(I.d(1),I=null),C[22].description?p?p.p(C,A):(p=It(C),p.c(),p.m(s,k)):p&&(p.d(1),p=null),C[22].location?E?E.p(C,A):(E=Ct(C),E.c(),E.m(s,null)):E&&(E.d(1),E=null),C[1]?w?w.p(C,A):(w=yt(C),w.c(),w.m(_,null)):w&&(w.d(1),w=null)},d(C){C&&d(e),I&&I.d(),p&&p.d(),E&&E.d(),w&&w.d()}}}function Tt(n){let e,t=He(n[6]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Mt(pt(n,t,s));return{c(){e=m("ul");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=h(s,"UL",{class:!0});var a=y(e);for(let r=0;r<l.length;r+=1)l[r].l(a);a.forEach(d),this.h()},h(){u(e,"class","list-group list-group-flush")},m(s,a){M(s,e,a);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(s,a){if(a&63555){t=He(s[6]);let r;for(r=0;r<t.length;r+=1){const i=pt(s,t,r);l[r]?l[r].p(i,a):(l[r]=Mt(i),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(s){s&&d(e),tt(l,s)}}}function Dt(n){let e,t=n[11](n[22].start_time)+"",l,s,a,r,i,o=n[12](n[22].start_time)+"",g;return{c(){e=m("strong"),l=z(t),s=S(),a=m("br"),r=S(),i=m("small"),g=z(o)},l(v){e=h(v,"STRONG",{});var k=y(e);l=G(k,t),s=V(k),k.forEach(d),a=h(v,"BR",{}),r=V(v),i=h(v,"SMALL",{});var c=y(i);g=G(c,o),c.forEach(d)},m(v,k){M(v,e,k),f(e,l),f(e,s),M(v,a,k),M(v,r,k),M(v,i,k),f(i,g)},p(v,k){k&64&&t!==(t=v[11](v[22].start_time)+"")&&ne(l,t),k&64&&o!==(o=v[12](v[22].start_time)+"")&&ne(g,o)},d(v){v&&(d(e),d(a),d(r),d(i))}}}function Nt(n){let e,t=!n[22].is_all_day&&St(n);return{c(){t&&t.c(),e=ie()},l(l){t&&t.l(l),e=ie()},m(l,s){t&&t.m(l,s),M(l,e,s)},p(l,s){l[22].is_all_day?t&&(t.d(1),t=null):t?t.p(l,s):(t=St(l),t.c(),t.m(e.parentNode,e))},d(l){l&&d(e),t&&t.d(l)}}}function St(n){let e,t=n[13](n[22].start_time)+"",l,s,a=n[13](n[22].end_time)+"",r;return{c(){e=m("span"),l=z(t),s=z(" to "),r=z(a),this.h()},l(i){e=h(i,"SPAN",{class:!0});var o=y(e);l=G(o,t),s=G(o," to "),r=G(o,a),o.forEach(d),this.h()},h(){u(e,"class","d-block")},m(i,o){M(i,e,o),f(e,l),f(e,s),f(e,r)},p(i,o){o&64&&t!==(t=i[13](i[22].start_time)+"")&&ne(l,t),o&64&&a!==(a=i[13](i[22].end_time)+"")&&ne(r,a)},d(i){i&&d(e)}}}function Vt(n){let e,t,l=n[22].description+"";return{c(){e=m("span"),t=new lt(!1),this.h()},l(s){e=h(s,"SPAN",{class:!0});var a=y(e);t=nt(a,!1),a.forEach(d),this.h()},h(){t.a=null,u(e,"class","d-block small")},m(s,a){M(s,e,a),t.m(l,e)},p(s,a){a&64&&l!==(l=s[22].description+"")&&t.p(l)},d(s){s&&d(e)}}}function At(n){let e,t=n[22].location+"",l;return{c(){e=m("em"),l=z(t),this.h()},l(s){e=h(s,"EM",{class:!0});var a=y(e);l=G(a,t),a.forEach(d),this.h()},h(){u(e,"class","d-block small fw-lighter")},m(s,a){M(s,e,a),f(e,l)},p(s,a){a&64&&t!==(t=s[22].location+"")&&ne(l,t)},d(s){s&&d(e)}}}function Lt(n){let e,t,l,s,a;function r(){return n[19](n[22])}return{c(){e=m("button"),t=m("i"),this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var o=y(e);t=h(o,"I",{class:!0}),y(t).forEach(d),o.forEach(d),this.h()},h(){u(t,"class","bi bi-pencil"),u(e,"class","btn btn-sm btn-secondary"),u(e,"type","button"),u(e,"data-bs-toggle","offcanvas"),u(e,"data-bs-target",l="#"+n[0]),u(e,"aria-controls",n[0])},m(i,o){M(i,e,o),f(e,t),s||(a=H(e,"click",r),s=!0)},p(i,o){n=i,o&1&&l!==(l="#"+n[0])&&u(e,"data-bs-target",l),o&1&&u(e,"aria-controls",n[0])},d(i){i&&d(e),s=!1,a()}}}function Mt(n){let e,t,l,s,a=n[15](n[22]),r,i,o,g=n[22].title+"",v,k,c=n[15](n[22]),_,b,I,p,E,w=a&&Dt(n),C=c&&Nt(n),A=n[22].description&&Vt(n),P=n[22].location&&At(n),O=n[1]&&Lt(n);return{c(){e=m("li"),t=m("div"),l=m("div"),s=m("div"),w&&w.c(),r=S(),i=m("div"),o=m("strong"),v=z(g),k=S(),C&&C.c(),_=S(),A&&A.c(),b=S(),P&&P.c(),I=S(),p=m("div"),O&&O.c(),E=S(),this.h()},l(T){e=h(T,"LI",{class:!0});var U=y(e);t=h(U,"DIV",{class:!0});var D=y(t);l=h(D,"DIV",{class:!0});var F=y(l);s=h(F,"DIV",{style:!0});var $=y(s);w&&w.l($),$.forEach(d),r=V(F),i=h(F,"DIV",{});var R=y(i);o=h(R,"STRONG",{});var re=y(o);v=G(re,g),re.forEach(d),k=V(R),C&&C.l(R),_=V(R),A&&A.l(R),b=V(R),P&&P.l(R),R.forEach(d),F.forEach(d),I=V(D),p=h(D,"DIV",{});var _e=y(p);O&&O.l(_e),_e.forEach(d),D.forEach(d),E=V(U),U.forEach(d),this.h()},h(){Gt(s,"width","85px"),u(l,"class","d-flex flex-sm-column flex-md-row flex-xl-row flex-lg-row gap-3"),u(t,"class","d-flex justify-content-between"),u(e,"class","list-group-item")},m(T,U){M(T,e,U),f(e,t),f(t,l),f(l,s),w&&w.m(s,null),f(l,r),f(l,i),f(i,o),f(o,v),f(i,k),C&&C.m(i,null),f(i,_),A&&A.m(i,null),f(i,b),P&&P.m(i,null),f(t,I),f(t,p),O&&O.m(p,null),f(e,E)},p(T,U){U&64&&(a=T[15](T[22])),a?w?w.p(T,U):(w=Dt(T),w.c(),w.m(s,null)):w&&(w.d(1),w=null),U&64&&g!==(g=T[22].title+"")&&ne(v,g),U&64&&(c=T[15](T[22])),c?C?C.p(T,U):(C=Nt(T),C.c(),C.m(i,_)):C&&(C.d(1),C=null),T[22].description?A?A.p(T,U):(A=Vt(T),A.c(),A.m(i,b)):A&&(A.d(1),A=null),T[22].location?P?P.p(T,U):(P=At(T),P.c(),P.m(i,null)):P&&(P.d(1),P=null),T[1]?O?O.p(T,U):(O=Lt(T),O.c(),O.m(p,null)):O&&(O.d(1),O=null)},d(T){T&&d(e),w&&w.d(),C&&C.d(),A&&A.d(),P&&P.d(),O&&O.d()}}}function ol(n){let e,t,l,s,a="Announcements",r,i,o,g;e=new Qt({props:{title:n[2],id:n[0],$$slots:{default:[al]},$$scope:{ctx:n}}});const v=[rl,il],k=[];function c(_,b){return _[4]?0:1}return i=c(n),o=k[i]=v[i](n),{c(){Ae(e.$$.fragment),t=S(),l=m("div"),s=m("div"),s.textContent=a,r=S(),o.c(),this.h()},l(_){Le(e.$$.fragment,_),t=V(_),l=h(_,"DIV",{class:!0});var b=y(l);s=h(b,"DIV",{class:!0,"data-svelte-h":!0}),q(s)!=="svelte-rw6gj3"&&(s.textContent=a),r=V(b),o.l(b),b.forEach(d),this.h()},h(){u(s,"class","card-header"),u(l,"class","card")},m(_,b){Me(e,_,b),M(_,t,b),M(_,l,b),f(l,s),f(l,r),k[i].m(l,null),g=!0},p(_,[b]){const I={};b&4&&(I.title=_[2]),b&1&&(I.id=_[0]),b&134217736&&(I.$$scope={dirty:b,ctx:_}),e.$set(I);let p=i;i=c(_),i===p?k[i].p(_,b):(Pt(),ae(k[p],1,1,()=>{k[p]=null}),Ot(),o=k[i],o?o.p(_,b):(o=k[i]=v[i](_),o.c()),se(o,1),o.m(l,null))},i(_){g||(se(e.$$.fragment,_),se(o),g=!0)},o(_){ae(e.$$.fragment,_),ae(o),g=!1},d(_){_&&(d(t),d(l)),Be(e,_),k[i].d()}}}let fl="New Calendar Event",ul="Edit Calendar Event";function cl(n,e,t){let l,s,a;const{actions:{featureIsEnabled:r}}=Ut(),{stores:{ready:i,calendarEvents:o,announcements:g},actions:{reload:v}}=jt();et(n,i,D=>t(4,l=D)),et(n,o,D=>t(6,a=D)),et(n,g,D=>t(5,s=D));const k={title:"Event",description:"",location:"",event_type:"announcement"};let{formId:c=Xt()}=e,_=!1,b="",I={...k};Bt(async()=>{t(1,_=r(Rt.EditDBCalendarEvent)),await v()});const p=D=>{if(!D)return"";const F=Ne(D),$=Se(F,Ve);return De($,"MMM, dd")},E=D=>{if(!D)return"";const F=Ne(D),$=Se(F,Ve);return De($,"EEEE")},w=D=>{if(!D)return"";const F=Ne(D),$=Se(F,Ve);return De($,"h:mm aa")},C=(D=void 0)=>{D?(t(2,b=ul),t(3,I=D)):(t(2,b=fl),t(3,I={...k}))},A=D=>D.event_type==="calendar_event",P=()=>C({...k,event_type:"announcement"}),O=()=>C({...k,event_type:"calendar_event"}),T=D=>C(D),U=D=>C(D);return n.$$set=D=>{"formId"in D&&t(0,c=D.formId)},[c,_,b,I,l,s,a,i,o,g,k,p,E,w,C,A,P,O,T,U]}class dl extends Xe{constructor(e){super(),Je(this,e,cl,ol,Ze,{formId:0})}}function _l(n,e,t){const l=n.slice();return l[0]=e[t],l}function ml(n){let e,t,l,s=n[0].when+"",a,r,i,o=n[0].title+"",g,v,k,c,_,b=n[0].details+"",I;return{c(){e=m("li"),t=m("strong"),l=m("small"),a=z(s),r=m("br"),i=S(),g=z(o),v=m("br"),k=S(),c=m("em"),_=new lt(!1),I=S(),this.h()},l(p){e=h(p,"LI",{class:!0});var E=y(e);t=h(E,"STRONG",{});var w=y(t);l=h(w,"SMALL",{});var C=y(l);a=G(C,s),C.forEach(d),w.forEach(d),r=h(E,"BR",{}),i=V(E),g=G(E,o),v=h(E,"BR",{}),k=V(E),c=h(E,"EM",{class:!0});var A=y(c);_=nt(A,!1),A.forEach(d),I=V(E),E.forEach(d),this.h()},h(){_.a=null,u(c,"class","small fw-lighter"),u(e,"class","list-group-item")},m(p,E){M(p,e,E),f(e,t),f(t,l),f(l,a),f(e,r),f(e,i),f(e,g),f(e,v),f(e,k),f(e,c),_.m(b,c),f(e,I)},p:ve,d(p){p&&d(e)}}}function hl(n){let e,t,l="Announcements",s,a,r=He(Zt),i=[];for(let o=0;o<r.length;o+=1)i[o]=ml(_l(n,r,o));return{c(){e=m("div"),t=m("div"),t.textContent=l,s=S(),a=m("ul");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=h(o,"DIV",{class:!0});var g=y(e);t=h(g,"DIV",{class:!0,"data-svelte-h":!0}),q(t)!=="svelte-rw6gj3"&&(t.textContent=l),s=V(g),a=h(g,"UL",{class:!0});var v=y(a);for(let k=0;k<i.length;k+=1)i[k].l(v);v.forEach(d),g.forEach(d),this.h()},h(){u(t,"class","card-header"),u(a,"class","list-group list-group-flush"),u(e,"class","card")},m(o,g){M(o,e,g),f(e,t),f(e,s),f(e,a);for(let v=0;v<i.length;v+=1)i[v]&&i[v].m(a,null)},p:ve,i:ve,o:ve,d(o){o&&d(e),tt(i,o)}}}class pl extends Xe{constructor(e){super(),Je(this,e,null,hl,Ze,{})}}function vl(n){let e,t;return e=new pl({}),{c(){Ae(e.$$.fragment)},l(l){Le(e.$$.fragment,l)},m(l,s){Me(e,l,s),t=!0},i(l){t||(se(e.$$.fragment,l),t=!0)},o(l){ae(e.$$.fragment,l),t=!1},d(l){Be(e,l)}}}function bl(n){let e,t;return e=new dl({}),{c(){Ae(e.$$.fragment)},l(l){Le(e.$$.fragment,l)},m(l,s){Me(e,l,s),t=!0},i(l){t||(se(e.$$.fragment,l),t=!0)},o(l){ae(e.$$.fragment,l),t=!1},d(l){Be(e,l)}}}function gl(n){let e,t,l,s;const a=[bl,vl],r=[];function i(o,g){return o[0]?0:1}return e=i(n),t=r[e]=a[e](n),{c(){t.c(),l=ie()},l(o){t.l(o),l=ie()},m(o,g){r[e].m(o,g),M(o,l,g),s=!0},p(o,[g]){let v=e;e=i(o),e!==v&&(Pt(),ae(r[v],1,1,()=>{r[v]=null}),Ot(),t=r[e],t||(t=r[e]=a[e](o),t.c()),se(t,1),t.m(l.parentNode,l))},i(o){s||(se(t),s=!0)},o(o){ae(t),s=!1},d(o){o&&d(l),r[e].d(o)}}}function El(n,e,t){const{actions:{featureIsEnabled:l}}=Ut();let s=!1;return Bt(async()=>{t(0,s=l(Rt.ViewDBCalendarEvents))}),[s]}class Vl extends Xe{constructor(e){super(),Je(this,e,El,gl,Ze,{})}}export{Vl as C};
