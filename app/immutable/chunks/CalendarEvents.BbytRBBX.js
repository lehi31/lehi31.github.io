import{s as Ze,k as Ut,r as tt,n as de,j as Te,b as xe,o as St}from"./scheduler.C8jfK40o.js";import{S as Qe,i as Xe,e as v,s as S,n as j,c as we,b,d as D,p as F,g as V,f as m,q as z,h as Ne,j as d,y as te,D as $,k as P,r as u,E as at,m as Se,C as q,u as le,t as ne,a as se,l as Ve,z as ie,F as Ht,w as Vt,v as At,x as et,A as Rt,H as Ft,I as qt}from"./index.BU5kBEy5.js";import{g as Lt,F as Mt}from"./feature-flag.state.WHDJOvB0.js";import{t as Pt,f as Ue,p as He,e as Oe}from"./Header.Cr3Z7g5k.js";import{S as Bt}from"./Spinner.j7BRAMS9.js";import{g as Ot,t as Re,u as jt,c as zt,d as Gt,A as Kt}from"./announcements.data.B1YGh_vx.js";import{t as Ye,D as Wt,v as Yt}from"./Drawer.CHD6p1Z0.js";import{c as Zt}from"./confirm.service.DrhzGlBb.js";import{A as Fe,B as rt}from"./app.state.BhiBZQZD.js";import{p as ot}from"./parse.Ddin-6Nj.js";function Qt(n,e){const t=Pt(n);return t.setHours(e),t}function Xt(n,e){const t=Pt(n);return t.setMinutes(e),t}function ft(n){let e,t,l="Date*",s,i,c,o,r;return{c(){e=v("div"),t=v("div"),t.textContent=l,s=S(),i=v("input"),this.h()},l(g){e=b(g,"DIV",{class:!0});var C=D(e);t=b(C,"DIV",{"data-svelte-h":!0}),F(t)!=="svelte-1992pd0"&&(t.textContent=l),s=V(C),i=b(C,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),C.forEach(m),this.h()},h(){d(i,"name",c=n[1]+"-start-time"),d(i,"type","date"),d(i,"class","form-control"),d(i,"placeholder","Event title"),i.disabled=n[7],i.required=!0,te(i,"is-invalid",n[4]),d(e,"class","d-flex flex-column gap-2")},m(g,C){P(g,e,C),u(e,t),u(e,s),u(e,i),n[27](i),$(i,n[18]),o||(r=[q(i,"focus",n[28]),q(i,"input",n[29])],o=!0)},p(g,C){C[0]&2&&c!==(c=g[1]+"-start-time")&&d(i,"name",c),C[0]&128&&(i.disabled=g[7]),C[0]&262144&&$(i,g[18]),C[0]&16&&te(i,"is-invalid",g[4])},d(g){g&&m(e),n[27](null),o=!1,tt(r)}}}function ut(n){let e,t,l,s,i,c,o,r,g,C,T,y,a=!n[0].is_all_day&&ct(n);return{c(){e=v("div"),t=v("div"),l=v("input"),i=S(),c=v("label"),o=j("All Day Event"),g=S(),a&&a.c(),C=ie(),this.h()},l(k){e=b(k,"DIV",{});var p=D(e);t=b(p,"DIV",{class:!0});var f=D(t);l=b(f,"INPUT",{class:!0,type:!0,id:!0}),i=V(f),c=b(f,"LABEL",{class:!0,for:!0});var h=D(c);o=z(h,"All Day Event"),h.forEach(m),f.forEach(m),p.forEach(m),g=V(k),a&&a.l(k),C=ie(),this.h()},h(){d(l,"class","form-check-input"),d(l,"type","checkbox"),d(l,"id",s=n[1]+"-all-day-check"),d(c,"class","form-check-label"),d(c,"for",r=n[1]+"-all-day-check"),d(t,"class","form-check d-flex align-items-center gap-2")},m(k,p){P(k,e,p),u(e,t),u(t,l),l.checked=n[0].is_all_day,u(t,i),u(t,c),u(c,o),P(k,g,p),a&&a.m(k,p),P(k,C,p),T||(y=q(l,"change",n[30]),T=!0)},p(k,p){p[0]&2&&s!==(s=k[1]+"-all-day-check")&&d(l,"id",s),p[0]&1&&(l.checked=k[0].is_all_day),p[0]&2&&r!==(r=k[1]+"-all-day-check")&&d(c,"for",r),k[0].is_all_day?a&&(a.d(1),a=null):a?a.p(k,p):(a=ct(k),a.c(),a.m(C.parentNode,C))},d(k){k&&(m(e),m(g),m(C)),a&&a.d(k),T=!1,y()}}}function ct(n){let e,t,l="Start time*",s,i,c,o,r,g,C="End time*",T,y,a,k,p;return{c(){e=v("div"),t=v("div"),t.textContent=l,s=S(),i=v("input"),o=S(),r=v("div"),g=v("div"),g.textContent=C,T=S(),y=v("input"),this.h()},l(f){e=b(f,"DIV",{class:!0});var h=D(e);t=b(h,"DIV",{"data-svelte-h":!0}),F(t)!=="svelte-gzi1xn"&&(t.textContent=l),s=V(h),i=b(h,"INPUT",{name:!0,type:!0,step:!0,class:!0}),h.forEach(m),o=V(f),r=b(f,"DIV",{class:!0});var _=D(r);g=b(_,"DIV",{"data-svelte-h":!0}),F(g)!=="svelte-ig3ngi"&&(g.textContent=C),T=V(_),y=b(_,"INPUT",{name:!0,type:!0,step:!0,class:!0}),_.forEach(m),this.h()},h(){d(i,"name",c=n[1]+"-start-time"),d(i,"type","time"),d(i,"step",900),d(i,"class","form-control"),i.disabled=n[7],i.required=!0,te(i,"is-invalid",n[4]),d(e,"class","d-flex flex-column gap-2"),d(y,"name",a=n[1]+"-end-time"),d(y,"type","time"),d(y,"step",900),d(y,"class","form-control"),y.disabled=n[7],y.required=!0,te(y,"is-invalid",n[3]),d(r,"class","d-flex flex-column gap-2")},m(f,h){P(f,e,h),u(e,t),u(e,s),u(e,i),n[31](i),$(i,n[15]),P(f,o,h),P(f,r,h),u(r,g),u(r,T),u(r,y),n[34](y),$(y,n[16]),k||(p=[q(i,"focus",n[32]),q(i,"input",n[33]),q(y,"focus",n[35]),q(y,"input",n[36])],k=!0)},p(f,h){h[0]&2&&c!==(c=f[1]+"-start-time")&&d(i,"name",c),h[0]&128&&(i.disabled=f[7]),h[0]&32768&&$(i,f[15]),h[0]&16&&te(i,"is-invalid",f[4]),h[0]&2&&a!==(a=f[1]+"-end-time")&&d(y,"name",a),h[0]&128&&(y.disabled=f[7]),h[0]&65536&&$(y,f[16]),h[0]&8&&te(y,"is-invalid",f[3])},d(f){f&&(m(e),m(o),m(r)),n[31](null),n[34](null),k=!1,tt(p)}}}function dt(n){let e,t="<span>Delete</span>",l,s;return{c(){e=v("button"),e.innerHTML=t,this.h()},l(i){e=b(i,"BUTTON",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-1bw2173"&&(e.innerHTML=t),this.h()},h(){d(e,"class","btn btn-danger position-relative")},m(i,c){P(i,e,c),l||(s=q(e,"click",n[20]),l=!0)},p:de,d(i){i&&m(e),l=!1,s()}}}function Jt(n){let e,t="Create";return{c(){e=v("span"),e.textContent=t},l(l){e=b(l,"SPAN",{"data-svelte-h":!0}),F(e)!=="svelte-1wf0js6"&&(e.textContent=t)},m(l,s){P(l,e,s)},d(l){l&&m(e)}}}function $t(n){let e,t="Save";return{c(){e=v("span"),e.textContent=t},l(l){e=b(l,"SPAN",{"data-svelte-h":!0}),F(e)!=="svelte-l126tb"&&(e.textContent=t)},m(l,s){P(l,e,s)},d(l){l&&m(e)}}}function _t(n){let e,t='<span class="visually-hidden">Item not saved</span>';return{c(){e=v("span"),e.innerHTML=t,this.h()},l(l){e=b(l,"SPAN",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-1g0a6ie"&&(e.innerHTML=t),this.h()},h(){d(e,"class","position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle")},m(l,s){P(l,e,s)},d(l){l&&m(e)}}}function xt(n){let e,t,l,s="Title*",i,c,o,r,g,C="Event title. i.e. Ward Conference, Ward BBQ Night",T,y,a,k="Type*",p,f,h,_="Calendar Event",I,w="Announcement",L,O,E,M,H,K="Description",_e,U,ae,me,re,qe="Describe the event to the best of your knowledge",Ae,ee,he,je="Location",Le,G,ge,Me,oe,ze="Location can be physical or virtual",Pe,Q,fe,be=n[14].message+"",Ee,ke,Be,ue,N,X,pe,x,Ce,R,Je,lt,W=n[2]&&ft(n),Y=n[2]&&ut(n);N=new Bt({props:{size:"xs"}});let Z=n[17]&&dt(n);function nt(A,B){return A[17]?$t:Jt}let Ge=nt(n),ce=Ge(n),J=n[19]&&_t();return{c(){e=v("div"),t=v("div"),l=v("div"),l.textContent=s,i=S(),c=v("input"),r=S(),g=v("small"),g.textContent=C,T=S(),y=v("div"),a=v("div"),a.textContent=k,p=S(),f=v("select"),h=v("option"),h.textContent=_,I=v("option"),I.textContent=w,L=S(),W&&W.c(),O=S(),Y&&Y.c(),E=S(),M=v("div"),H=v("div"),H.textContent=K,_e=S(),U=v("textarea"),me=S(),re=v("small"),re.textContent=qe,Ae=S(),ee=v("div"),he=v("div"),he.textContent=je,Le=S(),G=v("input"),Me=S(),oe=v("small"),oe.textContent=ze,Pe=S(),Q=v("div"),fe=v("small"),Ee=j(be),Be=S(),ue=v("span"),we(N.$$.fragment),X=S(),Z&&Z.c(),pe=S(),x=v("button"),ce.c(),Ce=S(),J&&J.c(),this.h()},l(A){e=b(A,"DIV",{class:!0});var B=D(e);t=b(B,"DIV",{class:!0});var Ie=D(t);l=b(Ie,"DIV",{"data-svelte-h":!0}),F(l)!=="svelte-1w3dtko"&&(l.textContent=s),i=V(Ie),c=b(Ie,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),r=V(Ie),g=b(Ie,"SMALL",{class:!0,"data-svelte-h":!0}),F(g)!=="svelte-twd1iv"&&(g.textContent=C),Ie.forEach(m),T=V(B),y=b(B,"DIV",{class:!0});var Ke=D(y);a=b(Ke,"DIV",{"data-svelte-h":!0}),F(a)!=="svelte-5u2urk"&&(a.textContent=k),p=V(Ke),f=b(Ke,"SELECT",{class:!0,"aria-label":!0});var $e=D(f);h=b($e,"OPTION",{"data-svelte-h":!0}),F(h)!=="svelte-5qncf7"&&(h.textContent=_),I=b($e,"OPTION",{"data-svelte-h":!0}),F(I)!=="svelte-lrqs0u"&&(I.textContent=w),$e.forEach(m),Ke.forEach(m),L=V(B),W&&W.l(B),O=V(B),Y&&Y.l(B),E=V(B),M=b(B,"DIV",{class:!0});var ye=D(M);H=b(ye,"DIV",{"data-svelte-h":!0}),F(H)!=="svelte-1x8itd0"&&(H.textContent=K),_e=V(ye),U=b(ye,"TEXTAREA",{name:!0,class:!0}),D(U).forEach(m),me=V(ye),re=b(ye,"SMALL",{class:!0,"data-svelte-h":!0}),F(re)!=="svelte-bky2ve"&&(re.textContent=qe),ye.forEach(m),Ae=V(B),ee=b(B,"DIV",{class:!0});var De=D(ee);he=b(De,"DIV",{"data-svelte-h":!0}),F(he)!=="svelte-szqbut"&&(he.textContent=je),Le=V(De),G=b(De,"INPUT",{name:!0,type:!0,class:!0}),Me=V(De),oe=b(De,"SMALL",{class:!0,"data-svelte-h":!0}),F(oe)!=="svelte-1drtb8l"&&(oe.textContent=ze),De.forEach(m),Pe=V(B),Q=b(B,"DIV",{class:!0});var ve=D(Q);fe=b(ve,"SMALL",{class:!0});var st=D(fe);Ee=z(st,be),st.forEach(m),Be=V(ve),ue=b(ve,"SPAN",{});var it=D(ue);Ne(N.$$.fragment,it),it.forEach(m),X=V(ve),Z&&Z.l(ve),pe=V(ve),x=b(ve,"BUTTON",{class:!0});var We=D(x);ce.l(We),Ce=V(We),J&&J.l(We),We.forEach(m),ve.forEach(m),B.forEach(m),this.h()},h(){d(c,"name",o=n[1]+"-title"),d(c,"type","text"),d(c,"class","form-control"),d(c,"placeholder",""),c.disabled=n[7],c.required=!0,te(c,"is-invalid",n[6]),d(g,"class","fw-lighter fst-italic"),d(t,"class","d-flex flex-column gap-2"),h.__value="calendar_event",$(h,h.__value),I.__value="announcement",$(I,I.__value),d(f,"class","form-select"),d(f,"aria-label","Select Type"),n[0].event_type===void 0&&Ut(()=>n[26].call(f)),d(y,"class","d-flex flex-column gap-2"),d(U,"name",ae=n[1]+"-description"),d(U,"class","form-control"),U.disabled=n[7],te(U,"is-invalid",n[5]),d(re,"class","fw-lighter fst-italic"),d(M,"class","d-flex flex-column gap-2"),d(G,"name",ge=n[1]+"-location"),d(G,"type","text"),d(G,"class","form-control"),G.disabled=n[7],d(oe,"class","fw-lighter fst-italic"),d(ee,"class","d-flex flex-column gap-2"),d(fe,"class",ke="fw-lighter fst-italic text-"+n[14].type),te(ue,"d-none",!n[7]),d(x,"class","btn btn-primary position-relative"),d(Q,"class","d-flex justify-content-end align-items-center gap-2 flex-row"),d(e,"class","d-flex flex-column gap-4")},m(A,B){P(A,e,B),u(e,t),u(t,l),u(t,i),u(t,c),n[23](c),$(c,n[0].title),u(t,r),u(t,g),u(e,T),u(e,y),u(y,a),u(y,p),u(y,f),u(f,h),u(f,I),at(f,n[0].event_type,!0),u(e,L),W&&W.m(e,null),u(e,O),Y&&Y.m(e,null),u(e,E),u(e,M),u(M,H),u(M,_e),u(M,U),n[37](U),$(U,n[0].description),u(M,me),u(M,re),u(e,Ae),u(e,ee),u(ee,he),u(ee,Le),u(ee,G),n[40](G),$(G,n[0].location),u(ee,Me),u(ee,oe),u(e,Pe),u(e,Q),u(Q,fe),u(fe,Ee),u(Q,Be),u(Q,ue),Se(N,ue,null),u(Q,X),Z&&Z.m(Q,null),u(Q,pe),u(Q,x),ce.m(x,null),u(x,Ce),J&&J.m(x,null),R=!0,Je||(lt=[q(c,"focus",n[24]),q(c,"input",n[25]),q(f,"change",n[26]),q(U,"focus",n[38]),q(U,"input",n[39]),q(G,"focus",n[41]),q(G,"input",n[42]),q(x,"click",n[21])],Je=!0)},p(A,B){(!R||B[0]&2&&o!==(o=A[1]+"-title"))&&d(c,"name",o),(!R||B[0]&128)&&(c.disabled=A[7]),B[0]&1&&c.value!==A[0].title&&$(c,A[0].title),(!R||B[0]&64)&&te(c,"is-invalid",A[6]),B[0]&1&&at(f,A[0].event_type),A[2]?W?W.p(A,B):(W=ft(A),W.c(),W.m(e,O)):W&&(W.d(1),W=null),A[2]?Y?Y.p(A,B):(Y=ut(A),Y.c(),Y.m(e,E)):Y&&(Y.d(1),Y=null),(!R||B[0]&2&&ae!==(ae=A[1]+"-description"))&&d(U,"name",ae),(!R||B[0]&128)&&(U.disabled=A[7]),B[0]&1&&$(U,A[0].description),(!R||B[0]&32)&&te(U,"is-invalid",A[5]),(!R||B[0]&2&&ge!==(ge=A[1]+"-location"))&&d(G,"name",ge),(!R||B[0]&128)&&(G.disabled=A[7]),B[0]&1&&G.value!==A[0].location&&$(G,A[0].location),(!R||B[0]&16384)&&be!==(be=A[14].message+"")&&le(Ee,be),(!R||B[0]&16384&&ke!==(ke="fw-lighter fst-italic text-"+A[14].type))&&d(fe,"class",ke),(!R||B[0]&128)&&te(ue,"d-none",!A[7]),A[17]?Z?Z.p(A,B):(Z=dt(A),Z.c(),Z.m(Q,pe)):Z&&(Z.d(1),Z=null),Ge!==(Ge=nt(A))&&(ce.d(1),ce=Ge(A),ce&&(ce.c(),ce.m(x,Ce))),A[19]?J||(J=_t(),J.c(),J.m(x,null)):J&&(J.d(1),J=null)},i(A){R||(ne(N.$$.fragment,A),R=!0)},o(A){se(N.$$.fragment,A),R=!1},d(A){A&&m(e),n[23](null),W&&W.d(),Y&&Y.d(),n[37](null),n[40](null),Ve(N),Z&&Z.d(),ce.d(),J&&J.d(),Je=!1,tt(lt)}}}function el(n,e,t){let l,s,i,c,o,r,g,C,T,{name:y=""}=e,{eventItem:a=rt}=e;const{actions:{reload:k}}=Ot();let p=!1,f,h,_,I,w,L,O={message:"",type:"info"},E={title:"",description:"",start_time:"",end_time:"",location:"",is_all_day:!1,event_type:"announcement"},M=s&&a.start_time?Ue(Re(He(a.start_time),Fe),"HH:mm"):"",H=s&&a.end_time?Ue(Re(He(a.end_time),Fe),"HH:mm"):"";const K=(N,X=0,pe="info")=>{t(14,O.message=N,O),t(14,O.type=pe,O),X&&setTimeout(()=>{t(14,O.message="",O)},X)},_e=async()=>{if(!l){K("ID is not defined",0,"danger");return}try{await Gt(l),await k(),Ye("set_calendar_event_success","interaction","Delete Calendar Event Successful",1),setTimeout(()=>{t(7,p=!1),t(22,E={...a,id:l}),K("Event Deleted",3e3,"success"),t(0,a=rt)},800)}catch(N){Ye("set_calendar_event_failed","interaction","Delete Calendar Event Failed",1),setTimeout(()=>{t(7,p=!1),console.error("Save failed:",N),K("Failed to save event. Please try again.",7e3,"danger")},800)}},U=()=>{t(7,p=!0),Zt({title:"Delete Confirmation",message:"Are you sure you want to do this?  You won't be able to undo this.",confirmButtonLabel:"Yes",confirmButtonCSS:"btn-danger",callback:N=>{N?_e():t(7,p=!1)}})},ae=()=>{if(!T){let N=[];return c&&N.push("Title is invalid"),o&&N.push("Description is invalid"),r&&N.push("Start time is invalid"),g&&N.push("End time is invalid"),K(N.join(". ")+".  Please address accordingly.",0,"danger"),!1}return!0},me=async()=>{if(!i){K("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}if(!ae()||p)return;K("Saving ..."),t(7,p=!0);const N=(X,pe)=>{const[x,Ce]=pe.split(":").map(Number);let R=Qt(X,x);return R=Xt(R,Ce),R};try{let X={title:a.title,description:a.description,location:a.location,event_type:a.event_type};s&&(X={...X,start_time:N(ot(C,"yyyy-MM-dd",new Date),M).toISOString(),end_time:N(ot(C,"yyyy-MM-dd",new Date),H).toISOString(),is_all_day:a.is_all_day}),l?await jt(l,X):await zt(X),await k(),Ye("set_calendar_event_success","interaction",`Set Calendar Event Successful ${a.title}`,1),setTimeout(()=>{t(7,p=!1),t(22,E={...a,id:l}),K("Saved",3e3,"success")},800)}catch(X){Ye("set_calendar_event_failed","interaction",`Set Calendar Event Failed ${a.title}`,1),setTimeout(()=>{t(7,p=!1),console.error("Save failed:",X),K("Failed to save event. Please try again.",7e3,"danger")},800)}};function re(N){Te[N?"unshift":"push"](()=>{f=N,t(8,f)})}const qe=()=>f.select();function Ae(){a.title=this.value,t(0,a)}function ee(){a.event_type=Ht(this),t(0,a)}function he(N){Te[N?"unshift":"push"](()=>{_=N,t(10,_)})}const je=()=>_.select();function Le(){C=this.value,t(18,C),t(2,s),t(0,a)}function G(){a.is_all_day=this.checked,t(0,a)}function ge(N){Te[N?"unshift":"push"](()=>{I=N,t(11,I)})}const Me=()=>I.select();function oe(){M=this.value,t(15,M)}function ze(N){Te[N?"unshift":"push"](()=>{w=N,t(12,w)})}const Pe=()=>w.select();function Q(){H=this.value,t(16,H)}function fe(N){Te[N?"unshift":"push"](()=>{h=N,t(9,h)})}const be=()=>h.select();function Ee(){a.description=this.value,t(0,a)}function ke(N){Te[N?"unshift":"push"](()=>{L=N,t(13,L)})}const Be=()=>L.select();function ue(){a.location=this.value,t(0,a)}return n.$$set=N=>{"name"in N&&t(1,y=N.name),"eventItem"in N&&t(0,a=N.eventItem)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(17,l=a.id),n.$$.dirty[0]&1&&t(2,s=a.event_type==="calendar_event"),n.$$.dirty[0]&4194305&&t(19,i=E.title!==a.title||E.start_time!==a.start_time||E.end_time!==a.end_time||E.location!==a.location||E.is_all_day!==a.is_all_day),n.$$.dirty[0]&1&&t(6,c=a.title===""),n.$$.dirty[0]&1&&t(4,r=a.start_time===""),n.$$.dirty[0]&1&&t(3,g=a.end_time===""),n.$$.dirty[0]&5&&t(18,C=s&&a.start_time?Ue(Re(He(a.start_time),Fe),"yyyy-MM-dd"):""),n.$$.dirty[0]&120&&(T=!c&&!o&&!r&&!g)},t(5,o=!1),[a,y,s,g,r,o,c,p,f,h,_,I,w,L,O,M,H,l,C,i,U,me,E,re,qe,Ae,ee,he,je,Le,G,ge,Me,oe,ze,Pe,Q,fe,be,Ee,ke,Be,ue]}class tl extends Qe{constructor(e){super(),Xe(this,e,el,xt,Ze,{name:1,eventItem:0},null,[-1,-1])}}function mt(n,e,t){const l=n.slice();return l[20]=e[t],l}function ht(n,e,t){const l=n.slice();return l[20]=e[t],l}function ll(n){let e,t;return e=new tl({props:{eventItem:n[3],name:"calendar-event-item-form"}}),{c(){we(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,s){Se(e,l,s),t=!0},p(l,s){const i={};s&8&&(i.eventItem=l[3]),e.$set(i)},i(l){t||(ne(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){Ve(e,l)}}}function nl(n){let e,t;return e=new Bt({}),{c(){we(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,s){Se(e,l,s),t=!0},p:de,i(l){t||(ne(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){Ve(e,l)}}}function sl(n){let e;function t(i,c){return i[5]?.length?al:il}let l=t(n),s=l(n);return{c(){s.c(),e=ie()},l(i){s.l(i),e=ie()},m(i,c){s.m(i,c),P(i,e,c)},p(i,c){l===(l=t(i))&&s?s.p(i,c):(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},i:de,o:de,d(i){i&&m(e),s.d(i)}}}function il(n){let e,t="There are no events logged";return{c(){e=v("div"),e.textContent=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-10lllm0"&&(e.textContent=t),this.h()},h(){d(e,"class","card-body")},m(l,s){P(l,e,s)},p:de,d(l){l&&m(e)}}}function al(n){let e,t,l,s,i,c,o,r,g,C,T,y=Oe(n[6]),a=[];for(let f=0;f<y.length;f+=1)a[f]=kt(ht(n,y,f));let k=Oe(n[5]),p=[];for(let f=0;f<k.length;f+=1)p[f]=Nt(mt(n,k,f));return{c(){e=v("div"),t=v("button"),l=v("i"),s=j(`
					Add New Calendar Event`),c=S(),o=v("ul");for(let f=0;f<a.length;f+=1)a[f].c();r=S(),g=v("ul");for(let f=0;f<p.length;f+=1)p[f].c();this.h()},l(f){e=b(f,"DIV",{class:!0});var h=D(e);t=b(h,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var _=D(t);l=b(_,"I",{class:!0}),D(l).forEach(m),s=z(_,`
					Add New Calendar Event`),_.forEach(m),h.forEach(m),c=V(f),o=b(f,"UL",{class:!0});var I=D(o);for(let L=0;L<a.length;L+=1)a[L].l(I);I.forEach(m),r=V(f),g=b(f,"UL",{class:!0});var w=D(g);for(let L=0;L<p.length;L+=1)p[L].l(w);w.forEach(m),this.h()},h(){d(l,"class","bi bi-plus"),d(t,"class","btn btn-sm btn-secondary"),d(t,"type","button"),d(t,"data-bs-toggle","offcanvas"),d(t,"data-bs-target",i="#"+n[0]),d(t,"aria-controls",n[0]),d(e,"class","card-body"),d(o,"class","list-group list-group-flush"),d(g,"class","list-group list-group-flush")},m(f,h){P(f,e,h),u(e,t),u(t,l),u(t,s),P(f,c,h),P(f,o,h);for(let _=0;_<a.length;_+=1)a[_]&&a[_].m(o,null);P(f,r,h),P(f,g,h);for(let _=0;_<p.length;_+=1)p[_]&&p[_].m(g,null);C||(T=q(t,"click",n[14]),C=!0)},p(f,h){if(h&1&&i!==(i="#"+f[0])&&d(t,"data-bs-target",i),h&1&&d(t,"aria-controls",f[0]),h&14403){y=Oe(f[6]);let _;for(_=0;_<y.length;_+=1){const I=ht(f,y,_);a[_]?a[_].p(I,h):(a[_]=kt(I),a[_].c(),a[_].m(o,null))}for(;_<a.length;_+=1)a[_].d(1);a.length=y.length}if(h&15395){k=Oe(f[5]);let _;for(_=0;_<k.length;_+=1){const I=mt(f,k,_);p[_]?p[_].p(I,h):(p[_]=Nt(I),p[_].c(),p[_].m(g,null))}for(;_<p.length;_+=1)p[_].d(1);p.length=k.length}},d(f){f&&(m(e),m(c),m(o),m(r),m(g)),et(a,f),et(p,f),C=!1,T()}}}function pt(n){let e,t=!n[20].is_all_day&&vt(n);return{c(){t&&t.c(),e=ie()},l(l){t&&t.l(l),e=ie()},m(l,s){t&&t.m(l,s),P(l,e,s)},p(l,s){l[20].is_all_day?t&&(t.d(1),t=null):t?t.p(l,s):(t=vt(l),t.c(),t.m(e.parentNode,e))},d(l){l&&m(e),t&&t.d(l)}}}function vt(n){let e,t=n[11](n[20].start_time)+"",l,s,i=n[11](n[20].end_time)+"",c;return{c(){e=v("span"),l=j(t),s=j(" to "),c=j(i),this.h()},l(o){e=b(o,"SPAN",{class:!0});var r=D(e);l=z(r,t),s=z(r," to "),c=z(r,i),r.forEach(m),this.h()},h(){d(e,"class","d-block")},m(o,r){P(o,e,r),u(e,l),u(e,s),u(e,c)},p(o,r){r&64&&t!==(t=o[11](o[20].start_time)+"")&&le(l,t),r&64&&i!==(i=o[11](o[20].end_time)+"")&&le(c,i)},d(o){o&&m(e)}}}function bt(n){let e,t=n[20].description+"",l;return{c(){e=v("span"),l=j(t),this.h()},l(s){e=b(s,"SPAN",{class:!0});var i=D(e);l=z(i,t),i.forEach(m),this.h()},h(){d(e,"class","d-block small")},m(s,i){P(s,e,i),u(e,l)},p(s,i){i&64&&t!==(t=s[20].description+"")&&le(l,t)},d(s){s&&m(e)}}}function gt(n){let e,t=n[20].location+"",l;return{c(){e=v("em"),l=j(t),this.h()},l(s){e=b(s,"EM",{class:!0});var i=D(e);l=z(i,t),i.forEach(m),this.h()},h(){d(e,"class","d-block small fw-lighter")},m(s,i){P(s,e,i),u(e,l)},p(s,i){i&64&&t!==(t=s[20].location+"")&&le(l,t)},d(s){s&&m(e)}}}function Et(n){let e,t,l,s,i;function c(){return n[15](n[20])}return{c(){e=v("button"),t=v("i"),this.h()},l(o){e=b(o,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var r=D(e);t=b(r,"I",{class:!0}),D(t).forEach(m),r.forEach(m),this.h()},h(){d(t,"class","bi bi-pencil"),d(e,"class","btn btn-sm btn-secondary"),d(e,"type","button"),d(e,"data-bs-toggle","offcanvas"),d(e,"data-bs-target",l="#"+n[0]),d(e,"aria-controls",n[0])},m(o,r){P(o,e,r),u(e,t),s||(i=q(e,"click",c),s=!0)},p(o,r){n=o,r&1&&l!==(l="#"+n[0])&&d(e,"data-bs-target",l),r&1&&d(e,"aria-controls",n[0])},d(o){o&&m(e),s=!1,i()}}}function kt(n){let e,t,l,s,i,c=n[20].title+"",o,r,g=n[13](n[20]),C,T,y,a,k,p=g&&pt(n),f=n[20].description&&bt(n),h=n[20].location&&gt(n),_=n[1]&&Et(n);return{c(){e=v("li"),t=v("div"),l=v("div"),s=v("div"),i=v("strong"),o=j(c),r=S(),p&&p.c(),C=S(),f&&f.c(),T=S(),h&&h.c(),y=S(),a=v("div"),_&&_.c(),k=S(),this.h()},l(I){e=b(I,"LI",{class:!0});var w=D(e);t=b(w,"DIV",{class:!0});var L=D(t);l=b(L,"DIV",{class:!0});var O=D(l);s=b(O,"DIV",{});var E=D(s);i=b(E,"STRONG",{});var M=D(i);o=z(M,c),M.forEach(m),r=V(E),p&&p.l(E),C=V(E),f&&f.l(E),T=V(E),h&&h.l(E),E.forEach(m),O.forEach(m),y=V(L),a=b(L,"DIV",{});var H=D(a);_&&_.l(H),H.forEach(m),L.forEach(m),k=V(w),w.forEach(m),this.h()},h(){d(l,"class","d-flex flex-sm-column flex-md-row flex-xl-row flex-lg-row gap-3"),d(t,"class","d-flex justify-content-between"),d(e,"class","list-group-item")},m(I,w){P(I,e,w),u(e,t),u(t,l),u(l,s),u(s,i),u(i,o),u(s,r),p&&p.m(s,null),u(s,C),f&&f.m(s,null),u(s,T),h&&h.m(s,null),u(t,y),u(t,a),_&&_.m(a,null),u(e,k)},p(I,w){w&64&&c!==(c=I[20].title+"")&&le(o,c),w&64&&(g=I[13](I[20])),g?p?p.p(I,w):(p=pt(I),p.c(),p.m(s,C)):p&&(p.d(1),p=null),I[20].description?f?f.p(I,w):(f=bt(I),f.c(),f.m(s,T)):f&&(f.d(1),f=null),I[20].location?h?h.p(I,w):(h=gt(I),h.c(),h.m(s,null)):h&&(h.d(1),h=null),I[1]?_?_.p(I,w):(_=Et(I),_.c(),_.m(a,null)):_&&(_.d(1),_=null)},d(I){I&&m(e),p&&p.d(),f&&f.d(),h&&h.d(),_&&_.d()}}}function Ct(n){let e,t=n[10](n[20].start_time)+"",l;return{c(){e=v("strong"),l=j(t)},l(s){e=b(s,"STRONG",{});var i=D(e);l=z(i,t),i.forEach(m)},m(s,i){P(s,e,i),u(e,l)},p(s,i){i&32&&t!==(t=s[10](s[20].start_time)+"")&&le(l,t)},d(s){s&&m(e)}}}function It(n){let e,t=!n[20].is_all_day&&yt(n);return{c(){t&&t.c(),e=ie()},l(l){t&&t.l(l),e=ie()},m(l,s){t&&t.m(l,s),P(l,e,s)},p(l,s){l[20].is_all_day?t&&(t.d(1),t=null):t?t.p(l,s):(t=yt(l),t.c(),t.m(e.parentNode,e))},d(l){l&&m(e),t&&t.d(l)}}}function yt(n){let e,t=n[11](n[20].start_time)+"",l,s,i=n[11](n[20].end_time)+"",c;return{c(){e=v("span"),l=j(t),s=j(" to "),c=j(i),this.h()},l(o){e=b(o,"SPAN",{class:!0});var r=D(e);l=z(r,t),s=z(r," to "),c=z(r,i),r.forEach(m),this.h()},h(){d(e,"class","d-block")},m(o,r){P(o,e,r),u(e,l),u(e,s),u(e,c)},p(o,r){r&32&&t!==(t=o[11](o[20].start_time)+"")&&le(l,t),r&32&&i!==(i=o[11](o[20].end_time)+"")&&le(c,i)},d(o){o&&m(e)}}}function Dt(n){let e,t=n[20].description+"",l;return{c(){e=v("span"),l=j(t),this.h()},l(s){e=b(s,"SPAN",{class:!0});var i=D(e);l=z(i,t),i.forEach(m),this.h()},h(){d(e,"class","d-block small")},m(s,i){P(s,e,i),u(e,l)},p(s,i){i&32&&t!==(t=s[20].description+"")&&le(l,t)},d(s){s&&m(e)}}}function Tt(n){let e,t=n[20].location+"",l;return{c(){e=v("em"),l=j(t),this.h()},l(s){e=b(s,"EM",{class:!0});var i=D(e);l=z(i,t),i.forEach(m),this.h()},h(){d(e,"class","d-block small fw-lighter")},m(s,i){P(s,e,i),u(e,l)},p(s,i){i&32&&t!==(t=s[20].location+"")&&le(l,t)},d(s){s&&m(e)}}}function wt(n){let e,t,l,s,i;function c(){return n[16](n[20])}return{c(){e=v("button"),t=v("i"),this.h()},l(o){e=b(o,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var r=D(e);t=b(r,"I",{class:!0}),D(t).forEach(m),r.forEach(m),this.h()},h(){d(t,"class","bi bi-pencil"),d(e,"class","btn btn-sm btn-secondary"),d(e,"type","button"),d(e,"data-bs-toggle","offcanvas"),d(e,"data-bs-target",l="#"+n[0]),d(e,"aria-controls",n[0])},m(o,r){P(o,e,r),u(e,t),s||(i=q(e,"click",c),s=!0)},p(o,r){n=o,r&1&&l!==(l="#"+n[0])&&d(e,"data-bs-target",l),r&1&&d(e,"aria-controls",n[0])},d(o){o&&m(e),s=!1,i()}}}function Nt(n){let e,t,l,s,i=n[13](n[20]),c,o,r,g=n[20].title+"",C,T,y=n[13](n[20]),a,k,p,f,h,_=i&&Ct(n),I=y&&It(n),w=n[20].description&&Dt(n),L=n[20].location&&Tt(n),O=n[1]&&wt(n);return{c(){e=v("li"),t=v("div"),l=v("div"),s=v("div"),_&&_.c(),c=S(),o=v("div"),r=v("strong"),C=j(g),T=S(),I&&I.c(),a=S(),w&&w.c(),k=S(),L&&L.c(),p=S(),f=v("div"),O&&O.c(),h=S(),this.h()},l(E){e=b(E,"LI",{class:!0});var M=D(e);t=b(M,"DIV",{class:!0});var H=D(t);l=b(H,"DIV",{class:!0});var K=D(l);s=b(K,"DIV",{style:!0});var _e=D(s);_&&_.l(_e),_e.forEach(m),c=V(K),o=b(K,"DIV",{});var U=D(o);r=b(U,"STRONG",{});var ae=D(r);C=z(ae,g),ae.forEach(m),T=V(U),I&&I.l(U),a=V(U),w&&w.l(U),k=V(U),L&&L.l(U),U.forEach(m),K.forEach(m),p=V(H),f=b(H,"DIV",{});var me=D(f);O&&O.l(me),me.forEach(m),H.forEach(m),h=V(M),M.forEach(m),this.h()},h(){Rt(s,"width","85px"),d(l,"class","d-flex flex-sm-column flex-md-row flex-xl-row flex-lg-row gap-3"),d(t,"class","d-flex justify-content-between"),d(e,"class","list-group-item")},m(E,M){P(E,e,M),u(e,t),u(t,l),u(l,s),_&&_.m(s,null),u(l,c),u(l,o),u(o,r),u(r,C),u(o,T),I&&I.m(o,null),u(o,a),w&&w.m(o,null),u(o,k),L&&L.m(o,null),u(t,p),u(t,f),O&&O.m(f,null),u(e,h)},p(E,M){M&32&&(i=E[13](E[20])),i?_?_.p(E,M):(_=Ct(E),_.c(),_.m(s,null)):_&&(_.d(1),_=null),M&32&&g!==(g=E[20].title+"")&&le(C,g),M&32&&(y=E[13](E[20])),y?I?I.p(E,M):(I=It(E),I.c(),I.m(o,a)):I&&(I.d(1),I=null),E[20].description?w?w.p(E,M):(w=Dt(E),w.c(),w.m(o,k)):w&&(w.d(1),w=null),E[20].location?L?L.p(E,M):(L=Tt(E),L.c(),L.m(o,null)):L&&(L.d(1),L=null),E[1]?O?O.p(E,M):(O=wt(E),O.c(),O.m(f,null)):O&&(O.d(1),O=null)},d(E){E&&m(e),_&&_.d(),I&&I.d(),w&&w.d(),L&&L.d(),O&&O.d()}}}function rl(n){let e,t,l,s,i="Calendar Events",c,o,r,g;e=new Wt({props:{title:n[2],id:n[0],$$slots:{default:[ll]},$$scope:{ctx:n}}});const C=[sl,nl],T=[];function y(a,k){return a[4]?0:1}return o=y(n),r=T[o]=C[o](n),{c(){we(e.$$.fragment),t=S(),l=v("div"),s=v("div"),s.textContent=i,c=S(),r.c(),this.h()},l(a){Ne(e.$$.fragment,a),t=V(a),l=b(a,"DIV",{class:!0});var k=D(l);s=b(k,"DIV",{class:!0,"data-svelte-h":!0}),F(s)!=="svelte-1on85xs"&&(s.textContent=i),c=V(k),r.l(k),k.forEach(m),this.h()},h(){d(s,"class","card-header"),d(l,"class","card")},m(a,k){Se(e,a,k),P(a,t,k),P(a,l,k),u(l,s),u(l,c),T[o].m(l,null),g=!0},p(a,[k]){const p={};k&4&&(p.title=a[2]),k&1&&(p.id=a[0]),k&33554440&&(p.$$scope={dirty:k,ctx:a}),e.$set(p);let f=o;o=y(a),o===f?T[o].p(a,k):(Vt(),se(T[f],1,1,()=>{T[f]=null}),At(),r=T[o],r?r.p(a,k):(r=T[o]=C[o](a),r.c()),ne(r,1),r.m(l,null))},i(a){g||(ne(e.$$.fragment,a),ne(r),g=!0)},o(a){se(e.$$.fragment,a),se(r),g=!1},d(a){a&&(m(t),m(l)),Ve(e,a),T[o].d()}}}let ol="New Calendar Event",fl="Edit Calendar Event";function ul(n,e,t){let l,s,i;const{actions:{featureIsEnabled:c}}=Lt(),{stores:{ready:o,calendarEvents:r,announcements:g},actions:{reload:C}}=Ot();xe(n,o,E=>t(4,l=E)),xe(n,r,E=>t(5,s=E)),xe(n,g,E=>t(6,i=E));const T={title:"Event",description:"",location:"",event_type:"announcement"};let{formId:y=Yt()}=e,a=!1,k="",p={...T};St(async()=>{t(1,a=c(Mt.EditDBCalendarEvent)),await C()});const f=E=>{if(!E)return"";const M=He(E),H=Re(M,Fe);return Ue(H,"MMM, dd")},h=E=>{if(!E)return"";const M=He(E),H=Re(M,Fe);return Ue(H,"h:mm aa")},_=(E=void 0)=>{E?(t(2,k=fl),t(3,p=E)):(t(2,k=ol),t(3,p={...T}))},I=E=>E.event_type==="calendar_event",w=()=>_(),L=E=>_(E),O=E=>_(E);return n.$$set=E=>{"formId"in E&&t(0,y=E.formId)},[y,a,k,p,l,s,i,o,r,g,f,h,_,I,w,L,O]}class cl extends Qe{constructor(e){super(),Xe(this,e,ul,rl,Ze,{formId:0})}}function dl(n,e,t){const l=n.slice();return l[0]=e[t],l}function _l(n){let e,t,l,s=n[0].when+"",i,c,o,r=n[0].title+"",g,C,T,y,a,k=n[0].details+"",p;return{c(){e=v("li"),t=v("strong"),l=v("small"),i=j(s),c=v("br"),o=S(),g=j(r),C=v("br"),T=S(),y=v("em"),a=new Ft(!1),p=S(),this.h()},l(f){e=b(f,"LI",{class:!0});var h=D(e);t=b(h,"STRONG",{});var _=D(t);l=b(_,"SMALL",{});var I=D(l);i=z(I,s),I.forEach(m),_.forEach(m),c=b(h,"BR",{}),o=V(h),g=z(h,r),C=b(h,"BR",{}),T=V(h),y=b(h,"EM",{class:!0});var w=D(y);a=qt(w,!1),w.forEach(m),p=V(h),h.forEach(m),this.h()},h(){a.a=null,d(y,"class","small fw-lighter"),d(e,"class","list-group-item")},m(f,h){P(f,e,h),u(e,t),u(t,l),u(l,i),u(e,c),u(e,o),u(e,g),u(e,C),u(e,T),u(e,y),a.m(k,y),u(e,p)},p:de,d(f){f&&m(e)}}}function ml(n){let e,t,l="Announcements",s,i,c=Oe(Kt),o=[];for(let r=0;r<c.length;r+=1)o[r]=_l(dl(n,c,r));return{c(){e=v("div"),t=v("div"),t.textContent=l,s=S(),i=v("ul");for(let r=0;r<o.length;r+=1)o[r].c();this.h()},l(r){e=b(r,"DIV",{class:!0});var g=D(e);t=b(g,"DIV",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-rw6gj3"&&(t.textContent=l),s=V(g),i=b(g,"UL",{class:!0});var C=D(i);for(let T=0;T<o.length;T+=1)o[T].l(C);C.forEach(m),g.forEach(m),this.h()},h(){d(t,"class","card-header"),d(i,"class","list-group list-group-flush"),d(e,"class","card")},m(r,g){P(r,e,g),u(e,t),u(e,s),u(e,i);for(let C=0;C<o.length;C+=1)o[C]&&o[C].m(i,null)},p:de,i:de,o:de,d(r){r&&m(e),et(o,r)}}}class hl extends Qe{constructor(e){super(),Xe(this,e,null,ml,Ze,{})}}function pl(n){let e,t;return e=new hl({}),{c(){we(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,s){Se(e,l,s),t=!0},i(l){t||(ne(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){Ve(e,l)}}}function vl(n){let e,t;return e=new cl({}),{c(){we(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,s){Se(e,l,s),t=!0},i(l){t||(ne(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){Ve(e,l)}}}function bl(n){let e,t,l,s;const i=[vl,pl],c=[];function o(r,g){return r[0]?0:1}return e=o(n),t=c[e]=i[e](n),{c(){t.c(),l=ie()},l(r){t.l(r),l=ie()},m(r,g){c[e].m(r,g),P(r,l,g),s=!0},p(r,[g]){let C=e;e=o(r),e!==C&&(Vt(),se(c[C],1,1,()=>{c[C]=null}),At(),t=c[e],t||(t=c[e]=i[e](r),t.c()),ne(t,1),t.m(l.parentNode,l))},i(r){s||(ne(t),s=!0)},o(r){se(t),s=!1},d(r){r&&m(l),c[e].d(r)}}}function gl(n,e,t){const{actions:{featureIsEnabled:l}}=Lt();let s=!1;return St(async()=>{t(0,s=l(Mt.ViewDBCalendarEvents))}),[s]}class Vl extends Qe{constructor(e){super(),Xe(this,e,gl,bl,Ze,{})}}export{Vl as C};
