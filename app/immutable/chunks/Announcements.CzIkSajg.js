import{s as Fe,c as at,u as st,g as it,a as rt,r as At,o as Dt,t as Lt,h as Ce,n as ye}from"./scheduler.C9-2ehqC.js";import{S as je,i as He,e as m,b as oe,s as T,j as h,k,m as ue,d as b,f as S,n as i,o as z,q as u,r as Pe,t as q,a as j,c as Oe,g as ze,p as Ge,u as We,l as O,x as K,C as Y,B as H,w as ot,v as ut,D as Tt}from"./index.DV0H2daQ.js";import{e as nt}from"./Header.DHJbIo2C.js";import{s as St,F as gt,a as Ut,A as Nt}from"./supabase-config.Cp0zhWh4.js";import{w as Rt}from"./index.-KbeAlZo.js";import{S as Bt}from"./Spinner.DTkmz9vP.js";const Mt=Rt([]);async function Vt(){const{data:t,error:e}=await St.from("calendar_events").select("*");if(e)throw e;return Mt.set(t),t}async function qt(t,e){const{data:l,error:n}=await St.from("calendar_events").update(e).eq("id",t);if(n)throw n;return await Vt(),l}var R=[];for(var lt=0;lt<256;++lt)R.push((lt+256).toString(16).slice(1));function Pt(t,e=0){return(R[t[e+0]]+R[t[e+1]]+R[t[e+2]]+R[t[e+3]]+"-"+R[t[e+4]]+R[t[e+5]]+"-"+R[t[e+6]]+R[t[e+7]]+"-"+R[t[e+8]]+R[t[e+9]]+"-"+R[t[e+10]]+R[t[e+11]]+R[t[e+12]]+R[t[e+13]]+R[t[e+14]]+R[t[e+15]]).toLowerCase()}var qe,Ft=new Uint8Array(16);function jt(){if(!qe&&(qe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!qe))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qe(Ft)}var Ht=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const bt={randomUUID:Ht};function Ot(t,e,l){if(bt.randomUUID&&!e&&!t)return bt.randomUUID();t=t||{};var n=t.random||(t.rng||jt)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Pt(n)}function zt(t){let e,l,n,a,r,s,d,o,c,f,p;const _=t[8].default,y=at(_,t,t[7],null);return{c(){e=m("div"),l=m("div"),n=m("h4"),a=oe(t[1]),r=T(),s=m("button"),o=T(),c=m("div"),y&&y.c(),this.h()},l(E){e=h(E,"DIV",{class:!0,tabindex:!0,id:!0,"aria-labelledby":!0});var v=k(e);l=h(v,"DIV",{class:!0});var D=k(l);n=h(D,"H4",{class:!0,id:!0});var A=k(n);a=ue(A,t[1]),A.forEach(b),r=S(D),s=h(D,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-bs-target":!0,"aria-label":!0}),k(s).forEach(b),D.forEach(b),o=S(v),c=h(v,"DIV",{class:!0});var N=k(c);y&&y.l(N),N.forEach(b),v.forEach(b),this.h()},h(){i(n,"class","offcanvas-title"),i(n,"id",t[4]),i(s,"type","button"),i(s,"class","btn-close"),i(s,"data-bs-dismiss","offcanvas"),i(s,"data-bs-target",d="#"+t[0]),i(s,"aria-label","Close"),i(l,"class","offcanvas-header"),i(c,"class","offcanvas-body"),i(e,"class",f=t[3]+" "+t[2]),i(e,"tabindex","-1"),i(e,"id",t[0]),i(e,"aria-labelledby",t[4])},m(E,v){z(E,e,v),u(e,l),u(l,n),u(n,a),u(l,r),u(l,s),u(e,o),u(e,c),y&&y.m(c,null),p=!0},p(E,[v]){(!p||v&2)&&Pe(a,E[1]),(!p||v&1&&d!==(d="#"+E[0]))&&i(s,"data-bs-target",d),y&&y.p&&(!p||v&128)&&st(y,_,E,E[7],p?rt(_,E[7],v,null):it(E[7]),null),(!p||v&12&&f!==(f=E[3]+" "+E[2]))&&i(e,"class",f),(!p||v&1)&&i(e,"id",E[0])},i(E){p||(q(y,E),p=!0)},o(E){j(y,E),p=!1},d(E){E&&b(e),y&&y.d(E)}}}function Gt(t,e,l){let n,a,{$$slots:r={},$$scope:s}=e,{id:d}=e,{title:o}=e,{breakpoint:c=""}=e,{placement:f="end"}=e;const p=Ot();return t.$$set=_=>{"id"in _&&l(0,d=_.id),"title"in _&&l(1,o=_.title),"breakpoint"in _&&l(5,c=_.breakpoint),"placement"in _&&l(6,f=_.placement),"$$scope"in _&&l(7,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&l(3,n=`offcanvas${c===""?"":"-"+c}`),t.$$.dirty&64&&l(2,a=`offcanvas-${f}`)},[d,o,a,n,p,c,f,s,r]}class Wt extends je{constructor(e){super(),He(this,e,Gt,zt,Fe,{id:0,title:1,breakpoint:5,placement:6})}}const Qt=t=>({}),Et=t=>({});function Xt(t){let e;const l=t[2].default,n=at(l,t,t[3],null);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,r){n&&n.m(a,r),e=!0},p(a,r){n&&n.p&&(!e||r&8)&&st(n,l,a,a[3],e?rt(l,a[3],r,null):it(a[3]),null)},i(a){e||(q(n,a),e=!0)},o(a){j(n,a),e=!1},d(a){n&&n.d(a)}}}function Jt(t){let e,l,n,a,r;const s=t[2].label,d=at(s,t,t[3],Et);return a=new Wt({props:{title:t[1],id:t[0],$$slots:{default:[Xt]},$$scope:{ctx:t}}}),{c(){e=m("button"),d&&d.c(),n=T(),Oe(a.$$.fragment),this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var c=k(e);d&&d.l(c),c.forEach(b),n=S(o),ze(a.$$.fragment,o),this.h()},h(){i(e,"class","btn btn-secondary"),i(e,"type","button"),i(e,"data-bs-toggle","offcanvas"),i(e,"data-bs-target",l="#"+t[0]),i(e,"aria-controls",t[0])},m(o,c){z(o,e,c),d&&d.m(e,null),z(o,n,c),Ge(a,o,c),r=!0},p(o,[c]){d&&d.p&&(!r||c&8)&&st(d,s,o,o[3],r?rt(s,o[3],c,Qt):it(o[3]),Et),(!r||c&1&&l!==(l="#"+o[0]))&&i(e,"data-bs-target",l),(!r||c&1)&&i(e,"aria-controls",o[0]);const f={};c&2&&(f.title=o[1]),c&1&&(f.id=o[0]),c&8&&(f.$$scope={dirty:c,ctx:o}),a.$set(f)},i(o){r||(q(d,o),q(a.$$.fragment,o),r=!0)},o(o){j(d,o),j(a.$$.fragment,o),r=!1},d(o){o&&(b(e),b(n)),d&&d.d(o),We(a,o)}}}function Kt(t,e,l){let{$$slots:n={},$$scope:a}=e,{id:r=""}=e,{drawerTitle:s=""}=e;return t.$$set=d=>{"id"in d&&l(0,r=d.id),"drawerTitle"in d&&l(1,s=d.drawerTitle),"$$scope"in d&&l(3,a=d.$$scope)},[r,s,n,a]}class Yt extends je{constructor(e){super(),He(this,e,Kt,Jt,Fe,{id:0,drawerTitle:1})}}function Zt(t,e){typeof window<"u"&&window.gtag?window.gtag("event",t,e||{}):console.warn("gtag is not available")}function It(t,e,l,n){Zt(t,{event_category:e,event_label:l,value:n})}function wt(t){let e,l='<span class="visually-hidden">Item not saved</span>';return{c(){e=m("span"),e.innerHTML=l,this.h()},l(n){e=h(n,"SPAN",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-1g0a6ie"&&(e.innerHTML=l),this.h()},h(){i(e,"class","position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle")},m(n,a){z(n,e,a)},d(n){n&&b(e)}}}function xt(t){let e,l,n="<strong>Calendar Event</strong>",a,r,s,d="Title",o,c,f,p,_,y="Event title. i.e. Ward Conference, Ward BBQ Night",E,v,D,A="Description",N,C,Z,P,x,ke="Describe the event to the best of your knowledge",pe,G,$,De="Start time",ge,L,ce,be,W,ee,Te="End time",Ee,U,fe,w,F,te,ct="Location",Qe,B,Se,Xe,ae,ft="Location can be physical or virtual",Je,Ie,le,Q,Ve,Ke,ne,Ye,Ae,Ze,X,se,we=t[12].message+"",Le,Ue,xe,ie,re,$e,J,de,dt="Save",et,V,tt,_t;re=new Bt({props:{size:"xs"}});let M=t[13]&&wt();return{c(){e=m("div"),l=m("div"),l.innerHTML=n,a=T(),r=m("div"),s=m("div"),s.textContent=d,o=T(),c=m("input"),p=T(),_=m("small"),_.textContent=y,E=T(),v=m("div"),D=m("div"),D.textContent=A,N=T(),C=m("textarea"),P=T(),x=m("small"),x.textContent=ke,pe=T(),G=m("div"),$=m("div"),$.textContent=De,ge=T(),L=m("input"),be=T(),W=m("div"),ee=m("div"),ee.textContent=Te,Ee=T(),U=m("input"),w=T(),F=m("div"),te=m("div"),te.textContent=ct,Qe=T(),B=m("input"),Xe=T(),ae=m("small"),ae.textContent=ft,Je=T(),Ie=m("div"),le=m("div"),Q=m("input"),Ke=T(),ne=m("label"),Ye=oe("All Day Event"),Ze=T(),X=m("div"),se=m("small"),Le=oe(we),xe=T(),ie=m("span"),Oe(re.$$.fragment),$e=T(),J=m("button"),de=m("span"),de.textContent=dt,et=T(),M&&M.c(),this.h()},l(I){e=h(I,"DIV",{class:!0});var g=k(e);l=h(g,"DIV",{"data-svelte-h":!0}),O(l)!=="svelte-sc2qz1"&&(l.innerHTML=n),a=S(g),r=h(g,"DIV",{class:!0});var _e=k(r);s=h(_e,"DIV",{"data-svelte-h":!0}),O(s)!=="svelte-1vkxc90"&&(s.textContent=d),o=S(_e),c=h(_e,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),p=S(_e),_=h(_e,"SMALL",{class:!0,"data-svelte-h":!0}),O(_)!=="svelte-gvb7m1"&&(_.textContent=y),_e.forEach(b),E=S(g),v=h(g,"DIV",{class:!0});var me=k(v);D=h(me,"DIV",{"data-svelte-h":!0}),O(D)!=="svelte-1x8itd0"&&(D.textContent=A),N=S(me),C=h(me,"TEXTAREA",{name:!0,class:!0,placeholder:!0}),k(C).forEach(b),P=S(me),x=h(me,"SMALL",{class:!0,"data-svelte-h":!0}),O(x)!=="svelte-bky2ve"&&(x.textContent=ke),me.forEach(b),pe=S(g),G=h(g,"DIV",{class:!0});var Ne=k(G);$=h(Ne,"DIV",{"data-svelte-h":!0}),O($)!=="svelte-1rswwqf"&&($.textContent=De),ge=S(Ne),L=h(Ne,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),Ne.forEach(b),be=S(g),W=h(g,"DIV",{class:!0});var Re=k(W);ee=h(Re,"DIV",{"data-svelte-h":!0}),O(ee)!=="svelte-cgab46"&&(ee.textContent=Te),Ee=S(Re),U=h(Re,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),Re.forEach(b),w=S(g),F=h(g,"DIV",{class:!0});var he=k(F);te=h(he,"DIV",{"data-svelte-h":!0}),O(te)!=="svelte-szqbut"&&(te.textContent=ct),Qe=S(he),B=h(he,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),Xe=S(he),ae=h(he,"SMALL",{class:!0,"data-svelte-h":!0}),O(ae)!=="svelte-1drtb8l"&&(ae.textContent=ft),he.forEach(b),Je=S(g),Ie=h(g,"DIV",{});var mt=k(Ie);le=h(mt,"DIV",{class:!0});var Be=k(le);Q=h(Be,"INPUT",{class:!0,type:!0,id:!0}),Ke=S(Be),ne=h(Be,"LABEL",{class:!0,for:!0});var ht=k(ne);Ye=ue(ht,"All Day Event"),ht.forEach(b),Be.forEach(b),mt.forEach(b),Ze=S(g),X=h(g,"DIV",{class:!0});var ve=k(X);se=h(ve,"SMALL",{class:!0});var vt=k(se);Le=ue(vt,we),vt.forEach(b),xe=S(ve),ie=h(ve,"SPAN",{});var pt=k(ie);ze(re.$$.fragment,pt),pt.forEach(b),$e=S(ve),J=h(ve,"BUTTON",{class:!0});var Me=k(J);de=h(Me,"SPAN",{"data-svelte-h":!0}),O(de)!=="svelte-l126tb"&&(de.textContent=dt),et=S(Me),M&&M.l(Me),Me.forEach(b),ve.forEach(b),g.forEach(b),this.h()},h(){i(c,"name",f=t[1]+"-title"),i(c,"type","text"),i(c,"class","form-control"),i(c,"placeholder","Event title"),c.disabled=t[6],c.required=!0,K(c,"is-invalid",t[5]),i(_,"class","fw-lighter fst-italic"),i(r,"class","d-flex flex-column gap-2"),i(C,"name",Z=t[1]+"-description"),i(C,"class","form-control"),i(C,"placeholder","Event description"),C.disabled=t[6],C.required=!0,K(C,"is-invalid",t[4]),i(x,"class","fw-lighter fst-italic"),i(v,"class","d-flex flex-column gap-2"),i(L,"name",ce=t[1]+"-start-time"),i(L,"type","datetime-local"),i(L,"class","form-control"),i(L,"placeholder","Event title"),L.disabled=t[6],L.required=!0,K(L,"is-invalid",t[3]),i(G,"class","d-flex flex-column gap-2"),i(U,"name",fe=t[1]+"-end-time"),i(U,"type","datetime-local"),i(U,"class","form-control"),i(U,"placeholder","Event title"),U.disabled=t[6],U.required=!0,K(U,"is-invalid",t[2]),i(W,"class","d-flex flex-column gap-2"),i(B,"name",Se=t[1]+"-location"),i(B,"type","text"),i(B,"class","form-control"),i(B,"placeholder","Event title"),B.disabled=t[6],i(ae,"class","fw-lighter fst-italic"),i(F,"class","d-flex flex-column gap-2"),i(Q,"class","form-check-input"),i(Q,"type","checkbox"),i(Q,"id",Ve=t[1]+"-all-day-check"),i(ne,"class","form-check-label"),i(ne,"for",Ae=t[1]+"-all-day-check"),i(le,"class","form-check"),i(se,"class",Ue="fw-lighter fst-italic text-"+t[12].type),K(ie,"d-none",!t[6]),i(J,"class","btn btn-primary position-relative"),i(X,"class","d-flex justify-content-end align-items-center gap-2 flex-row"),i(e,"class","d-flex flex-column gap-4")},m(I,g){z(I,e,g),u(e,l),u(e,a),u(e,r),u(r,s),u(r,o),u(r,c),t[16](c),Y(c,t[0].title),u(r,p),u(r,_),u(e,E),u(e,v),u(v,D),u(v,N),u(v,C),t[19](C),Y(C,t[0].description),u(v,P),u(v,x),u(e,pe),u(e,G),u(G,$),u(G,ge),u(G,L),t[22](L),Y(L,t[0].start_time),u(e,be),u(e,W),u(W,ee),u(W,Ee),u(W,U),t[25](U),Y(U,t[0].end_time),u(e,w),u(e,F),u(F,te),u(F,Qe),u(F,B),t[28](B),Y(B,t[0].location),u(F,Xe),u(F,ae),u(e,Je),u(e,Ie),u(Ie,le),u(le,Q),Q.checked=t[0].is_all_day,u(le,Ke),u(le,ne),u(ne,Ye),u(e,Ze),u(e,X),u(X,se),u(se,Le),u(X,xe),u(X,ie),Ge(re,ie,null),u(X,$e),u(X,J),u(J,de),u(J,et),M&&M.m(J,null),V=!0,tt||(_t=[H(c,"focus",t[17]),H(c,"input",t[18]),H(C,"focus",t[20]),H(C,"input",t[21]),H(L,"focus",t[23]),H(L,"input",t[24]),H(U,"focus",t[26]),H(U,"input",t[27]),H(B,"focus",t[29]),H(B,"input",t[30]),H(Q,"change",t[31]),H(J,"click",t[14])],tt=!0)},p(I,g){(!V||g[0]&2&&f!==(f=I[1]+"-title"))&&i(c,"name",f),(!V||g[0]&64)&&(c.disabled=I[6]),g[0]&1&&c.value!==I[0].title&&Y(c,I[0].title),(!V||g[0]&32)&&K(c,"is-invalid",I[5]),(!V||g[0]&2&&Z!==(Z=I[1]+"-description"))&&i(C,"name",Z),(!V||g[0]&64)&&(C.disabled=I[6]),g[0]&1&&Y(C,I[0].description),(!V||g[0]&16)&&K(C,"is-invalid",I[4]),(!V||g[0]&2&&ce!==(ce=I[1]+"-start-time"))&&i(L,"name",ce),(!V||g[0]&64)&&(L.disabled=I[6]),g[0]&1&&Y(L,I[0].start_time),(!V||g[0]&8)&&K(L,"is-invalid",I[3]),(!V||g[0]&2&&fe!==(fe=I[1]+"-end-time"))&&i(U,"name",fe),(!V||g[0]&64)&&(U.disabled=I[6]),g[0]&1&&Y(U,I[0].end_time),(!V||g[0]&4)&&K(U,"is-invalid",I[2]),(!V||g[0]&2&&Se!==(Se=I[1]+"-location"))&&i(B,"name",Se),(!V||g[0]&64)&&(B.disabled=I[6]),g[0]&1&&B.value!==I[0].location&&Y(B,I[0].location),(!V||g[0]&2&&Ve!==(Ve=I[1]+"-all-day-check"))&&i(Q,"id",Ve),g[0]&1&&(Q.checked=I[0].is_all_day),(!V||g[0]&2&&Ae!==(Ae=I[1]+"-all-day-check"))&&i(ne,"for",Ae),(!V||g[0]&4096)&&we!==(we=I[12].message+"")&&Pe(Le,we),(!V||g[0]&4096&&Ue!==(Ue="fw-lighter fst-italic text-"+I[12].type))&&i(se,"class",Ue),(!V||g[0]&64)&&K(ie,"d-none",!I[6]),I[13]?M||(M=wt(),M.c(),M.m(J,null)):M&&(M.d(1),M=null)},i(I){V||(q(re.$$.fragment,I),V=!0)},o(I){j(re.$$.fragment,I),V=!1},d(I){I&&b(e),t[16](null),t[19](null),t[22](null),t[25](null),t[28](null),We(re),M&&M.d(),tt=!1,At(_t)}}}function $t(t,e,l){let n,a,r,s,d,o,{name:c=""}=e,{event:f={title:"",description:"",start_time:"",end_time:"",location:"",is_all_day:!1}}=e,p=!1,_=f.id,y,E,v,D,A,N={message:"",type:"info"},C={title:"",description:"",start_time:"",end_time:"",location:"",is_all_day:!1};const Z=async()=>{if(!n){P("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}if(!_){P("ID is not defined",0,"danger");return}if(!o){let w=[];a&&w.push("Title is invalid"),r&&w.push("Description is invalid"),s&&w.push("Start time is invalid"),d&&w.push("End time is invalid"),P(w.join(". ")+".  Please address accordingly.",0,"danger")}if(!p){P("Saving ..."),l(6,p=!0);try{const w={title:f.title,description:f.description,start_time:f.start_time,end_time:f.end_time,location:f.location,is_all_day:f.is_all_day};await qt(_,w),It("set_calendar_event_success","interaction",`Set Calendar Event Successful ${f.title}`,1),setTimeout(()=>{l(6,p=!1),l(15,C={...f,id:_}),P("Saved",3e3,"success")},800)}catch(w){It("set_calendar_event_failed","interaction",`Set Calendar Event Failed ${f.title}`,1),setTimeout(()=>{l(6,p=!1),console.error("Save failed:",w),P("Failed to save event. Please try again.",7e3,"danger")},800)}}},P=(w,F=0,te="info")=>{l(12,N.message=w,N),l(12,N.type=te,N),F&&setTimeout(()=>{l(12,N.message="",N)},F)};Dt(()=>{Lt()});function x(w){Ce[w?"unshift":"push"](()=>{y=w,l(7,y)})}const ke=()=>y.select();function pe(){f.title=this.value,l(0,f)}function G(w){Ce[w?"unshift":"push"](()=>{E=w,l(8,E)})}const $=()=>E.select();function De(){f.description=this.value,l(0,f)}function ge(w){Ce[w?"unshift":"push"](()=>{v=w,l(9,v)})}const L=()=>v.select();function ce(){f.start_time=this.value,l(0,f)}function be(w){Ce[w?"unshift":"push"](()=>{D=w,l(10,D)})}const W=()=>D.select();function ee(){f.end_time=this.value,l(0,f)}function Te(w){Ce[w?"unshift":"push"](()=>{A=w,l(11,A)})}const Ee=()=>A.select();function U(){f.location=this.value,l(0,f)}function fe(){f.is_all_day=this.checked,l(0,f)}return t.$$set=w=>{"name"in w&&l(1,c=w.name),"event"in w&&l(0,f=w.event)},t.$$.update=()=>{t.$$.dirty[0]&32769&&l(13,n=C.title!==f.title||C.description!==f.description||C.start_time!==f.start_time||C.end_time!==f.end_time||C.location!==f.location||C.is_all_day!==f.is_all_day),t.$$.dirty[0]&1&&l(5,a=f.title===""),t.$$.dirty[0]&1&&l(4,r=f.description===""),t.$$.dirty[0]&1&&l(3,s=f.start_time===""),t.$$.dirty[0]&1&&l(2,d=f.end_time===""),t.$$.dirty[0]&60&&(o=!!(_&&a&&r&&s&&d)),t.$$.dirty[0]&1&&console.log("### event",f)},[f,c,d,s,r,a,p,y,E,v,D,A,N,n,Z,C,x,ke,pe,G,$,De,ge,L,ce,be,W,ee,Te,Ee,U,fe]}class el extends je{constructor(e){super(),He(this,e,$t,xt,Fe,{name:1,event:0},null,[-1,-1])}}function tl(t,e,l){const n=t.slice();return n[4]=e[l],n}function Ct(t,e,l){const n=t.slice();return n[4]=e[l],n[6]=l,n}function ll(t){let e,l=nt(Nt),n=[];for(let a=0;a<l.length;a+=1)n[a]=al(tl(t,l,a));return{c(){e=m("ul");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=h(a,"UL",{class:!0});var r=k(e);for(let s=0;s<n.length;s+=1)n[s].l(r);r.forEach(b),this.h()},h(){i(e,"class","list-group list-group-flush")},m(a,r){z(a,e,r);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p:ye,i:ye,o:ye,d(a){a&&b(e),Tt(n,a)}}}function nl(t){let e,l,n=nt(t[2]),a=[];for(let s=0;s<n.length;s+=1)a[s]=kt(Ct(t,n,s));const r=s=>j(a[s],1,1,()=>{a[s]=null});return{c(){e=m("ul");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=h(s,"UL",{class:!0});var d=k(e);for(let o=0;o<a.length;o+=1)a[o].l(d);d.forEach(b),this.h()},h(){i(e,"class","list-group list-group-flush")},m(s,d){z(s,e,d);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(e,null);l=!0},p(s,d){if(d&5){n=nt(s[2]);let o;for(o=0;o<n.length;o+=1){const c=Ct(s,n,o);a[o]?(a[o].p(c,d),q(a[o],1)):(a[o]=kt(c),a[o].c(),q(a[o],1),a[o].m(e,null))}for(ot(),o=n.length;o<a.length;o+=1)r(o);ut()}},i(s){if(!l){for(let d=0;d<n.length;d+=1)q(a[d]);l=!0}},o(s){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)j(a[d]);l=!1},d(s){s&&b(e),Tt(a,s)}}}function al(t){let e,l,n,a=t[4].when+"",r,s,d,o=t[4].title+"",c,f;return{c(){e=m("li"),l=m("strong"),n=m("small"),r=oe(a),s=m("br"),d=T(),c=oe(o),f=T(),this.h()},l(p){e=h(p,"LI",{class:!0});var _=k(e);l=h(_,"STRONG",{});var y=k(l);n=h(y,"SMALL",{});var E=k(n);r=ue(E,a),E.forEach(b),y.forEach(b),s=h(_,"BR",{}),d=S(_),c=ue(_,o),f=S(_),_.forEach(b),this.h()},h(){i(e,"class","list-group-item")},m(p,_){z(p,e,_),u(e,l),u(l,n),u(n,r),u(e,s),u(e,d),u(e,c),u(e,f)},p:ye,d(p){p&&b(e)}}}function yt(t){let e,l;return e=new Yt({props:{drawerTitle:"Announcement Form",id:"sacrament-form"+t[6],$$slots:{label:[il],default:[sl]},$$scope:{ctx:t}}}),{c(){Oe(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ge(e,n,a),l=!0},p(n,a){const r={};a&516&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){l||(q(e.$$.fragment,n),l=!0)},o(n){j(e.$$.fragment,n),l=!1},d(n){We(e,n)}}}function sl(t){let e,l;return e=new el({props:{event:t[4],name:"item"+t[6]}}),{c(){Oe(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ge(e,n,a),l=!0},p(n,a){const r={};a&4&&(r.event=n[4]),e.$set(r)},i(n){l||(q(e.$$.fragment,n),l=!0)},o(n){j(e.$$.fragment,n),l=!1},d(n){We(e,n)}}}function il(t){let e;return{c(){e=m("i"),this.h()},l(l){e=h(l,"I",{slot:!0,class:!0}),k(e).forEach(b),this.h()},h(){i(e,"slot","label"),i(e,"class","bi bi-pencil")},m(l,n){z(l,e,n)},p:ye,d(l){l&&b(e)}}}function kt(t){let e,l,n,a,r,s=t[4].start_time+"",d,o,c,f=t[4].title+"",p,_,y,E,v=t[0]&&yt(t);return{c(){e=m("li"),l=m("div"),n=m("div"),a=m("strong"),r=m("small"),d=oe(s),o=m("br"),c=T(),p=oe(f),_=T(),v&&v.c(),y=T(),this.h()},l(D){e=h(D,"LI",{class:!0});var A=k(e);l=h(A,"DIV",{class:!0});var N=k(l);n=h(N,"DIV",{});var C=k(n);a=h(C,"STRONG",{});var Z=k(a);r=h(Z,"SMALL",{});var P=k(r);d=ue(P,s),P.forEach(b),Z.forEach(b),o=h(C,"BR",{}),c=S(C),p=ue(C,f),C.forEach(b),_=S(N),v&&v.l(N),N.forEach(b),y=S(A),A.forEach(b),this.h()},h(){i(l,"class","d-flex justify-content-between"),i(e,"class","list-group-item")},m(D,A){z(D,e,A),u(e,l),u(l,n),u(n,a),u(a,r),u(r,d),u(n,o),u(n,c),u(n,p),u(l,_),v&&v.m(l,null),u(e,y),E=!0},p(D,A){(!E||A&4)&&s!==(s=D[4].start_time+"")&&Pe(d,s),(!E||A&4)&&f!==(f=D[4].title+"")&&Pe(p,f),D[0]?v?(v.p(D,A),A&1&&q(v,1)):(v=yt(D),v.c(),q(v,1),v.m(l,null)):v&&(ot(),j(v,1,1,()=>{v=null}),ut())},i(D){E||(q(v),E=!0)},o(D){j(v),E=!1},d(D){D&&b(e),v&&v.d()}}}function rl(t){let e,l,n="Announcements",a,r,s,d;const o=[nl,ll],c=[];function f(p,_){return p[1]?0:1}return r=f(t),s=c[r]=o[r](t),{c(){e=m("div"),l=m("div"),l.textContent=n,a=T(),s.c(),this.h()},l(p){e=h(p,"DIV",{class:!0});var _=k(e);l=h(_,"DIV",{class:!0,"data-svelte-h":!0}),O(l)!=="svelte-rw6gj3"&&(l.textContent=n),a=S(_),s.l(_),_.forEach(b),this.h()},h(){i(l,"class","card-header"),i(e,"class","card")},m(p,_){z(p,e,_),u(e,l),u(e,a),c[r].m(e,null),d=!0},p(p,[_]){let y=r;r=f(p),r===y?c[r].p(p,_):(ot(),j(c[y],1,1,()=>{c[y]=null}),ut(),s=c[r],s?s.p(p,_):(s=c[r]=o[r](p),s.c()),q(s,1),s.m(e,null))},i(p){d||(q(s),d=!0)},o(p){j(s),d=!1},d(p){p&&b(e),c[r].d()}}}function ol(t,e,l){const{actions:{featureIsEnabled:n}}=Ut();let a=!1,r=!1,s=[];return Dt(async()=>{l(0,a=n(gt.EditAnnouncement)),l(1,r=n(gt.ViewDBAnnouncements)),l(2,s=await Vt())}),[a,r,s]}class hl extends je{constructor(e){super(),He(this,e,ol,rl,Fe,{})}}export{hl as A,Yt as D,It as t};
