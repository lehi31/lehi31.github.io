const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DQVecoP_.js","./C5twpB8P.js","./BVU-SBqd.js","./IHki7fMi.js","./BNNq8oat.js","./DzDB5CMn.js","../assets/Header.4U83PhvS.css","./1t9PYzFY.js","./Bnt-d026.js","./CmsKOCeN.js","./CDcZWSVK.js","../assets/Spinner.CRM6NlOF.css","./CgPuVtgq.js","./I3k67RAl.js","../assets/feature-flag.CtYGqHat.css","../assets/AnnouncementWidgetItem.B_eehTgS.css"])))=>i.map(i=>d[i]);
import{_ as et}from"./CmsKOCeN.js";import{S as Re,i as Ge,s as Pe,d as _,e as Z,t as S,a as T,H as X,G as J,m as x,h as N,n as ee,l as L,W as H,q as te,p as W,A as pe,B as He,v as p,f as m,j as b,k as w,x as ie,o as g,C as P,O as _e,r as ne,y as q,z as R,K as tt}from"./C5twpB8P.js";import{g as Ke,s as lt,e as $e,A as ze,a as Xe,f as ye,b as nt,E as st,c as rt}from"./DQVecoP_.js";import{e as ae,u as Ee,o as we}from"./BVU-SBqd.js";import"./IHki7fMi.js";import{g as Je,F as Qe}from"./I3k67RAl.js";import{S as Ye}from"./CDcZWSVK.js";import{D as Ze,v as xe}from"./CgPuVtgq.js";import{s as ve,b as De,m as at,t as it,p as ue,f as Y}from"./BNNq8oat.js";function ot(c,e,t){const l=ve(c,t),r=ve(e,t),f=+l-De(l),u=+r-De(r);return Math.round((f-u)/at)}function ct(c){const e=it(c);return e.setDate(1),e.setHours(0,0,0,0),e}const{Map:Ie}=nt;function Me(c,e,t){const l=c.slice();l[30]=e[t];const r=ue(l[30].key);l[31]=r;const f=ye(l[31],{weekStartsOn:1});l[32]=f;const u=ct(l[32]);l[33]=u;const i=ot(l[32],l[33],{weekStartsOn:1})+1;l[34]=i;const n=l[9](l[30].key);l[35]=n;const s=l[30].days.reduce((a,o)=>a+o.events.length,0);return l[36]=s,l}function Te(c,e,t){const l=c.slice();return l[39]=e[t],l}function Ne(c,e,t){const l=c.slice();return l[42]=e[t],l}function ft(c){let e,t;return e=new ze({props:{eventItem:c[6],drawerId:c[0],name:"event-item-form"}}),{c(){te(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){x(e,l,r),t=!0},p(l,r){const f={};r[0]&64&&(f.eventItem=l[6]),r[0]&1&&(f.drawerId=l[0]),e.$set(f)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function ut(c){let e,t,l;return t=new Ye({}),{c(){e=g("div"),te(t.$$.fragment),this.h()},l(r){e=b(r,"DIV",{class:!0});var f=w(e);ee(t.$$.fragment,f),f.forEach(_),this.h()},h(){m(e,"class","d-flex flex-column gap-4")},m(r,f){N(r,e,f),x(t,e,null),l=!0},p:P,i(r){l||(T(t.$$.fragment,r),l=!0)},o(r){S(t.$$.fragment,r),l=!1},d(r){r&&_(e),Z(t)}}}function _t(c){let e,t,l,r,f="Events",u,i,n,s,a,o,d,E;n=new Xe({});let h=c[4]&&Se(c);const M=[mt,dt],v=[];function D(y,C){return y[3]?.length?0:1}return o=D(c),d=v[o]=M[o](c),{c(){e=g("div"),t=g("div"),l=g("div"),r=g("span"),r.textContent=f,u=W(),i=g("div"),te(n.$$.fragment),s=W(),h&&h.c(),a=W(),d.c(),this.h()},l(y){e=b(y,"DIV",{class:!0});var C=w(e);t=b(C,"DIV",{class:!0});var I=w(t);l=b(I,"DIV",{class:!0});var k=w(l);r=b(k,"SPAN",{"data-svelte-h":!0}),ie(r)!=="svelte-1s343wn"&&(r.textContent=f),u=L(k),i=b(k,"DIV",{class:!0});var A=w(i);ee(n.$$.fragment,A),s=L(A),h&&h.l(A),A.forEach(_),k.forEach(_),I.forEach(_),a=L(C),d.l(C),C.forEach(_),this.h()},h(){m(i,"class","d-flex align-items-center gap-2 flex-wrap justify-content-end"),m(l,"class","d-flex justify-content-between align-items-center gap-3 flex-wrap"),m(t,"class","card-header"),m(e,"class","card")},m(y,C){N(y,e,C),p(e,t),p(t,l),p(l,r),p(l,u),p(l,i),x(n,i,null),p(i,s),h&&h.m(i,null),p(e,a),v[o].m(e,null),E=!0},p(y,C){y[4]?h?h.p(y,C):(h=Se(y),h.c(),h.m(i,null)):h&&(h.d(1),h=null);let I=o;o=D(y),o===I?v[o].p(y,C):(X(),S(v[I],1,1,()=>{v[I]=null}),J(),d=v[o],d?d.p(y,C):(d=v[o]=M[o](y),d.c()),T(d,1),d.m(e,null))},i(y){E||(T(n.$$.fragment,y),T(d),E=!0)},o(y){S(n.$$.fragment,y),S(d),E=!1},d(y){y&&_(e),Z(n),h&&h.d(),v[o].d()}}}function Se(c){let e,t,l,r,f;return{c(){e=g("button"),t=g("i"),this.h()},l(u){e=b(u,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var i=w(e);t=b(i,"I",{class:!0}),w(t).forEach(_),i.forEach(_),this.h()},h(){m(t,"class","bi bi-plus"),m(e,"class","btn btn-sm btn-primary"),m(e,"type","button"),m(e,"data-bs-toggle","offcanvas"),m(e,"data-bs-target",l="#"+c[0]),m(e,"aria-controls",c[0])},m(u,i){N(u,e,i),p(e,t),r||(f=_e(e,"click",c[23]),r=!0)},p(u,i){i[0]&1&&l!==(l="#"+u[0])&&m(e,"data-bs-target",l),i[0]&1&&m(e,"aria-controls",u[0])},d(u){u&&_(e),r=!1,f()}}}function dt(c){let e,t="There are no upcoming events scheduled.";return{c(){e=g("div"),e.textContent=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-2uetp5"&&(e.textContent=t),this.h()},h(){m(e,"class","card-body text-muted small")},m(l,r){N(l,e,r)},p:P,i:P,o:P,d(l){l&&_(e)}}}function mt(c){let e,t,l,r,f;const u=[pt,ht],i=[];function n(a,o){return a[8].length?0:1}e=n(c),t=i[e]=u[e](c);let s=c[7]&&We(c);return{c(){t.c(),l=W(),s&&s.c(),r=H()},l(a){t.l(a),l=L(a),s&&s.l(a),r=H()},m(a,o){i[e].m(a,o),N(a,l,o),s&&s.m(a,o),N(a,r,o),f=!0},p(a,o){let d=e;e=n(a),e===d?i[e].p(a,o):(X(),S(i[d],1,1,()=>{i[d]=null}),J(),t=i[e],t?t.p(a,o):(t=i[e]=u[e](a),t.c()),T(t,1),t.m(l.parentNode,l)),a[7]?s?s.p(a,o):(s=We(a),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},i(a){f||(T(t),f=!0)},o(a){S(t),f=!1},d(a){a&&(_(l),_(r)),i[e].d(a),s&&s.d(a)}}}function ht(c){let e,t="There are no upcoming events this month.";return{c(){e=g("div"),e.textContent=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-1wqkfly"&&(e.textContent=t),this.h()},h(){m(e,"class","card-body text-muted small")},m(l,r){N(l,e,r)},p:P,i:P,o:P,d(l){l&&_(e)}}}function pt(c){let e,t=[],l=new Ie,r,f=ae(c[8]);const u=i=>i[30].key;for(let i=0;i<f.length;i+=1){let n=Me(c,f,i),s=u(n);l.set(s,t[i]=Le(s,n))}return{c(){e=g("ul");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=b(i,"UL",{class:!0});var n=w(e);for(let s=0;s<t.length;s+=1)t[s].l(n);n.forEach(_),this.h()},h(){m(e,"class","list-group list-group-flush border-top-0")},m(i,n){N(i,e,n);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null);r=!0},p(i,n){n[0]&164625&&(f=ae(i[8]),X(),t=Ee(t,n,u,1,i,f,l,e,we,Le,null,Me),J())},i(i){if(!r){for(let n=0;n<f.length;n+=1)T(t[n]);r=!0}},o(i){for(let n=0;n<t.length;n+=1)S(t[n]);r=!1},d(i){i&&_(e);for(let n=0;n<t.length;n+=1)t[n].d()}}}function Ce(c){let e,t,l,r;const f=[bt,vt],u=[];function i(n,s){return n[30].days.length?0:1}return e=i(c),t=u[e]=f[e](c),{c(){t.c(),l=H()},l(n){t.l(n),l=H()},m(n,s){u[e].m(n,s),N(n,l,s),r=!0},p(n,s){let a=e;e=i(n),e===a?u[e].p(n,s):(X(),S(u[a],1,1,()=>{u[a]=null}),J(),t=u[e],t?t.p(n,s):(t=u[e]=f[e](n),t.c()),T(t,1),t.m(l.parentNode,l))},i(n){r||(T(t),r=!0)},o(n){S(t),r=!1},d(n){n&&_(l),u[e].d(n)}}}function vt(c){let e,t="No events scheduled this week.";return{c(){e=g("li"),e.textContent=t,this.h()},l(l){e=b(l,"LI",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-1tq6asq"&&(e.textContent=t),this.h()},h(){m(e,"class","list-group-item py-3 text-muted")},m(l,r){N(l,e,r)},p:P,i:P,o:P,d(l){l&&_(e)}}}function bt(c){let e=[],t=new Ie,l,r,f=ae(c[30].days);const u=i=>i[39].key;for(let i=0;i<f.length;i+=1){let n=Te(c,f,i),s=u(n);t.set(s,e[i]=Ve(s,n))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=H()},l(i){for(let n=0;n<e.length;n+=1)e[n].l(i);l=H()},m(i,n){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(i,n);N(i,l,n),r=!0},p(i,n){n[0]&131345&&(f=ae(i[30].days),X(),e=Ee(e,n,u,1,i,f,t,l.parentNode,we,Ve,l,Te),J())},i(i){if(!r){for(let n=0;n<f.length;n+=1)T(e[n]);r=!0}},o(i){for(let n=0;n<e.length;n+=1)S(e[n]);r=!1},d(i){i&&_(l);for(let n=0;n<e.length;n+=1)e[n].d(i)}}}function Ae(c){let e,t,l,r,f,u;function i(){return c[25](c[42])}return{c(){e=g("div"),t=g("button"),l=g("i"),this.h()},l(n){e=b(n,"DIV",{class:!0});var s=w(e);t=b(s,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var a=w(t);l=b(a,"I",{class:!0}),w(l).forEach(_),a.forEach(_),s.forEach(_),this.h()},h(){m(l,"class","bi bi-pencil-square"),m(t,"class","btn btn-sm btn-primary"),m(t,"type","button"),m(t,"data-bs-toggle","offcanvas"),m(t,"data-bs-target",r="#"+c[0]),m(t,"aria-controls",c[0]),m(e,"class","event-actions svelte-kxknx")},m(n,s){N(n,e,s),p(e,t),p(t,l),f||(u=_e(t,"click",i),f=!0)},p(n,s){c=n,s[0]&1&&r!==(r="#"+c[0])&&m(t,"data-bs-target",r),s[0]&1&&m(t,"aria-controls",c[0])},d(n){n&&_(e),f=!1,u()}}}function Oe(c,e){let t,l,r,f,u,i;r=new st({props:{item:e[42],showDate:!1}});let n=e[4]&&Ae(e);return{key:c,first:null,c(){t=g("div"),l=g("div"),te(r.$$.fragment),f=W(),n&&n.c(),u=W(),this.h()},l(s){t=b(s,"DIV",{class:!0});var a=w(t);l=b(a,"DIV",{class:!0});var o=w(l);ee(r.$$.fragment,o),o.forEach(_),f=L(a),n&&n.l(a),u=L(a),a.forEach(_),this.h()},h(){m(l,"class","event-content svelte-kxknx"),m(t,"class","daily-event-row svelte-kxknx"),this.first=t},m(s,a){N(s,t,a),p(t,l),x(r,l,null),p(t,f),n&&n.m(t,null),p(t,u),i=!0},p(s,a){e=s;const o={};a[0]&256&&(o.item=e[42]),r.$set(o),e[4]?n?n.p(e,a):(n=Ae(e),n.c(),n.m(t,u)):n&&(n.d(1),n=null)},i(s){i||(T(r.$$.fragment,s),i=!0)},o(s){S(r.$$.fragment,s),i=!1},d(s){s&&_(t),Z(r),n&&n.d()}}}function Ve(c,e){let t,l,r,f,u=e[39].displayDay+"",i,n,s,a=e[39].displayDate+"",o,d,E,h=[],M=new Ie,v,D,y=ae(e[39].events);const C=I=>I[42].id??`${I[42].start_time}-${I[42].meta_data?.recurring_instance_index??0}`;for(let I=0;I<y.length;I+=1){let k=Ne(e,y,I),A=C(k);M.set(A,h[I]=Oe(A,k))}return{key:c,first:null,c(){t=g("li"),l=g("div"),r=g("div"),f=g("strong"),i=R(u),n=W(),s=g("small"),o=R(a),d=W(),E=g("div");for(let I=0;I<h.length;I+=1)h[I].c();v=W(),this.h()},l(I){t=b(I,"LI",{class:!0});var k=w(t);l=b(k,"DIV",{class:!0});var A=w(l);r=b(A,"DIV",{class:!0});var F=w(r);f=b(F,"STRONG",{});var Q=w(f);i=q(Q,u),Q.forEach(_),n=L(F),s=b(F,"SMALL",{class:!0});var K=w(s);o=q(K,a),K.forEach(_),F.forEach(_),d=L(A),E=b(A,"DIV",{class:!0});var oe=w(E);for(let O=0;O<h.length;O+=1)h[O].l(oe);oe.forEach(_),A.forEach(_),v=L(k),k.forEach(_),this.h()},h(){m(s,"class","text-muted"),m(r,"class","event-date-column d-flex flex-column align-items-start text-nowrap svelte-kxknx"),m(E,"class","d-flex flex-column gap-3 flex-grow-1"),m(l,"class","d-flex flex-column flex-md-row gap-3"),m(t,"class","list-group-item py-3"),this.first=t},m(I,k){N(I,t,k),p(t,l),p(l,r),p(r,f),p(f,i),p(r,n),p(r,s),p(s,o),p(l,d),p(l,E);for(let A=0;A<h.length;A+=1)h[A]&&h[A].m(E,null);p(t,v),D=!0},p(I,k){e=I,(!D||k[0]&256)&&u!==(u=e[39].displayDay+"")&&ne(i,u),(!D||k[0]&256)&&a!==(a=e[39].displayDate+"")&&ne(o,a),k[0]&131345&&(y=ae(e[39].events),X(),h=Ee(h,k,C,1,e,y,M,E,we,Oe,null,Ne),J())},i(I){if(!D){for(let k=0;k<y.length;k+=1)T(h[k]);D=!0}},o(I){for(let k=0;k<h.length;k+=1)S(h[k]);D=!1},d(I){I&&_(t);for(let k=0;k<h.length;k+=1)h[k].d()}}}function Le(c,e){let t,l,r,f,u,i,n,s,a,o=e[34]+"",d,E,h=e[36]+"",M,v,D,y,C=e[30].label+"",I,k,A,F,Q,K;function oe(){return e[24](e[30])}let O=e[35]&&Ce(e);return{key:c,first:null,c(){t=g("li"),l=g("div"),r=g("button"),f=g("i"),n=W(),s=g("span"),a=R("Week "),d=R(o),E=R(" ("),M=R(h),v=R(")"),D=W(),y=g("span"),I=R(C),k=W(),O&&O.c(),A=H(),this.h()},l(U){t=b(U,"LI",{class:!0});var B=w(t);l=b(B,"DIV",{class:!0});var de=w(l);r=b(de,"BUTTON",{class:!0,title:!0});var be=w(r);f=b(be,"I",{class:!0}),w(f).forEach(_),be.forEach(_),n=L(de),s=b(de,"SPAN",{class:!0});var se=w(s);a=q(se,"Week "),d=q(se,o),E=q(se," ("),M=q(se,h),v=q(se,")"),se.forEach(_),de.forEach(_),D=L(B),y=b(B,"SPAN",{});var $=w(y);I=q($,C),$.forEach(_),B.forEach(_),k=L(U),O&&O.l(U),A=H(),this.h()},h(){m(f,"class",u="bi "+(e[35]?"bi-chevron-up":"bi-chevron-down")),m(r,"class","btn btn-sm btn-link text-decoration-none p-0"),m(r,"title",i=e[35]?"Collapse week":"Expand week"),m(s,"class","text-muted"),m(l,"class","d-flex align-items-center gap-2"),m(t,"class","list-group-item list-group-item-light text-uppercase small fw-lighter d-flex justify-content-between align-items-center"),this.first=t},m(U,B){N(U,t,B),p(t,l),p(l,r),p(r,f),p(l,n),p(l,s),p(s,a),p(s,d),p(s,E),p(s,M),p(s,v),p(t,D),p(t,y),p(y,I),N(U,k,B),O&&O.m(U,B),N(U,A,B),F=!0,Q||(K=_e(r,"click",oe),Q=!0)},p(U,B){e=U,(!F||B[0]&768&&u!==(u="bi "+(e[35]?"bi-chevron-up":"bi-chevron-down")))&&m(f,"class",u),(!F||B[0]&768&&i!==(i=e[35]?"Collapse week":"Expand week"))&&m(r,"title",i),(!F||B[0]&256)&&o!==(o=e[34]+"")&&ne(d,o),(!F||B[0]&256)&&h!==(h=e[36]+"")&&ne(M,h),(!F||B[0]&256)&&C!==(C=e[30].label+"")&&ne(I,C),e[35]?O?(O.p(e,B),B[0]&768&&T(O,1)):(O=Ce(e),O.c(),T(O,1),O.m(A.parentNode,A)):O&&(X(),S(O,1,1,()=>{O=null}),J())},i(U){F||(T(O),F=!0)},o(U){S(O),F=!1},d(U){U&&(_(t),_(k),_(A)),O&&O.d(U),Q=!1,K()}}}function We(c){let e,t,l,r=c[1].length+"",f,u,i=c[2].length+"",n,s,a,o,d="More",E,h;return{c(){e=g("div"),t=g("small"),l=R("Showing "),f=R(r),u=R(" of "),n=R(i),s=R(" future events"),a=W(),o=g("button"),o.textContent=d,this.h()},l(M){e=b(M,"DIV",{class:!0});var v=w(e);t=b(v,"SMALL",{});var D=w(t);l=q(D,"Showing "),f=q(D,r),u=q(D," of "),n=q(D,i),s=q(D," future events"),D.forEach(_),a=L(v),o=b(v,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(o)!=="svelte-1p8emoc"&&(o.textContent=d),v.forEach(_),this.h()},h(){m(o,"class","btn btn-primary btn-sm"),m(e,"class","card-footer d-flex align-items-center justify-content-between")},m(M,v){N(M,e,v),p(e,t),p(t,l),p(t,f),p(t,u),p(t,n),p(t,s),p(e,a),p(e,o),E||(h=_e(o,"click",c[16]),E=!0)},p(M,v){v[0]&2&&r!==(r=M[1].length+"")&&ne(f,r),v[0]&4&&i!==(i=M[2].length+"")&&ne(n,i)},d(M){M&&_(e),E=!1,h()}}}function gt(c){let e,t,l,r,f,u;e=new Ze({props:{title:c[5],id:c[0],$$slots:{default:[ft]},$$scope:{ctx:c}}});const i=[_t,ut],n=[];function s(a,o){return a[10]?0:1}return l=s(c),r=n[l]=i[l](c),{c(){te(e.$$.fragment),t=W(),r.c(),f=H()},l(a){ee(e.$$.fragment,a),t=L(a),r.l(a),f=H()},m(a,o){x(e,a,o),N(a,t,o),n[l].m(a,o),N(a,f,o),u=!0},p(a,o){const d={};o[0]&32&&(d.title=a[5]),o[0]&1&&(d.id=a[0]),o[0]&65|o[1]&16384&&(d.$$scope={dirty:o,ctx:a}),e.$set(d);let E=l;l=s(a),l===E?n[l].p(a,o):(X(),S(n[E],1,1,()=>{n[E]=null}),J(),r=n[l],r?r.p(a,o):(r=n[l]=i[l](a),r.c()),T(r,1),r.m(f.parentNode,f))},i(a){u||(T(e.$$.fragment,a),T(r),u=!0)},o(a){S(e.$$.fragment,a),S(r),u=!1},d(a){a&&(_(t),_(f)),Z(e,a),n[l].d(a)}}}const kt=4,yt=4;function Et(c,e,t){let l,r,f,u,i,n,s,a,o,d;const{actions:{featureIsEnabled:E}}=Je(),{stores:{ready:h,calendarEvents:M,weeksExpanded:v},actions:{reload:D}}=Ke();pe(c,h,$=>t(10,d=$)),pe(c,M,$=>t(3,a=$)),pe(c,v,$=>t(22,o=$));const y={title:"Event",description:"",location:"",event_type:"calendar_event"};let{formId:C=xe()}=e,I=!1,k="",A={...y},F=kt;const Q=lt();let K={};function oe($){t(19,K={...K,[$]:!K[$]})}const O=$=>{const z=new Map;for(const j of $){if(!j.start_time)continue;const V=ue(j.start_time);if(Number.isNaN(V.getTime()))continue;const G=ve(V,{weekStartsOn:1}),re=ye(V,{weekStartsOn:1}),le=Y(G,"yyyy-MM-dd"),ge=`${Y(G,"EEE MMM d")} – ${Y(re,"EEE MMM d, yyyy")}`;let fe=z.get(le);fe||(fe={key:le,label:ge,days:new Map},z.set(le,fe));const he=Y(V,"yyyy-MM-dd");let ke=fe.days.get(he);ke||(ke={key:he,displayDay:Y(V,"EEE"),displayDate:Y(V,"MMM d"),events:[]},fe.days.set(he,ke)),ke.events.push(j)}const ce=j=>{const V=Y(j,"yyyy-MM-dd");z.has(V)||z.set(V,{key:V,label:`${Y(j,"EEE MMM d")} – ${Y(ye(j,{weekStartsOn:1}),"EEE MMM d, yyyy")}`,days:new Map})},me=Array.from(z.values());if(me.length){const j=me.reduce((re,le)=>le.key>re?le.key:re,me[0].key),V=ue(j);let G=ve(new Date,{weekStartsOn:1});if(G>V)ce(G);else for(;G<=V;)ce(G),G=$e(G,1)}return Array.from(z.values()).sort((j,V)=>j.key<V.key?-1:j.key>V.key?1:0).map(j=>({key:j.key,label:j.label,days:Array.from(j.days.values()).sort((V,G)=>V.key<G.key?-1:V.key>G.key?1:0).map(V=>({...V,events:V.events.slice().sort((G,re)=>{const le=G.is_all_day?0:1,ge=re.is_all_day?0:1;if(le!==ge)return le-ge;const fe=G.start_time?ue(G.start_time).getTime():Number.MAX_SAFE_INTEGER,he=re.start_time?ue(re.start_time).getTime():Number.MAX_SAFE_INTEGER;return fe-he})}))}))};function U(){t(18,F+=yt)}He(async()=>{t(4,I=E(Qe.EditDBCalendarEvent)),await D()});const B=async $=>{if(t(5,k="Item Form"),$?.meta_data?.recurring_instance&&$?.meta_data?.recurring_parent_id){const{getCalendarEvent:z}=await et(async()=>{const{getCalendarEvent:me}=await import("./DQVecoP_.js").then(j=>j.j);return{getCalendarEvent:me}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]),import.meta.url),ce=await z($.meta_data.recurring_parent_id);if(ce){t(6,A={...ce,category:ce?.meta_data?.category,start_time:$.start_time,end_time:$.end_time,meta_data:{...ce.meta_data,recurring_instance:!0,recurring_parent_id:$.meta_data.recurring_parent_id,recurring_instance_index:$.meta_data.recurring_instance_index}});return}}t(6,A={...$,category:$?.meta_data?.category})},de=()=>B({...y,event_type:"calendar_event",start_time:new Date().toISOString(),end_time:new Date().toISOString(),is_all_day:!0}),be=$=>oe($.key),se=$=>B($);return c.$$set=$=>{"formId"in $&&t(0,C=$.formId)},c.$$.update=()=>{c.$$.dirty[0]&262144&&t(20,l=$e(Q,F)),c.$$.dirty[0]&6815744&&t(9,f=$=>o?!0:K[$]!==void 0?K[$]:$===r),c.$$.dirty[0]&1048584&&t(1,u=(a??[]).filter($=>{if(!$.start_time)return!1;const z=ue($.start_time);return z>=Q&&z<=l})),c.$$.dirty[0]&8&&t(2,i=(a??[]).filter($=>$.start_time?ue($.start_time)>=Q:!1)),c.$$.dirty[0]&2&&t(8,n=O(u)),c.$$.dirty[0]&6&&t(7,s=i.length>u.length)},t(21,r=Y(ve(Q,{weekStartsOn:1}),"yyyy-MM-dd")),[C,u,i,a,I,k,A,s,n,f,d,h,M,v,y,oe,U,B,F,K,l,r,o,de,be,se]}class qt extends Re{constructor(e){super(),Ge(this,e,Et,gt,Pe,{formId:0},null,[-1,-1])}}function Be(c,e,t){const l=c.slice();return l[18]=e[t],l}function wt(c){let e,t;return e=new ze({props:{eventItem:c[4],drawerId:c[11],name:"announcement-item-form"}}),{c(){te(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){x(e,l,r),t=!0},p(l,r){const f={};r&16&&(f.eventItem=l[4]),e.$set(f)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function It(c){let e,t,l;return t=new Ye({}),{c(){e=g("div"),te(t.$$.fragment),this.h()},l(r){e=b(r,"DIV",{class:!0});var f=w(e);ee(t.$$.fragment,f),f.forEach(_),this.h()},h(){m(e,"class","d-flex flex-column gap-4")},m(r,f){N(r,e,f),x(t,e,null),l=!0},p:P,i(r){l||(T(t.$$.fragment,r),l=!0)},o(r){S(t.$$.fragment,r),l=!1},d(r){r&&_(e),Z(t)}}}function $t(c){let e,t,l,r,f="Announcements",u,i,n,s,a,o,d=c[2]&&Fe(c);const E=[Mt,Dt],h=[];function M(v,D){return v[6].length?0:v[1]?.length===0?1:-1}return~(s=M(c))&&(a=h[s]=E[s](c)),{c(){e=g("div"),t=g("div"),l=g("div"),r=g("span"),r.textContent=f,u=W(),i=g("div"),d&&d.c(),n=W(),a&&a.c(),this.h()},l(v){e=b(v,"DIV",{class:!0});var D=w(e);t=b(D,"DIV",{class:!0});var y=w(t);l=b(y,"DIV",{class:!0});var C=w(l);r=b(C,"SPAN",{"data-svelte-h":!0}),ie(r)!=="svelte-iczcm2"&&(r.textContent=f),u=L(C),i=b(C,"DIV",{class:!0});var I=w(i);d&&d.l(I),I.forEach(_),C.forEach(_),y.forEach(_),n=L(D),a&&a.l(D),D.forEach(_),this.h()},h(){m(i,"class","d-flex align-items-center gap-2"),m(l,"class","d-flex justify-content-between align-items-center"),m(t,"class","card-header"),m(e,"class","card")},m(v,D){N(v,e,D),p(e,t),p(t,l),p(l,r),p(l,u),p(l,i),d&&d.m(i,null),p(e,n),~s&&h[s].m(e,null),o=!0},p(v,D){v[2]?d?(d.p(v,D),D&4&&T(d,1)):(d=Fe(v),d.c(),T(d,1),d.m(i,null)):d&&(X(),S(d,1,1,()=>{d=null}),J());let y=s;s=M(v),s===y?~s&&h[s].p(v,D):(a&&(X(),S(h[y],1,1,()=>{h[y]=null}),J()),~s?(a=h[s],a?a.p(v,D):(a=h[s]=E[s](v),a.c()),T(a,1),a.m(e,null)):a=null)},i(v){o||(T(d),T(a),o=!0)},o(v){S(d),S(a),o=!1},d(v){v&&_(e),d&&d.d(),~s&&h[s].d()}}}function Fe(c){let e,t,l,r,f,u,i;return e=new Xe({}),{c(){te(e.$$.fragment),t=W(),l=g("button"),r=g("i"),this.h()},l(n){ee(e.$$.fragment,n),t=L(n),l=b(n,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var s=w(l);r=b(s,"I",{class:!0}),w(r).forEach(_),s.forEach(_),this.h()},h(){m(r,"class","bi bi-plus"),m(l,"class","btn btn-sm btn-primary"),m(l,"type","button"),m(l,"data-bs-toggle","offcanvas"),m(l,"data-bs-target","#"+c[11]),m(l,"aria-controls",c[11])},m(n,s){x(e,n,s),N(n,t,s),N(n,l,s),p(l,r),f=!0,u||(i=_e(l,"click",c[14]),u=!0)},p:P,i(n){f||(T(e.$$.fragment,n),f=!0)},o(n){S(e.$$.fragment,n),f=!1},d(n){n&&(_(t),_(l)),Z(e,n),u=!1,i()}}}function Dt(c){let e,t=`<div class="alert alert-info mb-0"><i class="bi bi-info-circle me-2"></i>
					No announcements yet.</div>`;return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-1f6lqec"&&(e.innerHTML=t),this.h()},h(){m(e,"class","card-body")},m(l,r){N(l,e,r)},p:P,i:P,o:P,d(l){l&&_(e)}}}function Mt(c){let e,t,l,r,f=ae(c[6]),u=[];for(let s=0;s<f.length;s+=1)u[s]=Ue(Be(c,f,s));const i=s=>S(u[s],1,1,()=>{u[s]=null});let n=c[5]&&qe(c);return{c(){e=g("ul");for(let s=0;s<u.length;s+=1)u[s].c();t=W(),n&&n.c(),l=H(),this.h()},l(s){e=b(s,"UL",{class:!0});var a=w(e);for(let o=0;o<u.length;o+=1)u[o].l(a);a.forEach(_),t=L(s),n&&n.l(s),l=H(),this.h()},h(){m(e,"class","list-group list-group-flush border-top-0")},m(s,a){N(s,e,a);for(let o=0;o<u.length;o+=1)u[o]&&u[o].m(e,null);N(s,t,a),n&&n.m(s,a),N(s,l,a),r=!0},p(s,a){if(a&10308){f=ae(s[6]);let o;for(o=0;o<f.length;o+=1){const d=Be(s,f,o);u[o]?(u[o].p(d,a),T(u[o],1)):(u[o]=Ue(d),u[o].c(),T(u[o],1),u[o].m(e,null))}for(X(),o=f.length;o<u.length;o+=1)i(o);J()}s[5]?n?n.p(s,a):(n=qe(s),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},i(s){if(!r){for(let a=0;a<f.length;a+=1)T(u[a]);r=!0}},o(s){u=u.filter(Boolean);for(let a=0;a<u.length;a+=1)S(u[a]);r=!1},d(s){s&&(_(e),_(t),_(l)),tt(u,s),n&&n.d(s)}}}function je(c){let e,t,l,r,f;function u(){return c[15](c[18])}return{c(){e=g("div"),t=g("button"),l=g("i"),this.h()},l(i){e=b(i,"DIV",{class:!0});var n=w(e);t=b(n,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var s=w(t);l=b(s,"I",{class:!0}),w(l).forEach(_),s.forEach(_),n.forEach(_),this.h()},h(){m(l,"class","bi bi-pencil-square"),m(t,"class","btn btn-sm btn-primary"),m(t,"type","button"),m(t,"data-bs-toggle","offcanvas"),m(t,"data-bs-target","#"+c[11]),m(t,"aria-controls",c[11]),m(e,"class","announcement-actions svelte-1rxfa63")},m(i,n){N(i,e,n),p(e,t),p(t,l),r||(f=_e(t,"click",u),r=!0)},p(i,n){c=i},d(i){i&&_(e),r=!1,f()}}}function Ue(c){let e,t,l,r,f,u,i;r=new rt({props:{item:c[18]}});let n=c[2]&&je(c);return{c(){e=g("li"),t=g("div"),l=g("div"),te(r.$$.fragment),f=W(),n&&n.c(),u=W(),this.h()},l(s){e=b(s,"LI",{class:!0});var a=w(e);t=b(a,"DIV",{class:!0});var o=w(t);l=b(o,"DIV",{class:!0});var d=w(l);ee(r.$$.fragment,d),d.forEach(_),f=L(o),n&&n.l(o),o.forEach(_),u=L(a),a.forEach(_),this.h()},h(){m(l,"class","announcement-content svelte-1rxfa63"),m(t,"class","announcement-row svelte-1rxfa63"),m(e,"class","list-group-item py-2")},m(s,a){N(s,e,a),p(e,t),p(t,l),x(r,l,null),p(t,f),n&&n.m(t,null),p(e,u),i=!0},p(s,a){const o={};a&64&&(o.item=s[18]),r.$set(o),s[2]?n?n.p(s,a):(n=je(s),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i(s){i||(T(r.$$.fragment,s),i=!0)},o(s){S(r.$$.fragment,s),i=!1},d(s){s&&_(e),Z(r),n&&n.d()}}}function qe(c){let e,t,l,r,f,u=(c[1]?.length??0)+"",i,n,s,a="More",o,d;return{c(){e=g("div"),t=g("small"),l=R("Showing "),r=R(c[0]),f=R(" of "),i=R(u),n=W(),s=g("button"),s.textContent=a,this.h()},l(E){e=b(E,"DIV",{class:!0});var h=w(e);t=b(h,"SMALL",{});var M=w(t);l=q(M,"Showing "),r=q(M,c[0]),f=q(M," of "),i=q(M,u),M.forEach(_),n=L(h),s=b(h,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(s)!=="svelte-1jfgkln"&&(s.textContent=a),h.forEach(_),this.h()},h(){m(s,"class","btn btn-primary btn-sm"),m(e,"class","card-footer d-flex align-items-center justify-content-between")},m(E,h){N(E,e,h),p(e,t),p(t,l),p(t,r),p(t,f),p(t,i),p(e,n),p(e,s),o||(d=_e(s,"click",c[12]),o=!0)},p(E,h){h&1&&ne(r,E[0]),h&2&&u!==(u=(E[1]?.length??0)+"")&&ne(i,u)},d(E){E&&_(e),o=!1,d()}}}function Tt(c){let e,t,l,r,f,u;e=new Ze({props:{title:c[3],id:c[11],$$slots:{default:[wt]},$$scope:{ctx:c}}});const i=[$t,It],n=[];function s(a,o){return a[7]?0:1}return l=s(c),r=n[l]=i[l](c),{c(){te(e.$$.fragment),t=W(),r.c(),f=H()},l(a){ee(e.$$.fragment,a),t=L(a),r.l(a),f=H()},m(a,o){x(e,a,o),N(a,t,o),n[l].m(a,o),N(a,f,o),u=!0},p(a,[o]){const d={};o&8&&(d.title=a[3]),o&2097168&&(d.$$scope={dirty:o,ctx:a}),e.$set(d);let E=l;l=s(a),l===E?n[l].p(a,o):(X(),S(n[E],1,1,()=>{n[E]=null}),J(),r=n[l],r?r.p(a,o):(r=n[l]=i[l](a),r.c()),T(r,1),r.m(f.parentNode,f))},i(a){u||(T(e.$$.fragment,a),T(r),u=!0)},o(a){S(e.$$.fragment,a),S(r),u=!1},d(a){a&&(_(t),_(f)),Z(e,a),n[l].d(a)}}}const Nt=5,St=5;function Ct(c,e,t){let l,r,f,u;const{actions:{featureIsEnabled:i}}=Je(),{stores:{ready:n,announcements:s},actions:{reload:a}}=Ke();pe(c,n,k=>t(7,u=k)),pe(c,s,k=>t(1,f=k));const o={title:"Announcement",description:"",location:"",event_type:"announcement"},d=xe();let E=!1,h="",M={...o},v=Nt;function D(){t(0,v+=St)}He(async()=>{t(2,E=i(Qe.EditDBCalendarEvent)),await a()});const y=k=>{t(3,h="Announcement Form"),t(4,M={...k,category:k?.meta_data?.category})},C=()=>y({...o,event_type:"calendar_event",start_time:new Date().toISOString(),end_time:new Date().toISOString(),is_all_day:!0}),I=k=>y(k);return c.$$.update=()=>{c.$$.dirty&3&&t(6,l=(f??[]).slice(0,v)),c.$$.dirty&3&&t(5,r=(f?.length??0)>v)},[v,f,E,h,M,r,l,u,n,s,o,d,D,y,C,I]}class Rt extends Re{constructor(e){super(),Ge(this,e,Ct,Tt,Pe,{})}}export{Rt as A,qt as E};
