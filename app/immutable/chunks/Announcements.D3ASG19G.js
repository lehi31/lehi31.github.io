import{s as Ee,c as vt,u as pt,g as gt,a as bt,n as ae,r as Dt,h as He,b as Et,o as Kt}from"./scheduler.C9-2ehqC.js";import{S as Ne,i as Se,e as h,b as Q,s as k,j as v,k as I,m as X,d as p,f as M,n as u,o as j,q as c,r as ue,t as P,a as z,c as be,g as De,p as we,u as Ie,B as W,l as K,x as re,C as ie,w as et,v as tt,D as Qt,z as on,H as un,I as cn,y as Nt}from"./index.8lvwZVbA.js";import{s as nt,a as Xt,F as $t,A as fn}from"./announcements.data.CFHNzu2J.js";import{t as xt,b as St,f as je,d as Pe,p as kt,e as _t}from"./Header.CnxX5URI.js";import{S as dn}from"./Spinner.BIR51mvO.js";import{w as xe}from"./index.-KbeAlZo.js";import{A as Re}from"./app.state.4JgFJFhH.js";function mn(t,e){const n=xt(t);return n.setHours(e),n}function _n(t,e){const n=xt(t);return n.setMinutes(e),n}var q=[];for(var ut=0;ut<256;++ut)q.push((ut+256).toString(16).slice(1));function hn(t,e=0){return(q[t[e+0]]+q[t[e+1]]+q[t[e+2]]+q[t[e+3]]+"-"+q[t[e+4]]+q[t[e+5]]+"-"+q[t[e+6]]+q[t[e+7]]+"-"+q[t[e+8]]+q[t[e+9]]+"-"+q[t[e+10]]+q[t[e+11]]+q[t[e+12]]+q[t[e+13]]+q[t[e+14]]+q[t[e+15]]).toLowerCase()}var Xe,vn=new Uint8Array(16);function pn(){if(!Xe&&(Xe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xe))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xe(vn)}var gn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Mt={randomUUID:gn};function bn(t,e,n){if(Mt.randomUUID&&!e&&!t)return Mt.randomUUID();t=t||{};var l=t.random||(t.rng||pn)();return l[6]=l[6]&15|64,l[8]=l[8]&63|128,hn(l)}function Dn(t){let e,n,l,a,s,i,o,r,f,d,T;const _=t[8].default,D=vt(_,t,t[7],null);return{c(){e=h("div"),n=h("div"),l=h("h4"),a=Q(t[1]),s=k(),i=h("button"),r=k(),f=h("div"),D&&D.c(),this.h()},l(m){e=v(m,"DIV",{class:!0,tabindex:!0,id:!0,"aria-labelledby":!0});var b=I(e);n=v(b,"DIV",{class:!0});var g=I(n);l=v(g,"H4",{class:!0,id:!0});var w=I(l);a=X(w,t[1]),w.forEach(p),s=M(g),i=v(g,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-bs-target":!0,"aria-label":!0}),I(i).forEach(p),g.forEach(p),r=M(b),f=v(b,"DIV",{class:!0});var U=I(f);D&&D.l(U),U.forEach(p),b.forEach(p),this.h()},h(){u(l,"class","offcanvas-title"),u(l,"id",t[4]),u(i,"type","button"),u(i,"class","btn-close"),u(i,"data-bs-dismiss","offcanvas"),u(i,"data-bs-target",o="#"+t[0]),u(i,"aria-label","Close"),u(n,"class","offcanvas-header"),u(f,"class","offcanvas-body"),u(e,"class",d=t[3]+" "+t[2]),u(e,"tabindex","-1"),u(e,"id",t[0]),u(e,"aria-labelledby",t[4])},m(m,b){j(m,e,b),c(e,n),c(n,l),c(l,a),c(n,s),c(n,i),c(e,r),c(e,f),D&&D.m(f,null),T=!0},p(m,[b]){(!T||b&2)&&ue(a,m[1]),(!T||b&1&&o!==(o="#"+m[0]))&&u(i,"data-bs-target",o),D&&D.p&&(!T||b&128)&&pt(D,_,m,m[7],T?bt(_,m[7],b,null):gt(m[7]),null),(!T||b&12&&d!==(d=m[3]+" "+m[2]))&&u(e,"class",d),(!T||b&1)&&u(e,"id",m[0])},i(m){T||(P(D,m),T=!0)},o(m){z(D,m),T=!1},d(m){m&&p(e),D&&D.d(m)}}}function wn(t,e,n){let l,a,{$$slots:s={},$$scope:i}=e,{id:o}=e,{title:r}=e,{breakpoint:f=""}=e,{placement:d="end"}=e;const T=bn();return t.$$set=_=>{"id"in _&&n(0,o=_.id),"title"in _&&n(1,r=_.title),"breakpoint"in _&&n(5,f=_.breakpoint),"placement"in _&&n(6,d=_.placement),"$$scope"in _&&n(7,i=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(3,l=`offcanvas${f===""?"":"-"+f}`),t.$$.dirty&64&&n(2,a=`offcanvas-${d}`)},[o,r,a,l,T,f,d,i,s]}class In extends Ne{constructor(e){super(),Se(this,e,wn,Dn,Ee,{id:0,title:1,breakpoint:5,placement:6})}}const Tn=t=>({}),Yt=t=>({});function Cn(t){let e;const n=t[2].default,l=vt(n,t,t[3],null);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,s){l&&l.m(a,s),e=!0},p(a,s){l&&l.p&&(!e||s&8)&&pt(l,n,a,a[3],e?bt(n,a[3],s,null):gt(a[3]),null)},i(a){e||(P(l,a),e=!0)},o(a){z(l,a),e=!1},d(a){l&&l.d(a)}}}function yn(t){let e,n,l,a,s;const i=t[2].label,o=vt(i,t,t[3],Yt);return a=new In({props:{title:t[1],id:t[0],$$slots:{default:[Cn]},$$scope:{ctx:t}}}),{c(){e=h("button"),o&&o.c(),l=k(),be(a.$$.fragment),this.h()},l(r){e=v(r,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var f=I(e);o&&o.l(f),f.forEach(p),l=M(r),De(a.$$.fragment,r),this.h()},h(){u(e,"class","btn btn-sm btn-secondary"),u(e,"type","button"),u(e,"data-bs-toggle","offcanvas"),u(e,"data-bs-target",n="#"+t[0]),u(e,"aria-controls",t[0])},m(r,f){j(r,e,f),o&&o.m(e,null),j(r,l,f),we(a,r,f),s=!0},p(r,[f]){o&&o.p&&(!s||f&8)&&pt(o,i,r,r[3],s?bt(i,r[3],f,Tn):gt(r[3]),Yt),(!s||f&1&&n!==(n="#"+r[0]))&&u(e,"data-bs-target",n),(!s||f&1)&&u(e,"aria-controls",r[0]);const d={};f&2&&(d.title=r[1]),f&1&&(d.id=r[0]),f&8&&(d.$$scope={dirty:f,ctx:r}),a.$set(d)},i(r){s||(P(o,r),P(a.$$.fragment,r),s=!0)},o(r){z(o,r),z(a.$$.fragment,r),s=!1},d(r){r&&(p(e),p(l)),o&&o.d(r),Ie(a,r)}}}function En(t,e,n){let{$$slots:l={},$$scope:a}=e,{id:s=""}=e,{drawerTitle:i=""}=e;return t.$$set=o=>{"id"in o&&n(0,s=o.id),"drawerTitle"in o&&n(1,i=o.drawerTitle),"$$scope"in o&&n(3,a=o.$$scope)},[s,i,l,a]}class en extends Ne{constructor(e){super(),Se(this,e,En,yn,Ee,{id:0,drawerTitle:1})}}function Nn(t,e){const n=Ln(e);return"formatToParts"in n?kn(n,t):Mn(n,t)}const Sn={year:0,month:1,day:2,hour:3,minute:4,second:5};function kn(t,e){try{const n=t.formatToParts(e),l=[];for(let a=0;a<n.length;a++){const s=Sn[n[a].type];s!==void 0&&(l[s]=parseInt(n[a].value,10))}return l}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function Mn(t,e){const n=t.format(e),l=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(l[3],10),parseInt(l[1],10),parseInt(l[2],10),parseInt(l[4],10),parseInt(l[5],10),parseInt(l[6],10)]}const ct={},Lt=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),Yn=Lt==="06/25/2014, 00:00:00"||Lt==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";function Ln(t){return ct[t]||(ct[t]=Yn?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),ct[t]}function tn(t,e,n,l,a,s,i){const o=new Date(0);return o.setUTCFullYear(t,e,n),o.setUTCHours(l,a,s,i),o}const Ut=36e5,Un=6e4,ft={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function nn(t,e,n){if(!t)return 0;let l=ft.timezoneZ.exec(t);if(l)return 0;let a,s;if(l=ft.timezoneHH.exec(t),l)return a=parseInt(l[1],10),At(a)?-(a*Ut):NaN;if(l=ft.timezoneHHMM.exec(t),l){a=parseInt(l[2],10);const i=parseInt(l[3],10);return At(a,i)?(s=Math.abs(a)*Ut+i*Un,l[1]==="+"?-s:s):NaN}if(Hn(t)){e=new Date(e||Date.now());const i=n?e:An(e),o=ht(i,t);return-(n?o:Bn(e,o,t))}return NaN}function An(t){return tn(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function ht(t,e){const n=Nn(t,e),l=tn(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let a=t.getTime();const s=a%1e3;return a-=s>=0?s:1e3+s,l-a}function Bn(t,e,n){let a=t.getTime()-e;const s=ht(new Date(a),n);if(e===s)return e;a-=s-e;const i=ht(new Date(a),n);return s===i?s:Math.max(s,i)}function At(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}const Bt={};function Hn(t){if(Bt[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Bt[t]=!0,!0}catch{return!1}}function Ht(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const Vn=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,dt=36e5,Vt=6e4,On=2,te={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Vn};function Fn(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const n=e.additionalDigits==null?On:Number(e.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const l=jn(t),{year:a,restDateString:s}=Pn(l.date,n),i=Rn(s,a);if(i===null||isNaN(i.getTime()))return new Date(NaN);if(i){const o=i.getTime();let r=0,f;if(l.time&&(r=zn(l.time),r===null||isNaN(r)))return new Date(NaN);if(l.timeZone||e.timeZone){if(f=nn(l.timeZone||e.timeZone,new Date(o+r)),isNaN(f))return new Date(NaN)}else f=Ht(new Date(o+r)),f=Ht(new Date(o+r+f));return new Date(o+r+f)}else return new Date(NaN)}function jn(t){const e={};let n=te.dateTimePattern.exec(t),l;if(n?(e.date=n[1],l=n[3]):(n=te.datePattern.exec(t),n?(e.date=n[1],l=n[2]):(e.date=null,l=t)),l){const a=te.timeZone.exec(l);a?(e.time=l.replace(a[1],""),e.timeZone=a[1].trim()):e.time=l}return e}function Pn(t,e){if(t){const n=te.YYY[e],l=te.YYYYY[e];let a=te.YYYY.exec(t)||l.exec(t);if(a){const s=a[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(a=te.YY.exec(t)||n.exec(t),a){const s=a[1];return{year:parseInt(s,10)*100,restDateString:t.slice(s.length)}}}return{year:null}}function Rn(t,e){if(e===null)return null;let n,l,a;if(!t||!t.length)return n=new Date(0),n.setUTCFullYear(e),n;let s=te.MM.exec(t);if(s)return n=new Date(0),l=parseInt(s[1],10)-1,Ft(e,l)?(n.setUTCFullYear(e,l),n):new Date(NaN);if(s=te.DDD.exec(t),s){n=new Date(0);const i=parseInt(s[1],10);return qn(e,i)?(n.setUTCFullYear(e,0,i),n):new Date(NaN)}if(s=te.MMDD.exec(t),s){n=new Date(0),l=parseInt(s[1],10)-1;const i=parseInt(s[2],10);return Ft(e,l,i)?(n.setUTCFullYear(e,l,i),n):new Date(NaN)}if(s=te.Www.exec(t),s)return a=parseInt(s[1],10)-1,jt(a)?Ot(e,a):new Date(NaN);if(s=te.WwwD.exec(t),s){a=parseInt(s[1],10)-1;const i=parseInt(s[2],10)-1;return jt(a,i)?Ot(e,a,i):new Date(NaN)}return null}function zn(t){let e,n,l=te.HH.exec(t);if(l)return e=parseFloat(l[1].replace(",",".")),mt(e)?e%24*dt:NaN;if(l=te.HHMM.exec(t),l)return e=parseInt(l[1],10),n=parseFloat(l[2].replace(",",".")),mt(e,n)?e%24*dt+n*Vt:NaN;if(l=te.HHMMSS.exec(t),l){e=parseInt(l[1],10),n=parseInt(l[2],10);const a=parseFloat(l[3].replace(",","."));return mt(e,n,a)?e%24*dt+n*Vt+a*1e3:NaN}return null}function Ot(t,e,n){e=e||0,n=n||0;const l=new Date(0);l.setUTCFullYear(t,0,4);const a=l.getUTCDay()||7,s=e*7+n+1-a;return l.setUTCDate(l.getUTCDate()+s),l}const Zn=[31,28,31,30,31,30,31,31,30,31,30,31],Wn=[31,29,31,30,31,30,31,31,30,31,30,31];function ln(t){return t%400===0||t%4===0&&t%100!==0}function Ft(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;const l=ln(t);if(l&&n>Wn[e]||!l&&n>Zn[e])return!1}return!0}function qn(t,e){if(e<1)return!1;const n=ln(t);return!(n&&e>366||!n&&e>365)}function jt(t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function mt(t,e,n){return!(t<0||t>=25||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}function ze(t,e,n){t=Fn(t,n);const l=nn(e,t,!0),a=new Date(t.getTime()-l),s=new Date(0);return s.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),s.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),s}const Gn=xe([]);async function lt(){const{data:t,error:e}=await nt.from("calendar_events").select("*").order("start_time",{ascending:!0});if(e)throw e;const n=t||[];return Gn.set(n),n}async function Jn(t){const{data:e,error:n}=await nt.from("calendar_events").insert([t]).select();if(n)throw n;return await lt(),e?e[0]:void 0}async function Kn(t,e){const{data:n,error:l}=await nt.from("calendar_events").update(e).eq("id",t).select();if(l)throw l;return await lt(),n?n[0]:void 0}async function Qn(t){const{error:e}=await nt.from("calendar_events").delete().eq("id",t);if(e)throw e;await lt()}function Xn(t,e){typeof window<"u"&&window.gtag?window.gtag("event",t,e||{}):console.warn("gtag is not available")}function $e(t,e,n,l){Xn(t,{event_category:e,event_label:n,value:l})}let Ze=null;const $n=()=>{const t=xe(!1),e=xe([]),n=xe([]),l=s=>s.length?s.map(i=>({...i,start_time:St(i.start_time),end_time:St(i.end_time)})):[];return Ze={stores:{ready:t,data:e,dbData:n},actions:{reload:async()=>{t.set(!1);const s=await lt();n.set(l(s)),t.set(!0)}}},Ze},an=()=>Ze?.stores&&Object.keys(Ze.stores).length>0?Ze:$n();function xn(t){let e,n,l,a,s,i,o,r,f,d,T,_,D,m,b,g,w,U,C,Y,N,S,B;return{c(){e=h("div"),n=h("div"),l=h("div"),a=h("div"),s=h("h5"),i=Q(t[0]),o=k(),r=h("button"),f=k(),d=h("div"),T=h("p"),_=Q(t[1]),D=k(),m=h("div"),b=h("button"),g=Q(t[2]),U=k(),C=h("button"),Y=Q(t[4]),this.h()},l(H){e=v(H,"DIV",{class:!0,tabindex:!0});var F=I(e);n=v(F,"DIV",{class:!0});var V=I(n);l=v(V,"DIV",{class:!0});var G=I(l);a=v(G,"DIV",{class:!0});var O=I(a);s=v(O,"H5",{class:!0});var ne=I(s);i=X(ne,t[0]),ne.forEach(p),o=M(O),r=v(O,"BUTTON",{type:!0,class:!0,"aria-label":!0});var $=I(r);$.forEach(p),O.forEach(p),f=M(G),d=v(G,"DIV",{class:!0});var x=I(d);T=v(x,"P",{});var de=I(T);_=X(de,t[1]),de.forEach(p),x.forEach(p),D=M(G),m=v(G,"DIV",{class:!0});var ce=I(m);b=v(ce,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0});var le=I(b);g=X(le,t[2]),le.forEach(p),U=M(ce),C=v(ce,"BUTTON",{type:!0,class:!0});var he=I(C);Y=X(he,t[4]),he.forEach(p),ce.forEach(p),G.forEach(p),V.forEach(p),F.forEach(p),this.h()},h(){u(s,"class","modal-title"),u(r,"type","button"),u(r,"class","btn-close"),u(r,"aria-label",t[2]),u(a,"class","modal-header"),u(d,"class","modal-body"),u(b,"type","button"),u(b,"class",w="btn "+t[3]+" svelte-ydpc16"),u(b,"data-bs-dismiss","modal"),u(C,"type","button"),u(C,"class",N="btn "+t[5]+" svelte-ydpc16"),u(m,"class","modal-footer"),u(l,"class","modal-content"),u(n,"class","modal-dialog"),u(e,"class","modal svelte-ydpc16"),u(e,"tabindex","-1")},m(H,F){j(H,e,F),c(e,n),c(n,l),c(l,a),c(a,s),c(s,i),c(a,o),c(a,r),c(l,f),c(l,d),c(d,T),c(T,_),c(l,D),c(l,m),c(m,b),c(b,g),c(m,U),c(m,C),c(C,Y),S||(B=[W(r,"click",t[8]),W(b,"click",t[9]),W(C,"click",t[10])],S=!0)},p(H,[F]){F&1&&ue(i,H[0]),F&4&&u(r,"aria-label",H[2]),F&2&&ue(_,H[1]),F&4&&ue(g,H[2]),F&8&&w!==(w="btn "+H[3]+" svelte-ydpc16")&&u(b,"class",w),F&16&&ue(Y,H[4]),F&32&&N!==(N="btn "+H[5]+" svelte-ydpc16")&&u(C,"class",N)},i:ae,o:ae,d(H){H&&p(e),S=!1,Dt(B)}}}function el(t,e,n){let{title:l=""}=e,{message:a=""}=e,{rejectButtonLabel:s="No"}=e,{rejectButtonCSS:i="btn-secondary"}=e,{confirmButtonLabel:o="Yes"}=e,{confirmButtonCSS:r="btn-primary"}=e,{callback:f}=e;function d(m){f(m)}const T=()=>d(!1),_=()=>d(!1),D=()=>d(!0);return t.$$set=m=>{"title"in m&&n(0,l=m.title),"message"in m&&n(1,a=m.message),"rejectButtonLabel"in m&&n(2,s=m.rejectButtonLabel),"rejectButtonCSS"in m&&n(3,i=m.rejectButtonCSS),"confirmButtonLabel"in m&&n(4,o=m.confirmButtonLabel),"confirmButtonCSS"in m&&n(5,r=m.confirmButtonCSS),"callback"in m&&n(7,f=m.callback)},[l,a,s,i,o,r,d,f,T,_,D]}class tl extends Ne{constructor(e){super(),Se(this,e,el,xn,Ee,{title:0,message:1,rejectButtonLabel:2,rejectButtonCSS:3,confirmButtonLabel:4,confirmButtonCSS:5,callback:7})}}let Pt;function nl(t){const e=document.createElement("div");document.body.appendChild(e);const n={title:"Are you sure?",message:"Are you sure you want to do that?  You will not be able to undo this.",callback:()=>{console.log("callback")}};t.title&&(n.title=t.title),t.message&&(n.message=t.message),t.rejectButtonLabel&&(n.rejectButtonLabel=t.rejectButtonLabel),t.rejectButtonCSS&&(n.rejectButtonCSS=t.rejectButtonCSS),t.confirmButtonLabel&&(n.confirmButtonLabel=t.confirmButtonLabel),t.confirmButtonCSS&&(n.confirmButtonCSS=t.confirmButtonCSS),n.callback=l=>{console.log("Confirm result:",l),Pt.$destroy(),document.body.removeChild(e),t.callback&&typeof t.callback=="function"&&t.callback(l)},Pt=new tl({target:e,props:n})}function Rt(t){let e,n,l="Start time",a,s,i,o,r,f,d="End time",T,_,D,m,b;return{c(){e=h("div"),n=h("div"),n.textContent=l,a=k(),s=h("input"),o=k(),r=h("div"),f=h("div"),f.textContent=d,T=k(),_=h("input"),this.h()},l(g){e=v(g,"DIV",{class:!0});var w=I(e);n=v(w,"DIV",{"data-svelte-h":!0}),K(n)!=="svelte-1rswwqf"&&(n.textContent=l),a=M(w),s=v(w,"INPUT",{name:!0,type:!0,step:!0,class:!0}),w.forEach(p),o=M(g),r=v(g,"DIV",{class:!0});var U=I(r);f=v(U,"DIV",{"data-svelte-h":!0}),K(f)!=="svelte-cgab46"&&(f.textContent=d),T=M(U),_=v(U,"INPUT",{name:!0,type:!0,step:!0,class:!0}),U.forEach(p),this.h()},h(){u(s,"name",i=t[1]+"-start-time"),u(s,"type","time"),u(s,"step",900),u(s,"class","form-control"),s.disabled=t[6],s.required=!0,re(s,"is-invalid",t[3]),u(e,"class","d-flex flex-column gap-2"),u(_,"name",D=t[1]+"-end-time"),u(_,"type","time"),u(_,"step",900),u(_,"class","form-control"),_.disabled=t[6],_.required=!0,re(_,"is-invalid",t[2]),u(r,"class","d-flex flex-column gap-2")},m(g,w){j(g,e,w),c(e,n),c(e,a),c(e,s),t[32](s),ie(s,t[15]),j(g,o,w),j(g,r,w),c(r,f),c(r,T),c(r,_),t[35](_),ie(_,t[16]),m||(b=[W(s,"focus",t[33]),W(s,"input",t[34]),W(_,"focus",t[36]),W(_,"input",t[37])],m=!0)},p(g,w){w[0]&2&&i!==(i=g[1]+"-start-time")&&u(s,"name",i),w[0]&64&&(s.disabled=g[6]),w[0]&32768&&ie(s,g[15]),w[0]&8&&re(s,"is-invalid",g[3]),w[0]&2&&D!==(D=g[1]+"-end-time")&&u(_,"name",D),w[0]&64&&(_.disabled=g[6]),w[0]&65536&&ie(_,g[16]),w[0]&4&&re(_,"is-invalid",g[2])},d(g){g&&(p(e),p(o),p(r)),t[32](null),t[35](null),m=!1,Dt(b)}}}function ll(t){let e,n="<span>Delete</span>",l,a;return{c(){e=h("button"),e.innerHTML=n,this.h()},l(s){e=v(s,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1bw2173"&&(e.innerHTML=n),this.h()},h(){u(e,"class","btn btn-danger position-relative")},m(s,i){j(s,e,i),l||(a=W(e,"click",t[19]),l=!0)},p:ae,d(s){s&&p(e),l=!1,a()}}}function al(t){let e,n="Create";return{c(){e=h("span"),e.textContent=n},l(l){e=v(l,"SPAN",{"data-svelte-h":!0}),K(e)!=="svelte-1wf0js6"&&(e.textContent=n)},m(l,a){j(l,e,a)},d(l){l&&p(e)}}}function sl(t){let e,n="Save";return{c(){e=h("span"),e.textContent=n},l(l){e=v(l,"SPAN",{"data-svelte-h":!0}),K(e)!=="svelte-l126tb"&&(e.textContent=n)},m(l,a){j(l,e,a)},d(l){l&&p(e)}}}function zt(t){let e,n='<span class="visually-hidden">Item not saved</span>';return{c(){e=h("span"),e.innerHTML=n,this.h()},l(l){e=v(l,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1g0a6ie"&&(e.innerHTML=n),this.h()},h(){u(e,"class","position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle")},m(l,a){j(l,e,a)},d(l){l&&p(e)}}}function rl(t){let e,n,l,a="Title",s,i,o,r,f,d="Event title. i.e. Ward Conference, Ward BBQ Night",T,_,D,m="Description",b,g,w,U,C,Y="Describe the event to the best of your knowledge",N,S,B,H="Date",F,V,G,O,ne,$,x,de,ce,le,he,ke,Ve,Me,se,ve,We="Location",Oe,Z,Ye,Fe,me,qe="Location can be physical or virtual",L,A,oe,Te=t[13].message+"",Le,pe,at,Ce,ye,st,rt,fe,it,R,ot,wt,J=!t[0].is_all_day&&Rt(t);ye=new dn({props:{size:"xs"}});let _e=t[18]&&ll(t);function rn(y,E){return y[18]?sl:al}let Ge=rn(t)(t),ee=t[17]&&zt();return{c(){e=h("div"),n=h("div"),l=h("div"),l.textContent=a,s=k(),i=h("input"),r=k(),f=h("small"),f.textContent=d,T=k(),_=h("div"),D=h("div"),D.textContent=m,b=k(),g=h("textarea"),U=k(),C=h("small"),C.textContent=Y,N=k(),S=h("div"),B=h("div"),B.textContent=H,F=k(),V=h("input"),O=k(),ne=h("div"),$=h("div"),x=h("input"),ce=k(),le=h("label"),he=Q("All Day Event"),Ve=k(),J&&J.c(),Me=k(),se=h("div"),ve=h("div"),ve.textContent=We,Oe=k(),Z=h("input"),Fe=k(),me=h("small"),me.textContent=qe,L=k(),A=h("div"),oe=h("small"),Le=Q(Te),at=k(),Ce=h("span"),be(ye.$$.fragment),st=k(),_e&&_e.c(),rt=k(),fe=h("button"),Ge.c(),it=k(),ee&&ee.c(),this.h()},l(y){e=v(y,"DIV",{class:!0});var E=I(e);n=v(E,"DIV",{class:!0});var Ue=I(n);l=v(Ue,"DIV",{"data-svelte-h":!0}),K(l)!=="svelte-1vkxc90"&&(l.textContent=a),s=M(Ue),i=v(Ue,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),r=M(Ue),f=v(Ue,"SMALL",{class:!0,"data-svelte-h":!0}),K(f)!=="svelte-gvb7m1"&&(f.textContent=d),Ue.forEach(p),T=M(E),_=v(E,"DIV",{class:!0});var Ae=I(_);D=v(Ae,"DIV",{"data-svelte-h":!0}),K(D)!=="svelte-1x8itd0"&&(D.textContent=m),b=M(Ae),g=v(Ae,"TEXTAREA",{name:!0,class:!0,placeholder:!0}),I(g).forEach(p),U=M(Ae),C=v(Ae,"SMALL",{class:!0,"data-svelte-h":!0}),K(C)!=="svelte-bky2ve"&&(C.textContent=Y),Ae.forEach(p),N=M(E),S=v(E,"DIV",{class:!0});var Je=I(S);B=v(Je,"DIV",{"data-svelte-h":!0}),K(B)!=="svelte-myn5jk"&&(B.textContent=H),F=M(Je),V=v(Je,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),Je.forEach(p),O=M(E),ne=v(E,"DIV",{});var It=I(ne);$=v(It,"DIV",{class:!0});var Ke=I($);x=v(Ke,"INPUT",{class:!0,type:!0,id:!0}),ce=M(Ke),le=v(Ke,"LABEL",{class:!0,for:!0});var Tt=I(le);he=X(Tt,"All Day Event"),Tt.forEach(p),Ke.forEach(p),It.forEach(p),Ve=M(E),J&&J.l(E),Me=M(E),se=v(E,"DIV",{class:!0});var Be=I(se);ve=v(Be,"DIV",{"data-svelte-h":!0}),K(ve)!=="svelte-szqbut"&&(ve.textContent=We),Oe=M(Be),Z=v(Be,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),Fe=M(Be),me=v(Be,"SMALL",{class:!0,"data-svelte-h":!0}),K(me)!=="svelte-1drtb8l"&&(me.textContent=qe),Be.forEach(p),L=M(E),A=v(E,"DIV",{class:!0});var ge=I(A);oe=v(ge,"SMALL",{class:!0});var Ct=I(oe);Le=X(Ct,Te),Ct.forEach(p),at=M(ge),Ce=v(ge,"SPAN",{});var yt=I(Ce);De(ye.$$.fragment,yt),yt.forEach(p),st=M(ge),_e&&_e.l(ge),rt=M(ge),fe=v(ge,"BUTTON",{class:!0});var Qe=I(fe);Ge.l(Qe),it=M(Qe),ee&&ee.l(Qe),Qe.forEach(p),ge.forEach(p),E.forEach(p),this.h()},h(){u(i,"name",o=t[1]+"-title"),u(i,"type","text"),u(i,"class","form-control"),u(i,"placeholder","Event title"),i.disabled=t[6],i.required=!0,re(i,"is-invalid",t[5]),u(f,"class","fw-lighter fst-italic"),u(n,"class","d-flex flex-column gap-2"),u(g,"name",w=t[1]+"-description"),u(g,"class","form-control"),u(g,"placeholder","Event description"),g.disabled=t[6],g.required=!0,re(g,"is-invalid",t[4]),u(C,"class","fw-lighter fst-italic"),u(_,"class","d-flex flex-column gap-2"),u(V,"name",G=t[1]+"-start-time"),u(V,"type","date"),u(V,"class","form-control"),u(V,"placeholder","Event title"),V.disabled=t[6],V.required=!0,re(V,"is-invalid",t[3]),u(S,"class","d-flex flex-column gap-2"),u(x,"class","form-check-input"),u(x,"type","checkbox"),u(x,"id",de=t[1]+"-all-day-check"),u(le,"class","form-check-label"),u(le,"for",ke=t[1]+"-all-day-check"),u($,"class","form-check d-flex align-items-center gap-2"),u(Z,"name",Ye=t[1]+"-location"),u(Z,"type","text"),u(Z,"class","form-control"),u(Z,"placeholder","Event title"),Z.disabled=t[6],u(me,"class","fw-lighter fst-italic"),u(se,"class","d-flex flex-column gap-2"),u(oe,"class",pe="fw-lighter fst-italic text-"+t[13].type),re(Ce,"d-none",!t[6]),u(fe,"class","btn btn-primary position-relative"),u(A,"class","d-flex justify-content-end align-items-center gap-2 flex-row"),u(e,"class","d-flex flex-column gap-4")},m(y,E){j(y,e,E),c(e,n),c(n,l),c(n,s),c(n,i),t[22](i),ie(i,t[0].title),c(n,r),c(n,f),c(e,T),c(e,_),c(_,D),c(_,b),c(_,g),t[25](g),ie(g,t[0].description),c(_,U),c(_,C),c(e,N),c(e,S),c(S,B),c(S,F),c(S,V),t[28](V),ie(V,t[14]),c(e,O),c(e,ne),c(ne,$),c($,x),x.checked=t[0].is_all_day,c($,ce),c($,le),c(le,he),c(e,Ve),J&&J.m(e,null),c(e,Me),c(e,se),c(se,ve),c(se,Oe),c(se,Z),t[38](Z),ie(Z,t[0].location),c(se,Fe),c(se,me),c(e,L),c(e,A),c(A,oe),c(oe,Le),c(A,at),c(A,Ce),we(ye,Ce,null),c(A,st),_e&&_e.m(A,null),c(A,rt),c(A,fe),Ge.m(fe,null),c(fe,it),ee&&ee.m(fe,null),R=!0,ot||(wt=[W(i,"focus",t[23]),W(i,"input",t[24]),W(g,"focus",t[26]),W(g,"input",t[27]),W(V,"focus",t[29]),W(V,"input",t[30]),W(x,"change",t[31]),W(Z,"focus",t[39]),W(Z,"input",t[40]),W(fe,"click",t[20])],ot=!0)},p(y,E){(!R||E[0]&2&&o!==(o=y[1]+"-title"))&&u(i,"name",o),(!R||E[0]&64)&&(i.disabled=y[6]),E[0]&1&&i.value!==y[0].title&&ie(i,y[0].title),(!R||E[0]&32)&&re(i,"is-invalid",y[5]),(!R||E[0]&2&&w!==(w=y[1]+"-description"))&&u(g,"name",w),(!R||E[0]&64)&&(g.disabled=y[6]),E[0]&1&&ie(g,y[0].description),(!R||E[0]&16)&&re(g,"is-invalid",y[4]),(!R||E[0]&2&&G!==(G=y[1]+"-start-time"))&&u(V,"name",G),(!R||E[0]&64)&&(V.disabled=y[6]),E[0]&16384&&ie(V,y[14]),(!R||E[0]&8)&&re(V,"is-invalid",y[3]),(!R||E[0]&2&&de!==(de=y[1]+"-all-day-check"))&&u(x,"id",de),E[0]&1&&(x.checked=y[0].is_all_day),(!R||E[0]&2&&ke!==(ke=y[1]+"-all-day-check"))&&u(le,"for",ke),y[0].is_all_day?J&&(J.d(1),J=null):J?J.p(y,E):(J=Rt(y),J.c(),J.m(e,Me)),(!R||E[0]&2&&Ye!==(Ye=y[1]+"-location"))&&u(Z,"name",Ye),(!R||E[0]&64)&&(Z.disabled=y[6]),E[0]&1&&Z.value!==y[0].location&&ie(Z,y[0].location),(!R||E[0]&8192)&&Te!==(Te=y[13].message+"")&&ue(Le,Te),(!R||E[0]&8192&&pe!==(pe="fw-lighter fst-italic text-"+y[13].type))&&u(oe,"class",pe),(!R||E[0]&64)&&re(Ce,"d-none",!y[6]),y[18]&&_e.p(y,E),y[17]?ee||(ee=zt(),ee.c(),ee.m(fe,null)):ee&&(ee.d(1),ee=null)},i(y){R||(P(ye.$$.fragment,y),R=!0)},o(y){z(ye.$$.fragment,y),R=!1},d(y){y&&p(e),t[22](null),t[25](null),t[28](null),J&&J.d(),t[38](null),Ie(ye),_e&&_e.d(),Ge.d(),ee&&ee.d(),ot=!1,Dt(wt)}}}function il(t,e,n){let l,a,s,i,o,r,{name:f=""}=e,{event:d={title:"",description:"",start_time:"",end_time:"",location:"",is_all_day:!1}}=e;const{actions:{reload:T}}=an();let _=!1,D=d.id,m,b,g,w,U,C,Y={message:"",type:"info"},N={title:"",description:"",start_time:"",end_time:"",location:"",is_all_day:!1},S=je(ze(Pe(d.start_time),Re),"yyyy-MM-dd"),B=je(ze(Pe(d.start_time),Re),"HH:mm"),H=je(ze(Pe(d.end_time),Re),"HH:mm");const F=async()=>{if(!D){O("ID is not defined",0,"danger");return}try{await Qn(D),await T(),$e("set_calendar_event_success","interaction","Delete Calendar Event Successful",1),setTimeout(()=>{n(6,_=!1),n(21,N={...d,id:D}),O("Event Deleted",3e3,"success")},800)}catch(L){$e("set_calendar_event_failed","interaction","Delete Calendar Event Failed",1),setTimeout(()=>{n(6,_=!1),console.error("Save failed:",L),O("Failed to save event. Please try again.",7e3,"danger")},800)}},V=()=>{nl({title:"Delete Confirmation",message:"Are you sure you want to do this?  You won't be able to undo this.",confirmButtonLabel:"Yes",confirmButtonCSS:"btn-danger",callback:L=>{L&&F()}})},G=async()=>{if(!l){O("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}if(!r){let A=[];a&&A.push("Title is invalid"),s&&A.push("Description is invalid"),i&&A.push("Start time is invalid"),o&&A.push("End time is invalid"),O(A.join(". ")+".  Please address accordingly.",0,"danger")}if(_)return;O("Saving ..."),n(6,_=!0);const L=(A,oe)=>{const[Te,Le]=oe.split(":").map(Number);let pe=mn(A,Te);return pe=_n(pe,Le),pe};try{const A={title:d.title,description:d.description,start_time:L(kt(S,"yyyy-MM-dd",new Date),B).toISOString(),end_time:L(kt(S,"yyyy-MM-dd",new Date),H).toISOString(),location:d.location,is_all_day:d.is_all_day};D?await Kn(D,A):await Jn(A),await T(),$e("set_calendar_event_success","interaction",`Set Calendar Event Successful ${d.title}`,1),setTimeout(()=>{n(6,_=!1),n(21,N={...d,id:D}),O("Saved",3e3,"success")},800)}catch(A){$e("set_calendar_event_failed","interaction",`Set Calendar Event Failed ${d.title}`,1),setTimeout(()=>{n(6,_=!1),console.error("Save failed:",A),O("Failed to save event. Please try again.",7e3,"danger")},800)}},O=(L,A=0,oe="info")=>{n(13,Y.message=L,Y),n(13,Y.type=oe,Y),A&&setTimeout(()=>{n(13,Y.message="",Y)},A)};function ne(L){He[L?"unshift":"push"](()=>{m=L,n(7,m)})}const $=()=>m.select();function x(){d.title=this.value,n(0,d)}function de(L){He[L?"unshift":"push"](()=>{b=L,n(8,b)})}const ce=()=>b.select();function le(){d.description=this.value,n(0,d)}function he(L){He[L?"unshift":"push"](()=>{g=L,n(9,g)})}const ke=()=>g.select();function Ve(){S=this.value,n(14,S)}function Me(){d.is_all_day=this.checked,n(0,d)}function se(L){He[L?"unshift":"push"](()=>{w=L,n(10,w)})}const ve=()=>w.select();function We(){B=this.value,n(15,B)}function Oe(L){He[L?"unshift":"push"](()=>{U=L,n(11,U)})}const Z=()=>U.select();function Ye(){H=this.value,n(16,H)}function Fe(L){He[L?"unshift":"push"](()=>{C=L,n(12,C)})}const me=()=>C.select();function qe(){d.location=this.value,n(0,d)}return t.$$set=L=>{"name"in L&&n(1,f=L.name),"event"in L&&n(0,d=L.event)},t.$$.update=()=>{t.$$.dirty[0]&2097153&&n(17,l=N.title!==d.title||N.description!==d.description||N.start_time!==d.start_time||N.end_time!==d.end_time||N.location!==d.location||N.is_all_day!==d.is_all_day),t.$$.dirty[0]&1&&n(5,a=d.title===""),t.$$.dirty[0]&1&&n(4,s=d.description===""),t.$$.dirty[0]&1&&n(3,i=d.start_time===""),t.$$.dirty[0]&1&&n(2,o=d.end_time===""),t.$$.dirty[0]&60&&(r=!!(D&&a&&s&&i&&o))},[d,f,o,i,s,a,_,m,b,g,w,U,C,Y,S,B,H,l,D,V,G,N,ne,$,x,de,ce,le,he,ke,Ve,Me,se,ve,We,Oe,Z,Ye,Fe,me,qe]}class sn extends Ne{constructor(e){super(),Se(this,e,il,rl,Ee,{name:1,event:0},null,[-1,-1])}}function Zt(t,e,n){const l=t.slice();return l[10]=e[n],l[12]=n,l}function ol(t){let e,n;return e=new sn({props:{event:t[5],name:"item-new"}}),{c(){be(e.$$.fragment)},l(l){De(e.$$.fragment,l)},m(l,a){we(e,l,a),n=!0},p:ae,i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){z(e.$$.fragment,l),n=!1},d(l){Ie(e,l)}}}function ul(t){let e,n=`<i class="bi bi-plus"></i>
				Add New Event`;return{c(){e=h("span"),e.innerHTML=n,this.h()},l(l){e=v(l,"SPAN",{slot:!0,"data-svelte-h":!0}),K(e)!=="svelte-14yfu7o"&&(e.innerHTML=n),this.h()},h(){u(e,"slot","label")},m(l,a){j(l,e,a)},p:ae,d(l){l&&p(e)}}}function cl(t){let e;return{c(){e=Q("Loading ...")},l(n){e=X(n,"Loading ...")},m(n,l){j(n,e,l)},p:ae,i:ae,o:ae,d(n){n&&p(e)}}}function fl(t){let e,n,l=_t(t[2]),a=[];for(let i=0;i<l.length;i+=1)a[i]=Jt(Zt(t,l,i));const s=i=>z(a[i],1,1,()=>{a[i]=null});return{c(){e=h("ul");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=v(i,"UL",{class:!0});var o=I(e);for(let r=0;r<a.length;r+=1)a[r].l(o);o.forEach(p),this.h()},h(){u(e,"class","list-group list-group-flush")},m(i,o){j(i,e,o);for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(e,null);n=!0},p(i,o){if(o&197){l=_t(i[2]);let r;for(r=0;r<l.length;r+=1){const f=Zt(i,l,r);a[r]?(a[r].p(f,o),P(a[r],1)):(a[r]=Jt(f),a[r].c(),P(a[r],1),a[r].m(e,null))}for(et(),r=l.length;r<a.length;r+=1)s(r);tt()}},i(i){if(!n){for(let o=0;o<l.length;o+=1)P(a[o]);n=!0}},o(i){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)z(a[o]);n=!1},d(i){i&&p(e),Qt(a,i)}}}function Wt(t){let e,n=t[7](t[10].start_time)+"",l,a,s=t[7](t[10].end_time)+"",i;return{c(){e=h("span"),l=Q(n),a=Q(" to "),i=Q(s)},l(o){e=v(o,"SPAN",{});var r=I(e);l=X(r,n),a=X(r," to "),i=X(r,s),r.forEach(p)},m(o,r){j(o,e,r),c(e,l),c(e,a),c(e,i)},p(o,r){r&4&&n!==(n=o[7](o[10].start_time)+"")&&ue(l,n),r&4&&s!==(s=o[7](o[10].end_time)+"")&&ue(i,s)},d(o){o&&p(e)}}}function qt(t){let e,n=t[10].description+"",l;return{c(){e=h("em"),l=Q(n),this.h()},l(a){e=v(a,"EM",{class:!0});var s=I(e);l=X(s,n),s.forEach(p),this.h()},h(){u(e,"class","d-block small fw-lighter")},m(a,s){j(a,e,s),c(e,l)},p(a,s){s&4&&n!==(n=a[10].description+"")&&ue(l,n)},d(a){a&&p(e)}}}function Gt(t){let e,n;return e=new en({props:{drawerTitle:"Edit Calendar Event",id:"calendar-event-form"+t[12],$$slots:{label:[ml],default:[dl]},$$scope:{ctx:t}}}),{c(){be(e.$$.fragment)},l(l){De(e.$$.fragment,l)},m(l,a){we(e,l,a),n=!0},p(l,a){const s={};a&8196&&(s.$$scope={dirty:a,ctx:l}),e.$set(s)},i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){z(e.$$.fragment,l),n=!1},d(l){Ie(e,l)}}}function dl(t){let e,n;return e=new sn({props:{event:t[10],name:"item"+t[12]}}),{c(){be(e.$$.fragment)},l(l){De(e.$$.fragment,l)},m(l,a){we(e,l,a),n=!0},p(l,a){const s={};a&4&&(s.event=l[10]),e.$set(s)},i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){z(e.$$.fragment,l),n=!1},d(l){Ie(e,l)}}}function ml(t){let e;return{c(){e=h("i"),this.h()},l(n){e=v(n,"I",{slot:!0,class:!0}),I(e).forEach(p),this.h()},h(){u(e,"slot","label"),u(e,"class","bi bi-pencil")},m(n,l){j(n,e,l)},p:ae,d(n){n&&p(e)}}}function Jt(t){let e,n,l,a,s,i=t[6](t[10].start_time)+"",o,r,f,d,T=t[10].title+"",_,D,m,b,g,w,U,C=!t[10].is_all_day&&Wt(t),Y=t[10].description&&qt(t),N=t[0]&&Gt(t);return{c(){e=h("li"),n=h("div"),l=h("div"),a=h("div"),s=h("strong"),o=Q(i),r=k(),f=h("div"),d=h("strong"),_=Q(T),D=k(),C&&C.c(),m=k(),Y&&Y.c(),b=k(),g=h("div"),N&&N.c(),w=k(),this.h()},l(S){e=v(S,"LI",{class:!0});var B=I(e);n=v(B,"DIV",{class:!0});var H=I(n);l=v(H,"DIV",{class:!0});var F=I(l);a=v(F,"DIV",{style:!0});var V=I(a);s=v(V,"STRONG",{});var G=I(s);o=X(G,i),G.forEach(p),V.forEach(p),r=M(F),f=v(F,"DIV",{});var O=I(f);d=v(O,"STRONG",{});var ne=I(d);_=X(ne,T),ne.forEach(p),D=M(O),C&&C.l(O),m=M(O),Y&&Y.l(O),O.forEach(p),F.forEach(p),b=M(H),g=v(H,"DIV",{});var $=I(g);N&&N.l($),$.forEach(p),H.forEach(p),w=M(B),B.forEach(p),this.h()},h(){on(a,"width","85px"),u(l,"class","d-flex flex-sm-column flex-md-row flex-xl-row flex-lg-row gap-3"),u(n,"class","d-flex justify-content-between"),u(e,"class","list-group-item")},m(S,B){j(S,e,B),c(e,n),c(n,l),c(l,a),c(a,s),c(s,o),c(l,r),c(l,f),c(f,d),c(d,_),c(f,D),C&&C.m(f,null),c(f,m),Y&&Y.m(f,null),c(n,b),c(n,g),N&&N.m(g,null),c(e,w),U=!0},p(S,B){(!U||B&4)&&i!==(i=S[6](S[10].start_time)+"")&&ue(o,i),(!U||B&4)&&T!==(T=S[10].title+"")&&ue(_,T),S[10].is_all_day?C&&(C.d(1),C=null):C?C.p(S,B):(C=Wt(S),C.c(),C.m(f,m)),S[10].description?Y?Y.p(S,B):(Y=qt(S),Y.c(),Y.m(f,null)):Y&&(Y.d(1),Y=null),S[0]?N?(N.p(S,B),B&1&&P(N,1)):(N=Gt(S),N.c(),P(N,1),N.m(g,null)):N&&(et(),z(N,1,1,()=>{N=null}),tt())},i(S){U||(P(N),U=!0)},o(S){z(N),U=!1},d(S){S&&p(e),C&&C.d(),Y&&Y.d(),N&&N.d()}}}function _l(t){let e,n,l="Announcements",a,s,i,o,r,f,d;i=new en({props:{drawerTitle:"New Calendar Event",id:"calendar-event-form-new",$$slots:{label:[ul],default:[ol]},$$scope:{ctx:t}}});const T=[fl,cl],_=[];function D(m,b){return m[1]?0:1}return r=D(t),f=_[r]=T[r](t),{c(){e=h("div"),n=h("div"),n.textContent=l,a=k(),s=h("div"),be(i.$$.fragment),o=k(),f.c(),this.h()},l(m){e=v(m,"DIV",{class:!0});var b=I(e);n=v(b,"DIV",{class:!0,"data-svelte-h":!0}),K(n)!=="svelte-rw6gj3"&&(n.textContent=l),a=M(b),s=v(b,"DIV",{class:!0});var g=I(s);De(i.$$.fragment,g),g.forEach(p),o=M(b),f.l(b),b.forEach(p),this.h()},h(){u(n,"class","card-header"),u(s,"class","card-body"),u(e,"class","card")},m(m,b){j(m,e,b),c(e,n),c(e,a),c(e,s),we(i,s,null),c(e,o),_[r].m(e,null),d=!0},p(m,[b]){const g={};b&8192&&(g.$$scope={dirty:b,ctx:m}),i.$set(g);let w=r;r=D(m),r===w?_[r].p(m,b):(et(),z(_[w],1,1,()=>{_[w]=null}),tt(),f=_[r],f?f.p(m,b):(f=_[r]=T[r](m),f.c()),P(f,1),f.m(e,null))},i(m){d||(P(i.$$.fragment,m),P(f),d=!0)},o(m){z(i.$$.fragment,m),z(f),d=!1},d(m){m&&p(e),Ie(i),_[r].d()}}}function hl(t,e,n){let l,a;const{actions:{featureIsEnabled:s}}=Xt(),{stores:{ready:i,dbData:o},actions:{reload:r}}=an();Et(t,i,D=>n(1,l=D)),Et(t,o,D=>n(2,a=D));let f=!1;const d={title:"An event",is_all_day:!0,start_time:new Date().toISOString(),end_time:new Date().toISOString()};return Kt(async()=>{n(0,f=s($t.EditAnnouncement)),await r()}),[f,l,a,i,o,d,D=>{const m=Pe(D),b=ze(m,Re);return je(b,"MMM, dd")},D=>{const m=Pe(D),b=ze(m,Re);return je(b,"h:mm aa")}]}class vl extends Ne{constructor(e){super(),Se(this,e,hl,_l,Ee,{})}}function pl(t,e,n){const l=t.slice();return l[0]=e[n],l}function gl(t){let e,n,l,a=t[0].when+"",s,i,o,r=t[0].title+"",f,d,T,_,D,m=t[0].details+"",b;return{c(){e=h("li"),n=h("strong"),l=h("small"),s=Q(a),i=h("br"),o=k(),f=Q(r),d=h("br"),T=k(),_=h("em"),D=new un(!1),b=k(),this.h()},l(g){e=v(g,"LI",{class:!0});var w=I(e);n=v(w,"STRONG",{});var U=I(n);l=v(U,"SMALL",{});var C=I(l);s=X(C,a),C.forEach(p),U.forEach(p),i=v(w,"BR",{}),o=M(w),f=X(w,r),d=v(w,"BR",{}),T=M(w),_=v(w,"EM",{class:!0});var Y=I(_);D=cn(Y,!1),Y.forEach(p),b=M(w),w.forEach(p),this.h()},h(){D.a=null,u(_,"class","small fw-lighter"),u(e,"class","list-group-item")},m(g,w){j(g,e,w),c(e,n),c(n,l),c(l,s),c(e,i),c(e,o),c(e,f),c(e,d),c(e,T),c(e,_),D.m(m,_),c(e,b)},p:ae,d(g){g&&p(e)}}}function bl(t){let e,n,l="Announcements",a,s,i=_t(fn),o=[];for(let r=0;r<i.length;r+=1)o[r]=gl(pl(t,i,r));return{c(){e=h("div"),n=h("div"),n.textContent=l,a=k(),s=h("ul");for(let r=0;r<o.length;r+=1)o[r].c();this.h()},l(r){e=v(r,"DIV",{class:!0});var f=I(e);n=v(f,"DIV",{class:!0,"data-svelte-h":!0}),K(n)!=="svelte-rw6gj3"&&(n.textContent=l),a=M(f),s=v(f,"UL",{class:!0});var d=I(s);for(let T=0;T<o.length;T+=1)o[T].l(d);d.forEach(p),f.forEach(p),this.h()},h(){u(n,"class","card-header"),u(s,"class","list-group list-group-flush"),u(e,"class","card")},m(r,f){j(r,e,f),c(e,n),c(e,a),c(e,s);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(s,null)},p:ae,i:ae,o:ae,d(r){r&&p(e),Qt(o,r)}}}class Dl extends Ne{constructor(e){super(),Se(this,e,null,bl,Ee,{})}}function wl(t){let e,n;return e=new Dl({}),{c(){be(e.$$.fragment)},l(l){De(e.$$.fragment,l)},m(l,a){we(e,l,a),n=!0},i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){z(e.$$.fragment,l),n=!1},d(l){Ie(e,l)}}}function Il(t){let e,n;return e=new vl({}),{c(){be(e.$$.fragment)},l(l){De(e.$$.fragment,l)},m(l,a){we(e,l,a),n=!0},i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){z(e.$$.fragment,l),n=!1},d(l){Ie(e,l)}}}function Tl(t){let e,n,l,a;const s=[Il,wl],i=[];function o(r,f){return r[0]?0:1}return e=o(t),n=i[e]=s[e](t),{c(){n.c(),l=Nt()},l(r){n.l(r),l=Nt()},m(r,f){i[e].m(r,f),j(r,l,f),a=!0},p(r,[f]){let d=e;e=o(r),e!==d&&(et(),z(i[d],1,1,()=>{i[d]=null}),tt(),n=i[e],n||(n=i[e]=s[e](r),n.c()),P(n,1),n.m(l.parentNode,l))},i(r){a||(P(n),a=!0)},o(r){z(n),a=!1},d(r){r&&p(l),i[e].d(r)}}}function Cl(t,e,n){const{actions:{featureIsEnabled:l}}=Xt();let a=!1;return Kt(async()=>{n(0,a=l($t.ViewDBAnnouncements))}),[a]}class Ul extends Ne{constructor(e){super(),Se(this,e,Cl,Tl,Ee,{})}}export{Ul as A,en as D,$e as t};
