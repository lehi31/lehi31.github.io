import{at as z,af as $,a1 as D,e as R,h as p,w as X,y as P,a5 as Z,au as J,A as Q,B as m,z as x,av as ee,aw as ae,ax as re,ay as se,g as te,az as ie,aA as ue,X as V,aB as fe,aC as le,q as ce,aD as oe}from"./D2Wl5k_M.js";import{c as ne,f as ve,d as _e,n as de,g as he}from"./Dp64CMOB.js";import{j as be,i as ye,e as Ae}from"./qUE-nNH0.js";function ge(e,r){var a=void 0,s;z(()=>{a!==(a=r())&&(s&&($(s),s=null),a&&(s=D(()=>{R(()=>a(e))})))})}function q(e,r={},a,s){for(var t in a){var f=a[t];r[t]!==f&&(a[t]==null?e.style.removeProperty(t):e.style.setProperty(t,f,s))}}function pe(e,r,a,s){var t=e.__style;if(p||t!==r){var f=be(r,s);(!p||f!==e.getAttribute("style"))&&(f==null?e.removeAttribute("style"):e.style.cssText=f),e.__style=r}else s&&(Array.isArray(s)?(q(e,a?.[0],s[0]),q(e,a?.[1],s[1],"important")):q(e,a,s));return s}function L(e,r,a=!1){if(e.multiple){if(r==null)return;if(!Z(r))return J();for(var s of e.options)s.selected=r.includes(T(s));return}for(s of e.options){var t=T(s);if(Q(t,r)){s.selected=!0;return}}(!a||r!==void 0)&&(e.selectedIndex=-1)}function H(e){var r=new MutationObserver(()=>{L(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),m(()=>{r.disconnect()})}function Ie(e,r,a=r){var s=new WeakSet,t=!0;X(e,"change",f=>{var _=f?"[selected]":":checked",d;if(e.multiple)d=[].map.call(e.querySelectorAll(_),T);else{var h=e.querySelector(_)??e.querySelector("option:not([disabled])");d=h&&T(h)}a(d),P!==null&&s.add(P)}),R(()=>{var f=r();if(e===document.activeElement){var _=x??P;if(s.has(_))return}if(L(e,f,t),t&&f===void 0){var d=e.querySelector(":checked");d!==null&&(f=T(d),a(f))}e.__value=f,t=!1}),H(e)}function T(e){return"__value"in e?e.__value:e.value}const w=Symbol("class"),E=Symbol("style"),Y=Symbol("is custom element"),G=Symbol("is html");function Se(e){if(p){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var s=e.value;O(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var t=e.checked;O(e,"checked",null),e.checked=t}}};e.__on_r=a,ce(a),oe()}}function Le(e,r){var a=C(e);a.value===(a.value=r??void 0)||e.value===r&&(r!==0||e.nodeName!=="PROGRESS")||(e.value=r??"")}function Oe(e,r){var a=C(e);a.checked!==(a.checked=r??void 0)&&(e.checked=r)}function ke(e,r){r?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function O(e,r,a,s){var t=C(e);p&&(t[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||t[r]!==(t[r]=a)&&(r==="loading"&&(e[ae]=a),a==null?e.removeAttribute(r):typeof a!="string"&&K(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function Ne(e,r,a,s,t=!1,f=!1){if(p&&t&&e.tagName==="INPUT"){var _=e,d=_.type==="checkbox"?"defaultChecked":"defaultValue";d in a||Se(_)}var h=C(e),b=h[Y],A=!h[G];let S=p&&b;S&&V(!1);var l=r||{},k=e.tagName==="OPTION";for(var y in r)y in a||(a[y]=null);a.class?a.class=ye(a.class):a[w]&&(a.class=null),a[E]&&(a.style??=null);var I=K(e);for(const i in a){let u=a[i];if(k&&i==="value"&&u==null){e.value=e.__value="",l[i]=u;continue}if(i==="class"){var N=e.namespaceURI==="http://www.w3.org/1999/xhtml";Ae(e,N,u,s,r?.[w],a[w]),l[i]=u,l[w]=a[w];continue}if(i==="style"){pe(e,u,r?.[E],a[E]),l[i]=u,l[E]=a[E];continue}var n=l[i];if(!(u===n&&!(u===void 0&&e.hasAttribute(i)))){l[i]=u;var U=i[0]+i[1];if(U!=="$$")if(U==="on"){const v={},g="$$"+i;let c=i.slice(2);var M=he(c);if(ne(c)&&(c=c.slice(0,-7),v.capture=!0),!M&&n){if(u!=null)continue;e.removeEventListener(c,l[g],v),l[g]=null}if(u!=null)if(M)e[`__${c}`]=u,_e([c]);else{let F=function(W){l[i].call(this,W)};l[g]=ve(c,e,F,v)}else M&&(e[`__${c}`]=void 0)}else if(i==="style")O(e,i,u);else if(i==="autofocus")fe(e,!!u);else if(!b&&(i==="__value"||i==="value"&&u!=null))e.value=e.__value=u;else if(i==="selected"&&k)ke(e,u);else{var o=i;A||(o=de(o));var B=o==="defaultValue"||o==="defaultChecked";if(u==null&&!b&&!B)if(h[i]=null,o==="value"||o==="checked"){let v=e;const g=r===void 0;if(o==="value"){let c=v.defaultValue;v.removeAttribute(o),v.defaultValue=c,v.value=v.__value=g?c:null}else{let c=v.defaultChecked;v.removeAttribute(o),v.defaultChecked=c,v.checked=g?c:!1}}else e.removeAttribute(i);else B||I.includes(o)&&(b||typeof u!="string")?(e[o]=u,o in h&&(h[o]=le)):typeof u!="function"&&O(e,o,u)}}}return S&&V(!0),l}function Ce(e,r,a=[],s=[],t=[],f,_=!1,d=!1){ee(t,a,s,h=>{var b=void 0,A={},S=e.nodeName==="SELECT",l=!1;if(z(()=>{var y=r(...h.map(te)),I=Ne(e,b,y,f,_,d);l&&S&&"value"in y&&L(e,y.value);for(let n of Object.getOwnPropertySymbols(A))y[n]||$(A[n]);for(let n of Object.getOwnPropertySymbols(y)){var N=y[n];n.description===ie&&(!b||N!==b[n])&&(A[n]&&$(A[n]),A[n]=D(()=>ge(e,()=>N))),I[n]=N}b=I}),S){var k=e;R(()=>{L(k,b.value,!0),H(k)})}l=!0})}function C(e){return e.__attributes??={[Y]:e.nodeName.includes("-"),[G]:e.namespaceURI===re}}var j=new Map;function K(e){var r=e.getAttribute("is")||e.nodeName,a=j.get(r);if(a)return a;j.set(r,a=[]);for(var s,t=e,f=Element.prototype;f!==t;){s=ue(t);for(var _ in s)s[_].set&&a.push(_);t=se(t)}return a}export{Ce as a,Ie as b,Le as c,L as d,pe as e,Oe as f,H as i,Se as r,O as s};
