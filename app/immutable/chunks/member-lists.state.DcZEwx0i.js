import{w as l}from"./index.D7NTaGIY.js";import{U as a,g as w}from"./app.state.DmM-vh3m.js";import{l as g}from"./scheduler.C8i5pNTT.js";import{s as c}from"./supabase-config.CfWUfwF8.js";var y=(e=>(e.EditSacramentProgram="edit-sacrament-program",e.EditDBCalendarEvent="edit-calendar-events",e.EditMemberListItem="edit-member-list-item",e.ViewDBMemberListItem="view-db-member-list-item",e.UseCallings="use-callings",e))(y||{});const p=[{name:"edit-sacrament-program",roles:[a.Root,a.Admin],on:!0},{name:"edit-calendar-events",roles:[a.Root,a.Admin],on:!0},{name:"view-db-member-list-item",roles:[a.Root,a.Admin],on:!0},{name:"edit-member-list-item",roles:[a.Root,a.Admin],on:!0},{name:"use-callings",roles:[a.Root],on:!0}],{stores:{currentUser:A}}=w();let o=null;const I=()=>{const e=l(p);return o={stores:{featureFlags:e},actions:{featureIsEnabled:t=>{const n=g(e).find(b=>b.name===t);if(!n)return!1;const f=g(A).role;return!!n.roles.find(b=>b===f)&&n.on}}},o},_=()=>o?.stores&&Object.keys(o.stores).length>0&&o?.actions&&Object.keys(o.actions).length>0?o:I(),M={AdvancementsForAaronicPriesthood:{label:"Aaronic Priesthood Advancements",key:"advancements-for-aaronic-priesthood"},AdvancementsForYoungWomen:{label:"Young Women Advancement Acknowledgement",key:"advancements-for-young-women"},BabyBlessing:{label:"Baby Blessing",key:"baby-blessing"},Baptisms:{label:"Baptisms",key:"baptisms"},CallingsToBeAcknowledgeInSacrament:{label:"Callings to be Acknowledged in Sacrament",key:"callings-to-acknowledge-in-sacrament"},CallingsToBeAcknowledgeInClass:{label:"Callings to be Acknowledged in Class",key:"callings-to-acknowledge-in-class"},CallingsToBeReleasedInSacrament:{label:"Callings to Release in Sacrament",key:"callings-to-be-released-in-sacrament"},CallingsToBeReleasedInClass:{label:"Callings to Release in Class",key:"callings-to-be-released-in-class"},CallingsToBeSustainedInSacrament:{label:"Callings to Sustain in Sacrament",key:"callings-to-be-sustained-in-sacrament"},CallingsToBeSustainedInClass:{label:"Callings to Sustain in Class",key:"callings-to-be-sustained-in-class"},MovedIn:{label:"Move In Members",key:"moved-in-members"}},R={name:"",description:"",list_name:"",sort_order:0},u=l([]);async function m(){const{data:e,error:s}=await c.from("member_list_items").select("*");if(s)throw s;const t=e||[];return u.set(t),t}async function h(e){const{data:s,error:t}=await c.from("member_list_items").insert([e]).select();if(t)throw t;return await m(),s[0]}async function L(e,s){const{error:t}=await c.from("member_list_items").update(s).eq("id",e).select();if(t)throw t;await m();const n=g(u).find(r=>r.id===e);return n||void 0}async function T(e){const{error:s}=await c.from("member_list_items").delete().eq("id",e);if(s)throw s;await m()}let i=null;const k=()=>{const e=l(!1),s=l([]),t=l([]),d=r=>r.length?r:[];return i={stores:{ready:e,data:s,dbData:t},actions:{reload:async()=>{e.set(!1);const r=await m();t.set(d(r)),e.set(!0)}}},i},D=()=>i?.stores&&Object.keys(i.stores).length>0?i:k();export{R as B,y as F,M,_ as a,h as c,T as d,D as g,L as u};
