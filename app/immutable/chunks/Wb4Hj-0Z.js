import"./NZTpNUN0.js";import"./69_IOA4Y.js";import{p as aa,ax as ta,al as ra,f as E,a as ea,c as s,s as w,a8 as sa,g as a,r,aa as Y,t as $,aB as la}from"./D6GkHfO-.js";import{i as F,s as L,e as oa}from"./DYmw-k_K.js";import{f as m,a as v,c as X}from"./D8wZRsgK.js";import{i as ia}from"./XlJfi8GN.js";import{s as na,a as Z}from"./C8uFvBRH.js";import{i as da,c as y,g as va}from"./C_VuHRZi.js";import{o as ba}from"./B8gJkoMb.js";import{e as q,i as D}from"./COMoFu8N.js";import{s as f}from"./DsJSLd4M.js";import{p as ca}from"./ChgfPu4l.js";var pa=m("<a> </a>"),ua=m('<div><button type="button" data-bs-toggle="collapse" data-bs-parent="#desktop-nav-root"><span> </span> <i class="bi bi-chevron-right chevron svelte-h0bmr6"></i></button> <div data-bs-parent="#desktop-nav-root"><div class="list-group list-group-flush ms-3 svelte-h0bmr6"></div></div></div>'),ma=m("<a> </a>"),ga=m('<button type="button" data-bs-toggle="collapse"><span> </span> <i class="bi bi-chevron-right chevron svelte-h0bmr6"></i></button>'),fa=m("<a> </a>"),_a=m("<a> </a>"),ha=m('<div data-bs-parent="#mobile-nav-root"><div class="card shadow-sm bg-body-tertiary border border-secondary-subtle text-body"><div class="list-group list-group-flush svelte-h0bmr6"></div></div></div>'),xa=m('<div class="d-none d-md-block d-print-none mt-3" id="desktop-nav-root"><div class="d-flex flex-column gap-2"></div></div> <div class="d-flex flex-column gap-3 d-md-none d-print-none mt-3" id="mobile-nav-root"><div class="card shadow-sm bg-body-tertiary border border-secondary-subtle text-body"><div class="list-group list-group-flush svelte-h0bmr6"></div></div> <!></div>',1);function ya(K,O){aa(O,!0);let k=ta(ra([]));ba(()=>{sa(k,da(),!0)});function _(n){return`collapse-${n.toLowerCase().replace(/\s+/g,"-")}`}function C(n){return n?n==="/"?n:n.replace(/\/+$/,"")||"/":null}const p=n=>{if(!n)return!1;const e=C(n.url);return e&&e===a(Q)?!0:n.children?.some(c=>p(c))??!1};let Q=la(()=>C(ca.url.pathname)??"/");var G=xa(),H=E(G),B=s(H);q(B,21,()=>a(k),D,(n,e,c)=>{var T=X(),j=E(T);{var h=l=>{var t=ua();let o;var i=s(t);let b;var u=s(i),x=s(u,!0);r(u),Y(2),r(i);var g=w(i,2);let A;var M=s(g);q(M,21,()=>a(e).children,D,(R,S)=>{var z=pa();let J;var V=s(z,!0);r(z),$(W=>{f(z,"href",a(S).url??"#"),J=y(z,1,"list-group-item list-group-item-action border-0 ps-3 fw-semibold svelte-h0bmr6",null,J,W),L(V,a(S).label)},[()=>({active:p(a(S))})]),v(R,z)}),r(M),r(g),r(t),$((R,S,z,J,V,W)=>{o=y(t,1,"",null,o,{"mb-3":c>0&&!a(k)[c-1]?.children}),b=y(i,1,"btn border border-secondary-subtle border-opacity-25 text-body w-100 text-start d-flex align-items-center justify-content-between gap-2 fw-semibold rounded-3 py-2 px-3 shadow-sm collapsed nav-btn svelte-h0bmr6",null,b,R),f(i,"data-bs-target",S),f(i,"aria-expanded",z),f(i,"aria-controls",J),L(x,a(e).label),A=y(g,1,"collapse mt-2",null,A,V),f(g,"id",W)},[()=>({active:p(a(e))}),()=>`#${_(a(e).label)}-desktop`,()=>p(a(e)),()=>`${_(a(e).label)}-desktop`,()=>({show:p(a(e))}),()=>`${_(a(e).label)}-desktop`]),v(l,t)},d=l=>{var t=ma();let o;var i=s(t,!0);r(t),$(b=>{f(t,"href",a(e).url??"#"),o=y(t,1,"btn border border-secondary-subtle border-opacity-25 text-body w-100 text-start d-flex align-items-center gap-2 fw-semibold rounded-3 py-2 px-3 shadow-sm nav-btn svelte-h0bmr6",null,o,b),L(i,a(e).label)},[()=>({active:p(a(e)),"mb-3":c>0&&!a(k)[c-1]?.children})]),v(l,t)};F(j,l=>{a(e).children&&a(e).children.length>0?l(h):l(d,!1)})}v(n,T)}),r(B),r(H);var U=w(H,2),N=s(U),I=s(N);q(I,21,()=>a(k),D,(n,e)=>{var c=X(),T=E(c);{var j=d=>{var l=ga();let t;var o=s(l),i=s(o,!0);r(o),Y(2),r(l),$((b,u,x,g)=>{t=y(l,1,"list-group-item list-group-item-action nav-mobile-parent d-flex align-items-center justify-content-between gap-2 fw-semibold collapsed small svelte-h0bmr6",null,t,b),f(l,"data-bs-target",u),f(l,"aria-expanded",x),f(l,"aria-controls",g),L(i,a(e).label)},[()=>({active:p(a(e))}),()=>`#${_(a(e).label)}-mobile`,()=>p(a(e)),()=>`${_(a(e).label)}-mobile`]),v(d,l)},h=d=>{var l=fa();let t;var o=s(l,!0);r(l),$(i=>{f(l,"href",a(e).url??"#"),t=y(l,1,"list-group-item list-group-item-action nav-mobile-parent d-flex align-items-center gap-2 fw-semibold svelte-h0bmr6",null,t,i),L(o,a(e).label)},[()=>({active:p(a(e))})]),v(d,l)};F(T,d=>{a(e).children&&a(e).children.length>0?d(j):d(h,!1)})}v(n,c)}),r(I),r(N);var P=w(N,2);q(P,17,()=>a(k),D,(n,e)=>{var c=X(),T=E(c);{var j=h=>{var d=ha();let l;var t=s(d),o=s(t);q(o,21,()=>a(e).children,D,(i,b)=>{var u=_a();let x;var g=s(u,!0);r(u),$(A=>{f(u,"href",a(b).url??"#"),x=y(u,1,"list-group-item list-group-item-action fw-semibold svelte-h0bmr6",null,x,A),L(g,a(b).label)},[()=>({active:p(a(b))})]),v(i,u)}),r(o),r(t),r(d),$((i,b)=>{l=y(d,1,"collapse mt-1",null,l,i),f(d,"id",b)},[()=>({show:p(a(e))}),()=>`${_(a(e).label)}-mobile`]),v(h,d)};F(T,h=>{a(e).children&&a(e).children.length>0&&h(j)})}v(n,c)}),r(U),v(K,G),ea()}var wa=m('<i class="bi bi-sun"></i>'),ka=m('<i class="bi bi-moon"></i>'),Ta=m('<div class="btn-group"><button type="button" class="btn btn-link dropdown-toggle svelte-17g6nza" data-bs-toggle="dropdown" data-bs-display="static" aria-expanded="false" aria-label="User menu"><i class="bi bi-person"></i></button> <ul class="dropdown-menu dropdown-menu-end dropdown-menu-start"><li class="dropdown-item"><div class="d-flex justify-content-start gap-2"><i class="bi bi-person"></i> <div><span class="d-block"> </span> <span class="text-muted fw-lighter small"> </span></div></div></li> <li><hr class="dropdown-divider"/></li> <li><a class="dropdown-item" href="/auth/logout"><span class="d-flex justify-content-start gap-2"><i class="bi bi-box-arrow-in-right"></i> <span>Logout</span></span></a></li></ul></div>'),$a=m('<a class="btn btn-link d-inline" href="/auth/login" aria-label="Log in"><i class="bi bi-box-arrow-in-left"></i></a>'),La=m('<nav class="app-navigation navbar bg-body-tertiary border-bottom border-secondary-subtle border-opacity-25 d-print-none svelte-17g6nza"><div class="container-fluid px-3 px-lg-5"><a href="/home" class="d-flex align-items-center gap-2 text-decoration-none"><img src="/assets/logo.png" alt="logo" class="logo svelte-17g6nza"/> <div class="navbar-brand mb-0 h1">Lehi Tolutaha</div></a> <div class="d-flex"><button class="btn btn-link" type="button" aria-label="Toggle dark mode"><!></button> <button class="btn btn-link d-md-none" type="button" data-bs-toggle="collapse" data-bs-target="#mini-menu" aria-expanded="false" aria-controls="mini-menu" aria-label="Toggle navigation menu"><i class="bi bi-list"></i></button> <!></div></div></nav> <div class="container-fluid collapse mt-md-5 mt-lg-5 px-3" id="mini-menu"><!></div>',1);function Sa(K,O){aa(O,!1);const k=()=>Z(Q,"$darkTheme",C),_=()=>Z(G,"$currentUser",C),[C,p]=na(),{stores:{darkTheme:Q,currentUser:G},actions:{toggleTheme:H}}=va();ia();var B=La(),U=E(B),N=s(U),I=w(s(N),2),P=s(I),n=s(P);{var e=t=>{var o=wa();v(t,o)},c=t=>{var o=ka();v(t,o)};F(n,t=>{k()?t(e):t(c,!1)})}r(P);var T=w(P,4);{var j=t=>{var o=Ta(),i=w(s(o),2),b=s(i),u=s(b),x=w(s(u),2),g=s(x),A=s(g,!0);r(g);var M=w(g,2),R=s(M);r(M),r(x),r(u),r(b),Y(4),r(i),r(o),$(()=>{L(A,_().username),L(R,`@${_().roles[0]??""}`)}),v(t,o)},h=t=>{var o=$a();v(t,o)};F(T,t=>{_().roles&&_().roles.length>0?t(j):t(h,!1)})}r(I),r(N),r(U);var d=w(U,2),l=s(d);ya(l,{}),r(d),oa("click",P,H),v(K,B),ea(),p()}export{Sa as H,ya as N};
