import{S as Ae,i as Se,s as Ve,d as _,e as j,t as T,a as V,H as P,G as H,m as R,h as N,n as z,l as O,W as q,q as X,p as L,A as le,B as Te,v as b,f as m,j as k,k as $,x as ne,o as y,C as B,O as oe,r as Z,y as x,z as ee,K as Ke,a0 as Ue,a1 as je}from"./DqXHCDdO.js";import{g as Ce,A as Oe,a as Le,e as ue,b as Pe,c as He,E as Re,d as ae}from"./Bk4bEeN5.js";import{e as J,u as ie,o as ce}from"./CT_EUCFH.js";import"./IHki7fMi.js";import{g as Fe,F as We}from"./DZ3H5uu7.js";import{d as ze}from"./D2VCS5L_.js";import{S as Be}from"./2aw1axux.js";import{D as Ge,v as qe}from"./CGP5gW96.js";import{p as re,s as de,f as U}from"./CRY_a0am.js";const{Map:fe}=He;function _e(c,e,l){const t=c.slice();return t[17]=e[l],t}function me(c,e,l){const t=c.slice();return t[20]=e[l],t}function he(c,e,l){const t=c.slice();return t[23]=e[l],t}function Xe(c){let e,l;return e=new Oe({props:{eventItem:c[3],drawerId:c[0],name:"event-item-form"}}),{c(){X(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,n){const o={};n&8&&(o.eventItem=t[3]),n&1&&(o.drawerId=t[0]),e.$set(o)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function Je(c){let e,l,t;return l=new Be({}),{c(){e=y("div"),X(l.$$.fragment),this.h()},l(n){e=k(n,"DIV",{class:!0});var o=$(e);z(l.$$.fragment,o),o.forEach(_),this.h()},h(){m(e,"class","d-flex flex-column gap-4")},m(n,o){N(n,e,o),R(l,e,null),t=!0},p:B,i(n){t||(V(l.$$.fragment,n),t=!0)},o(n){T(l.$$.fragment,n),t=!1},d(n){n&&_(e),j(l)}}}function Qe(c){let e,l,t,n,o="Events",r,a,s,f,i,u,p,h;s=new Le({});let d=c[1]&&pe(c);const D=[Ze,Ye],I=[];function w(g,A){return g[5]?.length?0:1}return u=w(c),p=I[u]=D[u](c),{c(){e=y("div"),l=y("div"),t=y("div"),n=y("span"),n.textContent=o,r=L(),a=y("div"),X(s.$$.fragment),f=L(),d&&d.c(),i=L(),p.c(),this.h()},l(g){e=k(g,"DIV",{class:!0});var A=$(e);l=k(A,"DIV",{class:!0});var v=$(l);t=k(v,"DIV",{class:!0});var E=$(t);n=k(E,"SPAN",{"data-svelte-h":!0}),ne(n)!=="svelte-1s343wn"&&(n.textContent=o),r=O(E),a=k(E,"DIV",{class:!0});var M=$(a);z(s.$$.fragment,M),f=O(M),d&&d.l(M),M.forEach(_),E.forEach(_),v.forEach(_),i=O(A),p.l(A),A.forEach(_),this.h()},h(){m(a,"class","d-flex align-items-center gap-2 flex-wrap justify-content-end"),m(t,"class","d-flex justify-content-between align-items-center gap-3 flex-wrap"),m(l,"class","card-header"),m(e,"class","card")},m(g,A){N(g,e,A),b(e,l),b(l,t),b(t,n),b(t,r),b(t,a),R(s,a,null),b(a,f),d&&d.m(a,null),b(e,i),I[u].m(e,null),h=!0},p(g,A){g[1]?d?d.p(g,A):(d=pe(g),d.c(),d.m(a,null)):d&&(d.d(1),d=null);let v=u;u=w(g),u===v?I[u].p(g,A):(P(),T(I[v],1,1,()=>{I[v]=null}),H(),p=I[u],p?p.p(g,A):(p=I[u]=D[u](g),p.c()),V(p,1),p.m(e,null))},i(g){h||(V(s.$$.fragment,g),V(p),h=!0)},o(g){T(s.$$.fragment,g),T(p),h=!1},d(g){g&&_(e),j(s),d&&d.d(),I[u].d()}}}function pe(c){let e,l,t,n,o;return{c(){e=y("button"),l=y("i"),this.h()},l(r){e=k(r,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var a=$(e);l=k(a,"I",{class:!0}),$(l).forEach(_),a.forEach(_),this.h()},h(){m(l,"class","bi bi-plus"),m(e,"class","btn btn-sm btn-primary"),m(e,"type","button"),m(e,"data-bs-toggle","offcanvas"),m(e,"data-bs-target",t="#"+c[0]),m(e,"aria-controls",c[0])},m(r,a){N(r,e,a),b(e,l),n||(o=oe(e,"click",c[12]),n=!0)},p(r,a){a&1&&t!==(t="#"+r[0])&&m(e,"data-bs-target",t),a&1&&m(e,"aria-controls",r[0])},d(r){r&&_(e),n=!1,o()}}}function Ye(c){let e,l="There are no upcoming events scheduled.";return{c(){e=y("div"),e.textContent=l,this.h()},l(t){e=k(t,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-2uetp5"&&(e.textContent=l),this.h()},h(){m(e,"class","card-body text-muted small")},m(t,n){N(t,e,n)},p:B,i:B,o:B,d(t){t&&_(e)}}}function Ze(c){let e,l,t,n;const o=[et,xe],r=[];function a(s,f){return s[6].length?0:1}return e=a(c),l=r[e]=o[e](c),{c(){l.c(),t=q()},l(s){l.l(s),t=q()},m(s,f){r[e].m(s,f),N(s,t,f),n=!0},p(s,f){let i=e;e=a(s),e===i?r[e].p(s,f):(P(),T(r[i],1,1,()=>{r[i]=null}),H(),l=r[e],l?l.p(s,f):(l=r[e]=o[e](s),l.c()),V(l,1),l.m(t.parentNode,t))},i(s){n||(V(l),n=!0)},o(s){T(l),n=!1},d(s){s&&_(t),r[e].d(s)}}}function xe(c){let e,l="There are no upcoming events this month.";return{c(){e=y("div"),e.textContent=l,this.h()},l(t){e=k(t,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1wqkfly"&&(e.textContent=l),this.h()},h(){m(e,"class","card-body text-muted small")},m(t,n){N(t,e,n)},p:B,i:B,o:B,d(t){t&&_(e)}}}function et(c){let e,l=[],t=new fe,n,o=J(c[6]);const r=a=>a[17].key;for(let a=0;a<o.length;a+=1){let s=_e(c,o,a),f=r(s);t.set(f,l[a]=ke(f,s))}return{c(){e=y("ul");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=k(a,"UL",{class:!0});var s=$(e);for(let f=0;f<l.length;f+=1)l[f].l(s);s.forEach(_),this.h()},h(){m(e,"class","list-group list-group-flush border-top-0")},m(a,s){N(a,e,s);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(e,null);n=!0},p(a,s){s&2115&&(o=J(a[6]),P(),l=ie(l,s,r,1,a,o,t,e,ce,ke,null,_e),H())},i(a){if(!n){for(let s=0;s<o.length;s+=1)V(l[s]);n=!0}},o(a){for(let s=0;s<l.length;s+=1)T(l[s]);n=!1},d(a){a&&_(e);for(let s=0;s<l.length;s+=1)l[s].d()}}}function tt(c){let e,l="No events scheduled this week.";return{c(){e=y("li"),e.textContent=l,this.h()},l(t){e=k(t,"LI",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1tq6asq"&&(e.textContent=l),this.h()},h(){m(e,"class","list-group-item py-3 text-muted")},m(t,n){N(t,e,n)},p:B,i:B,o:B,d(t){t&&_(e)}}}function lt(c){let e=[],l=new fe,t,n,o=J(c[17].days);const r=a=>a[20].key;for(let a=0;a<o.length;a+=1){let s=me(c,o,a),f=r(s);l.set(f,e[a]=be(f,s))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=q()},l(a){for(let s=0;s<e.length;s+=1)e[s].l(a);t=q()},m(a,s){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(a,s);N(a,t,s),n=!0},p(a,s){s&2115&&(o=J(a[17].days),P(),e=ie(e,s,r,1,a,o,l,t.parentNode,ce,be,t,me),H())},i(a){if(!n){for(let s=0;s<o.length;s+=1)V(e[s]);n=!0}},o(a){for(let s=0;s<e.length;s+=1)T(e[s]);n=!1},d(a){a&&_(t);for(let s=0;s<e.length;s+=1)e[s].d(a)}}}function ve(c){let e,l,t,n,o,r;function a(){return c[13](c[23])}return{c(){e=y("div"),l=y("button"),t=y("i"),this.h()},l(s){e=k(s,"DIV",{class:!0});var f=$(e);l=k(f,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var i=$(l);t=k(i,"I",{class:!0}),$(t).forEach(_),i.forEach(_),f.forEach(_),this.h()},h(){m(t,"class","bi bi-pencil-square"),m(l,"class","btn btn-sm btn-primary"),m(l,"type","button"),m(l,"data-bs-toggle","offcanvas"),m(l,"data-bs-target",n="#"+c[0]),m(l,"aria-controls",c[0]),m(e,"class","event-actions svelte-kxknx")},m(s,f){N(s,e,f),b(e,l),b(l,t),o||(r=oe(l,"click",a),o=!0)},p(s,f){c=s,f&1&&n!==(n="#"+c[0])&&m(l,"data-bs-target",n),f&1&&m(l,"aria-controls",c[0])},d(s){s&&_(e),o=!1,r()}}}function ge(c,e){let l,t,n,o,r,a;n=new Re({props:{item:e[23],showDate:!1}});let s=e[1]&&ve(e);return{key:c,first:null,c(){l=y("div"),t=y("div"),X(n.$$.fragment),o=L(),s&&s.c(),r=L(),this.h()},l(f){l=k(f,"DIV",{class:!0});var i=$(l);t=k(i,"DIV",{class:!0});var u=$(t);z(n.$$.fragment,u),u.forEach(_),o=O(i),s&&s.l(i),r=O(i),i.forEach(_),this.h()},h(){m(t,"class","event-content svelte-kxknx"),m(l,"class","daily-event-row svelte-kxknx"),this.first=l},m(f,i){N(f,l,i),b(l,t),R(n,t,null),b(l,o),s&&s.m(l,null),b(l,r),a=!0},p(f,i){e=f;const u={};i&64&&(u.item=e[23]),n.$set(u),e[1]?s?s.p(e,i):(s=ve(e),s.c(),s.m(l,r)):s&&(s.d(1),s=null)},i(f){a||(V(n.$$.fragment,f),a=!0)},o(f){T(n.$$.fragment,f),a=!1},d(f){f&&_(l),j(n),s&&s.d()}}}function be(c,e){let l,t,n,o,r=e[20].displayDay+"",a,s,f,i=e[20].displayDate+"",u,p,h,d=[],D=new fe,I,w,g=J(e[20].events);const A=v=>v[23].id??v[23].start_time;for(let v=0;v<g.length;v+=1){let E=he(e,g,v),M=A(E);D.set(M,d[v]=ge(M,E))}return{key:c,first:null,c(){l=y("li"),t=y("div"),n=y("div"),o=y("strong"),a=ee(r),s=L(),f=y("small"),u=ee(i),p=L(),h=y("div");for(let v=0;v<d.length;v+=1)d[v].c();I=L(),this.h()},l(v){l=k(v,"LI",{class:!0});var E=$(l);t=k(E,"DIV",{class:!0});var M=$(t);n=k(M,"DIV",{class:!0});var G=$(n);o=k(G,"STRONG",{});var C=$(o);a=x(C,r),C.forEach(_),s=O(G),f=k(G,"SMALL",{class:!0});var S=$(f);u=x(S,i),S.forEach(_),G.forEach(_),p=O(M),h=k(M,"DIV",{class:!0});var W=$(h);for(let F=0;F<d.length;F+=1)d[F].l(W);W.forEach(_),M.forEach(_),I=O(E),E.forEach(_),this.h()},h(){m(f,"class","text-muted"),m(n,"class","event-date-column d-flex flex-column align-items-start text-nowrap svelte-kxknx"),m(h,"class","d-flex flex-column gap-3 flex-grow-1"),m(t,"class","d-flex flex-column flex-md-row gap-3"),m(l,"class","list-group-item py-3"),this.first=l},m(v,E){N(v,l,E),b(l,t),b(t,n),b(n,o),b(o,a),b(n,s),b(n,f),b(f,u),b(t,p),b(t,h);for(let M=0;M<d.length;M+=1)d[M]&&d[M].m(h,null);b(l,I),w=!0},p(v,E){e=v,(!w||E&64)&&r!==(r=e[20].displayDay+"")&&Z(a,r),(!w||E&64)&&i!==(i=e[20].displayDate+"")&&Z(u,i),E&2115&&(g=J(e[20].events),P(),d=ie(d,E,A,1,e,g,D,h,ce,ge,null,he),H())},i(v){if(!w){for(let E=0;E<g.length;E+=1)V(d[E]);w=!0}},o(v){for(let E=0;E<d.length;E+=1)T(d[E]);w=!1},d(v){v&&_(l);for(let E=0;E<d.length;E+=1)d[E].d()}}}function ke(c,e){let l,t=e[17].label+"",n,o,r,a,s,f;const i=[lt,tt],u=[];function p(h,d){return h[17].days.length?0:1}return r=p(e),a=u[r]=i[r](e),{key:c,first:null,c(){l=y("li"),n=ee(t),o=L(),a.c(),s=q(),this.h()},l(h){l=k(h,"LI",{class:!0});var d=$(l);n=x(d,t),d.forEach(_),o=O(h),a.l(h),s=q(),this.h()},h(){m(l,"class","list-group-item list-group-item-light text-uppercase small fw-semibold"),this.first=l},m(h,d){N(h,l,d),b(l,n),N(h,o,d),u[r].m(h,d),N(h,s,d),f=!0},p(h,d){e=h,(!f||d&64)&&t!==(t=e[17].label+"")&&Z(n,t);let D=r;r=p(e),r===D?u[r].p(e,d):(P(),T(u[D],1,1,()=>{u[D]=null}),H(),a=u[r],a?a.p(e,d):(a=u[r]=i[r](e),a.c()),V(a,1),a.m(s.parentNode,s))},i(h){f||(V(a),f=!0)},o(h){T(a),f=!1},d(h){h&&(_(l),_(o),_(s)),u[r].d(h)}}}function nt(c){let e,l,t,n,o,r;e=new Ge({props:{title:c[2],id:c[0],$$slots:{default:[Xe]},$$scope:{ctx:c}}});const a=[Qe,Je],s=[];function f(i,u){return i[4]?0:1}return t=f(c),n=s[t]=a[t](c),{c(){X(e.$$.fragment),l=L(),n.c(),o=q()},l(i){z(e.$$.fragment,i),l=O(i),n.l(i),o=q()},m(i,u){R(e,i,u),N(i,l,u),s[t].m(i,u),N(i,o,u),r=!0},p(i,[u]){const p={};u&4&&(p.title=i[2]),u&1&&(p.id=i[0]),u&67108873&&(p.$$scope={dirty:u,ctx:i}),e.$set(p);let h=t;t=f(i),t===h?s[t].p(i,u):(P(),T(s[h],1,1,()=>{s[h]=null}),H(),n=s[t],n?n.p(i,u):(n=s[t]=a[t](i),n.c()),V(n,1),n.m(o.parentNode,o))},i(i){r||(V(e.$$.fragment,i),V(n),r=!0)},o(i){T(e.$$.fragment,i),T(n),r=!1},d(i){i&&(_(l),_(o)),j(e,i),s[t].d(i)}}}function st(c,e,l){let t,n,o;const{actions:{featureIsEnabled:r}}=Fe(),{stores:{ready:a,calendarEvents:s},actions:{reload:f}}=Ce();le(c,a,v=>l(4,t=v)),le(c,s,v=>l(5,n=v));const i={title:"Event",description:"",location:"",event_type:"calendar_event"};let{formId:u=qe()}=e,p=!1,h="",d={...i};const D=v=>{const E=new Map;for(const C of v){if(!C.start_time)continue;const S=re(C.start_time);if(Number.isNaN(S.getTime()))continue;const W=de(S,{weekStartsOn:1}),F=ue(S,{weekStartsOn:1}),K=U(W,"yyyy-MM-dd"),Q=`${U(W,"EEE MMM d")} – ${U(F,"EEE MMM d, yyyy")}`;let Y=E.get(K);Y||(Y={key:K,label:Q,days:new Map},E.set(K,Y));const te=U(S,"yyyy-MM-dd");let se=Y.days.get(te);se||(se={key:te,displayDay:U(S,"EEE"),displayDate:U(S,"MMM d"),events:[]},Y.days.set(te,se)),se.events.push(C)}const M=C=>{const S=U(C,"yyyy-MM-dd");E.has(S)||E.set(S,{key:S,label:`${U(C,"EEE MMM d")} – ${U(ue(C,{weekStartsOn:1}),"EEE MMM d, yyyy")}`,days:new Map})},G=Array.from(E.values());if(G.length){const C=G.reduce((K,Q)=>Q.key>K?Q.key:K,G[0].key),S=re(C);let F=de(new Date,{weekStartsOn:1});if(F>S)M(F);else for(;F<=S;)M(F),F=Pe(F,1)}return Array.from(E.values()).sort((C,S)=>C.key<S.key?-1:C.key>S.key?1:0).map(C=>({key:C.key,label:C.label,days:Array.from(C.days.values()).sort((S,W)=>S.key<W.key?-1:S.key>W.key?1:0).map(S=>({...S,events:S.events.slice().sort((W,F)=>{const K=W.is_all_day?0:1,Q=F.is_all_day?0:1;if(K!==Q)return K-Q;const Y=W.start_time?re(W.start_time).getTime():Number.MAX_SAFE_INTEGER,te=F.start_time?re(F.start_time).getTime():Number.MAX_SAFE_INTEGER;return Y-te})}))}))},I=ze(s,v=>D(v??[]));le(c,I,v=>l(6,o=v)),Te(async()=>{l(1,p=r(We.EditDBCalendarEvent)),await f()});const w=v=>{l(2,h="Item Form"),l(3,d={...v,category:v?.meta_data?.category})},g=()=>w({...i,event_type:"calendar_event",start_time:new Date().toISOString(),end_time:new Date().toISOString(),is_all_day:!0}),A=v=>w(v);return c.$$set=v=>{"formId"in v&&l(0,u=v.formId)},[u,p,h,d,t,n,o,a,s,i,I,w,g,A]}class bt extends Ae{constructor(e){super(),Se(this,e,st,nt,Ve,{formId:0})}}function ye(c,e,l){const t=c.slice();return t[14]=e[l],t}function at(c){let e,l;return e=new Oe({props:{eventItem:c[2],drawerId:c[8],name:"announcement-item-form"}}),{c(){X(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,n){const o={};n&4&&(o.eventItem=t[2]),e.$set(o)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function rt(c){let e,l,t;return l=new Be({}),{c(){e=y("div"),X(l.$$.fragment),this.h()},l(n){e=k(n,"DIV",{class:!0});var o=$(e);z(l.$$.fragment,o),o.forEach(_),this.h()},h(){m(e,"class","d-flex flex-column gap-4")},m(n,o){N(n,e,o),R(l,e,null),t=!0},p:B,i(n){t||(V(l.$$.fragment,n),t=!0)},o(n){T(l.$$.fragment,n),t=!1},d(n){n&&_(e),j(l)}}}function ot(c){let e,l,t,n,o="Announcements",r,a,s,f,i=c[0]&&Ee(c),u=c[4]?.length&&$e(c);return{c(){e=y("div"),l=y("div"),t=y("div"),n=y("span"),n.textContent=o,r=L(),a=y("div"),i&&i.c(),s=L(),u&&u.c(),this.h()},l(p){e=k(p,"DIV",{class:!0});var h=$(e);l=k(h,"DIV",{class:!0});var d=$(l);t=k(d,"DIV",{class:!0});var D=$(t);n=k(D,"SPAN",{"data-svelte-h":!0}),ne(n)!=="svelte-iczcm2"&&(n.textContent=o),r=O(D),a=k(D,"DIV",{class:!0});var I=$(a);i&&i.l(I),I.forEach(_),D.forEach(_),d.forEach(_),s=O(h),u&&u.l(h),h.forEach(_),this.h()},h(){m(a,"class","d-flex align-items-center gap-2"),m(t,"class","d-flex justify-content-between align-items-center"),m(l,"class","card-header"),m(e,"class","card")},m(p,h){N(p,e,h),b(e,l),b(l,t),b(t,n),b(t,r),b(t,a),i&&i.m(a,null),b(e,s),u&&u.m(e,null),f=!0},p(p,h){p[0]?i?(i.p(p,h),h&1&&V(i,1)):(i=Ee(p),i.c(),V(i,1),i.m(a,null)):i&&(P(),T(i,1,1,()=>{i=null}),H()),p[4]?.length?u?u.p(p,h):(u=$e(p),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(p){f||(V(i),f=!0)},o(p){T(i),f=!1},d(p){p&&_(e),i&&i.d(),u&&u.d()}}}function Ee(c){let e,l,t,n,o,r,a;return e=new Le({}),{c(){X(e.$$.fragment),l=L(),t=y("button"),n=y("i"),this.h()},l(s){z(e.$$.fragment,s),l=O(s),t=k(s,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var f=$(t);n=k(f,"I",{class:!0}),$(n).forEach(_),f.forEach(_),this.h()},h(){m(n,"class","bi bi-plus"),m(t,"class","btn btn-sm btn-primary"),m(t,"type","button"),m(t,"data-bs-toggle","offcanvas"),m(t,"data-bs-target","#"+c[8]),m(t,"aria-controls",c[8])},m(s,f){R(e,s,f),N(s,l,f),N(s,t,f),b(t,n),o=!0,r||(a=oe(t,"click",c[10]),r=!0)},p:B,i(s){o||(V(e.$$.fragment,s),o=!0)},o(s){T(e.$$.fragment,s),o=!1},d(s){s&&(_(l),_(t)),j(e,s),r=!1,a()}}}function $e(c){let e,l=J(c[4]),t=[];for(let n=0;n<l.length;n+=1)t[n]=Ne(ye(c,l,n));return{c(){e=y("ul");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=k(n,"UL",{class:!0});var o=$(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(_),this.h()},h(){m(e,"class","list-group list-group-flush border-top-0")},m(n,o){N(n,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(n,o){if(o&785){l=J(n[4]);let r;for(r=0;r<l.length;r+=1){const a=ye(n,l,r);t[r]?t[r].p(a,o):(t[r]=Ne(a),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},d(n){n&&_(e),Ke(t,n)}}}function we(c){let e,l,t=ae(c[14]?.meta_data?.category)?.label+"",n,o;return{c(){e=y("div"),l=y("span"),n=ee(t),this.h()},l(r){e=k(r,"DIV",{class:!0});var a=$(e);l=k(a,"SPAN",{class:!0});var s=$(l);n=x(s,t),s.forEach(_),a.forEach(_),this.h()},h(){m(l,"class",o="badge rounded-pill bg-color-"+ae(c[14]?.meta_data?.category)?.color_number),m(e,"class","d-block")},m(r,a){N(r,e,a),b(e,l),b(l,n)},p(r,a){a&16&&t!==(t=ae(r[14]?.meta_data?.category)?.label+"")&&Z(n,t),a&16&&o!==(o="badge rounded-pill bg-color-"+ae(r[14]?.meta_data?.category)?.color_number)&&m(l,"class",o)},d(r){r&&_(e)}}}function Ie(c){let e,l,t=c[14].description+"";return{c(){e=y("span"),l=new je(!1),this.h()},l(n){e=k(n,"SPAN",{class:!0});var o=$(e);l=Ue(o,!1),o.forEach(_),this.h()},h(){l.a=null,m(e,"class","d-block small")},m(n,o){N(n,e,o),l.m(t,e)},p(n,o){o&16&&t!==(t=n[14].description+"")&&l.p(t)},d(n){n&&_(e)}}}function De(c){let e,l=c[14].location+"",t;return{c(){e=y("em"),t=ee(l),this.h()},l(n){e=k(n,"EM",{class:!0});var o=$(e);t=x(o,l),o.forEach(_),this.h()},h(){m(e,"class","d-block small fw-lighter")},m(n,o){N(n,e,o),b(e,t)},p(n,o){o&16&&l!==(l=n[14].location+"")&&Z(t,l)},d(n){n&&_(e)}}}function Me(c){let e,l,t,n;function o(){return c[11](c[14])}return{c(){e=y("button"),l=y("i"),this.h()},l(r){e=k(r,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var a=$(e);l=k(a,"I",{class:!0}),$(l).forEach(_),a.forEach(_),this.h()},h(){m(l,"class","bi bi-pencil-square"),m(e,"class","btn btn-sm btn-primary"),m(e,"type","button"),m(e,"data-bs-toggle","offcanvas"),m(e,"data-bs-target","#"+c[8]),m(e,"aria-controls",c[8])},m(r,a){N(r,e,a),b(e,l),t||(n=oe(e,"click",o),t=!0)},p(r,a){c=r},d(r){r&&_(e),t=!1,n()}}}function Ne(c){let e,l,t,n,o,r=c[14].title+"",a,s,f,i,u,p,h,d=c[14]?.meta_data?.category&&we(c),D=c[14].description&&Ie(c),I=c[14].location&&De(c),w=c[0]&&Me(c);return{c(){e=y("li"),l=y("div"),t=y("div"),n=y("div"),o=y("div"),a=ee(r),s=L(),d&&d.c(),f=L(),D&&D.c(),i=L(),I&&I.c(),u=L(),p=y("div"),w&&w.c(),h=L(),this.h()},l(g){e=k(g,"LI",{class:!0});var A=$(e);l=k(A,"DIV",{class:!0});var v=$(l);t=k(v,"DIV",{class:!0});var E=$(t);n=k(E,"DIV",{class:!0});var M=$(n);o=k(M,"DIV",{class:!0});var G=$(o);a=x(G,r),G.forEach(_),s=O(M),d&&d.l(M),f=O(M),D&&D.l(M),i=O(M),I&&I.l(M),M.forEach(_),E.forEach(_),u=O(v),p=k(v,"DIV",{});var C=$(p);w&&w.l(C),C.forEach(_),v.forEach(_),h=O(A),A.forEach(_),this.h()},h(){m(o,"class","fw-bold"),m(n,"class","d-flex flex-column gap-1"),m(t,"class","d-flex flex-sm-column flex-md-row flex-xl-row flex-lg-row gap-3"),m(l,"class","d-flex justify-content-between"),m(e,"class","list-group-item py-2")},m(g,A){N(g,e,A),b(e,l),b(l,t),b(t,n),b(n,o),b(o,a),b(n,s),d&&d.m(n,null),b(n,f),D&&D.m(n,null),b(n,i),I&&I.m(n,null),b(l,u),b(l,p),w&&w.m(p,null),b(e,h)},p(g,A){A&16&&r!==(r=g[14].title+"")&&Z(a,r),g[14]?.meta_data?.category?d?d.p(g,A):(d=we(g),d.c(),d.m(n,f)):d&&(d.d(1),d=null),g[14].description?D?D.p(g,A):(D=Ie(g),D.c(),D.m(n,i)):D&&(D.d(1),D=null),g[14].location?I?I.p(g,A):(I=De(g),I.c(),I.m(n,null)):I&&(I.d(1),I=null),g[0]?w?w.p(g,A):(w=Me(g),w.c(),w.m(p,null)):w&&(w.d(1),w=null)},d(g){g&&_(e),d&&d.d(),D&&D.d(),I&&I.d(),w&&w.d()}}}function it(c){let e,l,t,n,o,r;e=new Ge({props:{title:c[1],id:c[8],$$slots:{default:[at]},$$scope:{ctx:c}}});const a=[ot,rt],s=[];function f(i,u){return i[3]?0:1}return t=f(c),n=s[t]=a[t](c),{c(){X(e.$$.fragment),l=L(),n.c(),o=q()},l(i){z(e.$$.fragment,i),l=O(i),n.l(i),o=q()},m(i,u){R(e,i,u),N(i,l,u),s[t].m(i,u),N(i,o,u),r=!0},p(i,[u]){const p={};u&2&&(p.title=i[1]),u&131076&&(p.$$scope={dirty:u,ctx:i}),e.$set(p);let h=t;t=f(i),t===h?s[t].p(i,u):(P(),T(s[h],1,1,()=>{s[h]=null}),H(),n=s[t],n?n.p(i,u):(n=s[t]=a[t](i),n.c()),V(n,1),n.m(o.parentNode,o))},i(i){r||(V(e.$$.fragment,i),V(n),r=!0)},o(i){T(e.$$.fragment,i),T(n),r=!1},d(i){i&&(_(l),_(o)),j(e,i),s[t].d(i)}}}function ct(c,e,l){let t,n;const{actions:{featureIsEnabled:o}}=Fe(),{stores:{ready:r,announcements:a},actions:{reload:s}}=Ce();le(c,r,w=>l(3,t=w)),le(c,a,w=>l(4,n=w));const f={title:"Announcement",description:"",location:"",event_type:"announcement"},i=qe();let u=!1,p="",h={...f};Te(async()=>{l(0,u=o(We.EditDBCalendarEvent)),await s()});const d=w=>{l(1,p="Announcement Form"),l(2,h={...w,category:w?.meta_data?.category})};return[u,p,h,t,n,r,a,f,i,d,()=>d({...f,event_type:"calendar_event",start_time:new Date().toISOString(),end_time:new Date().toISOString(),is_all_day:!0}),w=>d(w)]}class kt extends Ae{constructor(e){super(),Se(this,e,ct,it,Ve,{})}}export{kt as A,bt as E};
