const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Df3HDXjM.js","./C5twpB8P.js","./BVU-SBqd.js","./IHki7fMi.js","./BNNq8oat.js","./DzDB5CMn.js","../assets/Header.4U83PhvS.css","./1t9PYzFY.js","./Bnt-d026.js","./CmsKOCeN.js","./CDcZWSVK.js","../assets/Spinner.CRM6NlOF.css","./CgPuVtgq.js","./I3k67RAl.js","../assets/feature-flag.CtYGqHat.css","../assets/AnnouncementWidgetItem.B_eehTgS.css"])))=>i.map(i=>d[i]);
import{_ as ft}from"./CmsKOCeN.js";import{S as Qe,i as Ye,s as Ze,d as h,e as se,t as C,a as S,H as Q,G as Y,m as re,h as M,n as ae,l as V,W as K,q as oe,p as L,A as ke,B as xe,v,f as p,j as b,k as I,x as le,o as g,C as P,O as ue,r as te,y as j,z as U,I as $e,E as ut,K as _t}from"./C5twpB8P.js";import{g as et,s as dt,e as Ce,f as Me,A as tt,a as lt,b as mt,E as ht,c as pt}from"./Df3HDXjM.js";import{e as ne,u as De,o as Se}from"./BVU-SBqd.js";import"./IHki7fMi.js";import{g as nt,F as st}from"./I3k67RAl.js";import{S as rt}from"./CDcZWSVK.js";import{D as at,v as ot}from"./CgPuVtgq.js";import{s as be,b as Ne,m as vt,t as bt,p as me,f as J}from"./BNNq8oat.js";function gt(f,e,t){const l=be(f,t),r=be(e,t),i=+l-Ne(l),c=+r-Ne(r);return Math.round((i-c)/vt)}function kt(f){const e=bt(f);return e.setDate(1),e.setHours(0,0,0,0),e}const{Map:Te}=mt;function Ae(f,e,t){const l=f.slice();return l[36]=e[t][0],l[37]=e[t][1],l}function Oe(f,e,t){const l=f.slice();l[40]=e[t];const r=me(l[40].key);l[41]=r;const i=Me(l[41],{weekStartsOn:1});l[42]=i;const c=kt(l[42]);l[43]=c;const o=gt(l[42],l[43],{weekStartsOn:1})+1;l[44]=o;const n=l[11](l[40].key);l[45]=n;const s=l[40].days.reduce((a,u)=>a+u.events.length,0);return l[46]=s,l}function Ve(f,e,t){const l=f.slice();return l[49]=e[t],l}function Le(f,e,t){const l=f.slice();return l[52]=e[t],l}function yt(f){let e,t;return e=new tt({props:{eventItem:f[7],drawerId:f[0],name:"event-item-form"}}),{c(){oe(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){re(e,l,r),t=!0},p(l,r){const i={};r[0]&128&&(i.eventItem=l[7]),r[0]&1&&(i.drawerId=l[0]),e.$set(i)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function Et(f){let e,t,l;return t=new rt({}),{c(){e=g("div"),oe(t.$$.fragment),this.h()},l(r){e=b(r,"DIV",{class:!0});var i=I(e);ae(t.$$.fragment,i),i.forEach(h),this.h()},h(){p(e,"class","d-flex flex-column gap-4")},m(r,i){M(r,e,i),re(t,e,null),l=!0},p:P,i(r){l||(S(t.$$.fragment,r),l=!0)},o(r){C(t.$$.fragment,r),l=!1},d(r){r&&h(e),se(t)}}}function wt(f){let e,t,l,r,i="Events",c,o,n,s,a,u,_,m;n=new lt({});let d=f[5]&&We(f);const D=[$t,It],k=[];function T($,N){return $[4]?.length?0:1}return u=T(f),_=k[u]=D[u](f),{c(){e=g("div"),t=g("div"),l=g("div"),r=g("span"),r.textContent=i,c=L(),o=g("div"),oe(n.$$.fragment),s=L(),d&&d.c(),a=L(),_.c(),this.h()},l($){e=b($,"DIV",{class:!0});var N=I(e);t=b(N,"DIV",{class:!0});var E=I(t);l=b(E,"DIV",{class:!0});var y=I(l);r=b(y,"SPAN",{"data-svelte-h":!0}),le(r)!=="svelte-1s343wn"&&(r.textContent=i),c=V(y),o=b(y,"DIV",{class:!0});var A=I(o);ae(n.$$.fragment,A),s=V(A),d&&d.l(A),A.forEach(h),y.forEach(h),E.forEach(h),a=V(N),_.l(N),N.forEach(h),this.h()},h(){p(o,"class","d-flex align-items-center gap-2 flex-wrap justify-content-end"),p(l,"class","d-flex justify-content-between align-items-center gap-3 flex-wrap"),p(t,"class","card-header"),p(e,"class","card")},m($,N){M($,e,N),v(e,t),v(t,l),v(l,r),v(l,c),v(l,o),re(n,o,null),v(o,s),d&&d.m(o,null),v(e,a),k[u].m(e,null),m=!0},p($,N){$[5]?d?d.p($,N):(d=We($),d.c(),d.m(o,null)):d&&(d.d(1),d=null);let E=u;u=T($),u===E?k[u].p($,N):(Q(),C(k[E],1,1,()=>{k[E]=null}),Y(),_=k[u],_?_.p($,N):(_=k[u]=D[u]($),_.c()),S(_,1),_.m(e,null))},i($){m||(S(n.$$.fragment,$),S(_),m=!0)},o($){C(n.$$.fragment,$),C(_),m=!1},d($){$&&h(e),se(n),d&&d.d(),k[u].d()}}}function We(f){let e,t,l,r,i;return{c(){e=g("button"),t=g("i"),this.h()},l(c){e=b(c,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var o=I(e);t=b(o,"I",{class:!0}),I(t).forEach(h),o.forEach(h),this.h()},h(){p(t,"class","bi bi-plus"),p(e,"class","btn btn-sm btn-primary"),p(e,"type","button"),p(e,"data-bs-toggle","offcanvas"),p(e,"data-bs-target",l="#"+f[0]),p(e,"aria-controls",f[0])},m(c,o){M(c,e,o),v(e,t),r||(i=ue(e,"click",f[26]),r=!0)},p(c,o){o[0]&1&&l!==(l="#"+c[0])&&p(e,"data-bs-target",l),o[0]&1&&p(e,"aria-controls",c[0])},d(c){c&&h(e),r=!1,i()}}}function It(f){let e,t="There are no upcoming events scheduled.";return{c(){e=g("div"),e.textContent=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-2uetp5"&&(e.textContent=t),this.h()},h(){p(e,"class","card-body text-muted small")},m(l,r){M(l,e,r)},p:P,i:P,o:P,d(l){l&&h(e)}}}function $t(f){let e,t,l,r,i;const c=[Dt,Mt],o=[];function n(a,u){return a[1].length?0:1}e=n(f),t=o[e]=c[e](f);let s=(f[10]||f[8])&&Ge(f);return{c(){t.c(),l=L(),s&&s.c(),r=K()},l(a){t.l(a),l=V(a),s&&s.l(a),r=K()},m(a,u){o[e].m(a,u),M(a,l,u),s&&s.m(a,u),M(a,r,u),i=!0},p(a,u){let _=e;e=n(a),e===_?o[e].p(a,u):(Q(),C(o[_],1,1,()=>{o[_]=null}),Y(),t=o[e],t?t.p(a,u):(t=o[e]=c[e](a),t.c()),S(t,1),t.m(l.parentNode,l)),a[10]||a[8]?s?s.p(a,u):(s=Ge(a),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},i(a){i||(S(t),i=!0)},o(a){C(t),i=!1},d(a){a&&(h(l),h(r)),o[e].d(a),s&&s.d(a)}}}function Mt(f){let e,t="There are no upcoming events this month.";return{c(){e=g("div"),e.textContent=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-1wqkfly"&&(e.textContent=t),this.h()},h(){p(e,"class","card-body text-muted small")},m(l,r){M(l,e,r)},p:P,i:P,o:P,d(l){l&&h(e)}}}function Dt(f){let e,t=[],l=new Te,r,i=ne(Object.entries(f[9]));const c=o=>o[36];for(let o=0;o<i.length;o+=1){let n=Ae(f,i,o),s=c(n);l.set(s,t[o]=qe(s,n))}return{c(){e=g("ul");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=b(o,"UL",{class:!0});var n=I(e);for(let s=0;s<t.length;s+=1)t[s].l(n);n.forEach(h),this.h()},h(){p(e,"class","list-group list-group-flush border-top-0")},m(o,n){M(o,e,n);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null);r=!0},p(o,n){n[0]&2230817&&(i=ne(Object.entries(o[9])),Q(),t=De(t,n,c,1,o,i,l,e,Se,qe,null,Ae),Y())},i(o){if(!r){for(let n=0;n<i.length;n+=1)S(t[n]);r=!0}},o(o){for(let n=0;n<t.length;n+=1)C(t[n]);r=!1},d(o){o&&h(e);for(let n=0;n<t.length;n+=1)t[n].d()}}}function Be(f){let e,t,l,r;const i=[Tt,St],c=[];function o(n,s){return n[40].days.length?0:1}return e=o(f),t=c[e]=i[e](f),{c(){t.c(),l=K()},l(n){t.l(n),l=K()},m(n,s){c[e].m(n,s),M(n,l,s),r=!0},p(n,s){let a=e;e=o(n),e===a?c[e].p(n,s):(Q(),C(c[a],1,1,()=>{c[a]=null}),Y(),t=c[e],t?t.p(n,s):(t=c[e]=i[e](n),t.c()),S(t,1),t.m(l.parentNode,l))},i(n){r||(S(t),r=!0)},o(n){C(t),r=!1},d(n){n&&h(l),c[e].d(n)}}}function St(f){let e,t="No events scheduled this week.";return{c(){e=g("li"),e.textContent=t,this.h()},l(l){e=b(l,"LI",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-1tq6asq"&&(e.textContent=t),this.h()},h(){p(e,"class","list-group-item py-3 text-muted")},m(l,r){M(l,e,r)},p:P,i:P,o:P,d(l){l&&h(e)}}}function Tt(f){let e=[],t=new Te,l,r,i=ne(f[40].days);const c=o=>o[49].key;for(let o=0;o<i.length;o+=1){let n=Ve(f,i,o),s=c(n);t.set(s,e[o]=Ue(s,n))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();l=K()},l(o){for(let n=0;n<e.length;n+=1)e[n].l(o);l=K()},m(o,n){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(o,n);M(o,l,n),r=!0},p(o,n){n[0]&2097697&&(i=ne(o[40].days),Q(),e=De(e,n,c,1,o,i,t,l.parentNode,Se,Ue,l,Ve),Y())},i(o){if(!r){for(let n=0;n<i.length;n+=1)S(e[n]);r=!0}},o(o){for(let n=0;n<e.length;n+=1)C(e[n]);r=!1},d(o){o&&h(l);for(let n=0;n<e.length;n+=1)e[n].d(o)}}}function Fe(f){let e,t,l,r,i,c;function o(){return f[28](f[52])}return{c(){e=g("div"),t=g("button"),l=g("i"),this.h()},l(n){e=b(n,"DIV",{class:!0});var s=I(e);t=b(s,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var a=I(t);l=b(a,"I",{class:!0}),I(l).forEach(h),a.forEach(h),s.forEach(h),this.h()},h(){p(l,"class","bi bi-pencil-square"),p(t,"class","btn btn-sm btn-primary"),p(t,"type","button"),p(t,"data-bs-toggle","offcanvas"),p(t,"data-bs-target",r="#"+f[0]),p(t,"aria-controls",f[0]),p(e,"class","event-actions svelte-b48x49")},m(n,s){M(n,e,s),v(e,t),v(t,l),i||(c=ue(t,"click",o),i=!0)},p(n,s){f=n,s[0]&1&&r!==(r="#"+f[0])&&p(t,"data-bs-target",r),s[0]&1&&p(t,"aria-controls",f[0])},d(n){n&&h(e),i=!1,c()}}}function je(f,e){let t,l,r,i,c,o;r=new ht({props:{item:e[52],showDate:!1}});let n=e[5]&&Fe(e);return{key:f,first:null,c(){t=g("div"),l=g("div"),oe(r.$$.fragment),i=L(),n&&n.c(),c=L(),this.h()},l(s){t=b(s,"DIV",{class:!0});var a=I(t);l=b(a,"DIV",{class:!0});var u=I(l);ae(r.$$.fragment,u),u.forEach(h),i=V(a),n&&n.l(a),c=V(a),a.forEach(h),this.h()},h(){p(l,"class","event-content svelte-b48x49"),p(t,"class","daily-event-row svelte-b48x49"),this.first=t},m(s,a){M(s,t,a),v(t,l),re(r,l,null),v(t,i),n&&n.m(t,null),v(t,c),o=!0},p(s,a){e=s;const u={};a[0]&512&&(u.item=e[52]),r.$set(u),e[5]?n?n.p(e,a):(n=Fe(e),n.c(),n.m(t,c)):n&&(n.d(1),n=null)},i(s){o||(S(r.$$.fragment,s),o=!0)},o(s){C(r.$$.fragment,s),o=!1},d(s){s&&h(t),se(r),n&&n.d()}}}function Ue(f,e){let t,l,r,i,c=e[49].displayDay+"",o,n,s,a=e[49].displayDate+"",u,_,m,d=[],D=new Te,k,T,$=ne(e[49].events);const N=E=>E[52].id??`${E[52].start_time}-${E[52].meta_data?.recurring_instance_index??0}`;for(let E=0;E<$.length;E+=1){let y=Le(e,$,E),A=N(y);D.set(A,d[E]=je(A,y))}return{key:f,first:null,c(){t=g("li"),l=g("div"),r=g("div"),i=g("strong"),o=U(c),n=L(),s=g("small"),u=U(a),_=L(),m=g("div");for(let E=0;E<d.length;E+=1)d[E].c();k=L(),this.h()},l(E){t=b(E,"LI",{class:!0});var y=I(t);l=b(y,"DIV",{class:!0});var A=I(l);r=b(A,"DIV",{class:!0});var Z=I(r);i=b(Z,"STRONG",{});var ee=I(i);o=j(ee,c),ee.forEach(h),n=V(Z),s=b(Z,"SMALL",{class:!0});var z=I(s);u=j(z,a),z.forEach(h),Z.forEach(h),_=V(A),m=b(A,"DIV",{class:!0});var R=I(m);for(let X=0;X<d.length;X+=1)d[X].l(R);R.forEach(h),A.forEach(h),k=V(y),y.forEach(h),this.h()},h(){p(s,"class","text-muted"),p(r,"class","event-date-column d-flex flex-column align-items-start text-nowrap svelte-b48x49"),p(m,"class","d-flex flex-column gap-3 flex-grow-1"),p(l,"class","d-flex flex-column flex-md-row gap-3"),p(t,"class","list-group-item py-3"),this.first=t},m(E,y){M(E,t,y),v(t,l),v(l,r),v(r,i),v(i,o),v(r,n),v(r,s),v(s,u),v(l,_),v(l,m);for(let A=0;A<d.length;A+=1)d[A]&&d[A].m(m,null);v(t,k),T=!0},p(E,y){e=E,(!T||y[0]&512)&&c!==(c=e[49].displayDay+"")&&te(o,c),(!T||y[0]&512)&&a!==(a=e[49].displayDate+"")&&te(u,a),y[0]&2097697&&($=ne(e[49].events),Q(),d=De(d,y,N,1,e,$,D,m,Se,je,null,Le),Y())},i(E){if(!T){for(let y=0;y<$.length;y+=1)S(d[y]);T=!0}},o(E){for(let y=0;y<d.length;y+=1)C(d[y]);T=!1},d(E){E&&h(t);for(let y=0;y<d.length;y+=1)d[y].d()}}}function Re(f,e){let t,l,r,i,c,o,n,s,a=e[44]+"",u,_,m=e[46]+"",d,D,k=e[46]===1?"":"s",T,$,N,E,y=e[40].label+"",A,Z,ee,z,R,X,ie;function ye(){return e[27](e[40])}let W=e[45]&&Be(e);return{key:f,first:null,c(){t=g("li"),l=g("button"),r=g("span"),i=g("i"),o=L(),n=g("span"),s=U("Week "),u=U(a),_=U(" ["),d=U(m),D=U(" Event"),T=U(k),$=U("]"),N=L(),E=g("span"),A=U(y),ee=L(),W&&W.c(),z=K(),this.h()},l(q){t=b(q,"LI",{class:!0});var F=I(t);l=b(F,"BUTTON",{class:!0,title:!0});var pe=I(l);r=b(pe,"SPAN",{class:!0});var ve=I(r);i=b(ve,"I",{class:!0}),I(i).forEach(h),o=V(ve),n=b(ve,"SPAN",{class:!0});var x=I(n);s=j(x,"Week "),u=j(x,a),_=j(x," ["),d=j(x,m),D=j(x," Event"),T=j(x,k),$=j(x,"]"),x.forEach(h),ve.forEach(h),N=V(pe),E=b(pe,"SPAN",{});var Ee=I(E);A=j(Ee,y),Ee.forEach(h),pe.forEach(h),F.forEach(h),ee=V(q),W&&W.l(q),z=K(),this.h()},h(){p(i,"class",c="bi "+(e[45]?"bi-chevron-up":"bi-chevron-down")),p(n,"class","text-muted"),p(r,"class","d-flex align-items-center gap-2"),$e(E,"opacity-50",e[46]===0),p(l,"class","week-header w-100 d-flex justify-content-between align-items-center border-0 bg-transparent p-2 text-start svelte-b48x49"),p(l,"title",Z=e[45]?"Click to collapse week":"Click to expand week"),$e(l,"text-muted",e[46]===0),p(t,"class","list-group-item list-group-item-light text-uppercase small fw-lighter p-0"),this.first=t},m(q,F){M(q,t,F),v(t,l),v(l,r),v(r,i),v(r,o),v(r,n),v(n,s),v(n,u),v(n,_),v(n,d),v(n,D),v(n,T),v(n,$),v(l,N),v(l,E),v(E,A),M(q,ee,F),W&&W.m(q,F),M(q,z,F),R=!0,X||(ie=ue(l,"click",ye),X=!0)},p(q,F){e=q,(!R||F[0]&2560&&c!==(c="bi "+(e[45]?"bi-chevron-up":"bi-chevron-down")))&&p(i,"class",c),(!R||F[0]&512)&&a!==(a=e[44]+"")&&te(u,a),(!R||F[0]&512)&&m!==(m=e[46]+"")&&te(d,m),(!R||F[0]&512)&&k!==(k=e[46]===1?"":"s")&&te(T,k),(!R||F[0]&512)&&y!==(y=e[40].label+"")&&te(A,y),(!R||F[0]&512)&&$e(E,"opacity-50",e[46]===0),(!R||F[0]&2560&&Z!==(Z=e[45]?"Click to collapse week":"Click to expand week"))&&p(l,"title",Z),(!R||F[0]&512)&&$e(l,"text-muted",e[46]===0),e[45]?W?(W.p(e,F),F[0]&2560&&S(W,1)):(W=Be(e),W.c(),S(W,1),W.m(z.parentNode,z)):W&&(Q(),C(W,1,1,()=>{W=null}),Y())},i(q){R||(S(W),R=!0)},o(q){C(W),R=!1},d(q){q&&(h(t),h(ee),h(z)),W&&W.d(q),X=!1,ie()}}}function qe(f,e){let t,l=e[37].label+"",r,i,c=[],o=new Te,n,s,a=ne(e[37].weeks);const u=_=>_[40].key;for(let _=0;_<a.length;_+=1){let m=Oe(e,a,_),d=u(m);o.set(d,c[_]=Re(d,m))}return{key:f,first:null,c(){t=g("li"),r=U(l),i=L();for(let _=0;_<c.length;_+=1)c[_].c();n=K(),this.h()},l(_){t=b(_,"LI",{class:!0});var m=I(t);r=j(m,l),m.forEach(h),i=V(_);for(let d=0;d<c.length;d+=1)c[d].l(_);n=K(),this.h()},h(){p(t,"class","list-group-item bg-secondary text-white fw-semibold"),this.first=t},m(_,m){M(_,t,m),v(t,r),M(_,i,m);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(_,m);M(_,n,m),s=!0},p(_,m){e=_,(!s||m[0]&512)&&l!==(l=e[37].label+"")&&te(r,l),m[0]&2230817&&(a=ne(e[37].weeks),Q(),c=De(c,m,u,1,e,a,o,n.parentNode,Se,Re,n,Oe),Y())},i(_){if(!s){for(let m=0;m<a.length;m+=1)S(c[m]);s=!0}},o(_){for(let m=0;m<c.length;m+=1)C(c[m]);s=!1},d(_){_&&(h(t),h(i),h(n));for(let m=0;m<c.length;m+=1)c[m].d(_)}}}function Ge(f){let e,t,l,r=f[2].length+"",i,c,o=f[3].length+"",n,s,a;function u(d,D){return d[8]?Nt:Ct}let _=u(f),m=_(f);return{c(){e=g("div"),t=g("small"),l=U("Showing "),i=U(r),c=U(" of "),n=U(o),s=U(" future events"),a=L(),m.c(),this.h()},l(d){e=b(d,"DIV",{class:!0});var D=I(e);t=b(D,"SMALL",{});var k=I(t);l=j(k,"Showing "),i=j(k,r),c=j(k," of "),n=j(k,o),s=j(k," future events"),k.forEach(h),a=V(D),m.l(D),D.forEach(h),this.h()},h(){p(e,"class","card-footer d-flex align-items-center justify-content-between")},m(d,D){M(d,e,D),v(e,t),v(t,l),v(t,i),v(t,c),v(t,n),v(t,s),v(e,a),m.m(e,null)},p(d,D){D[0]&4&&r!==(r=d[2].length+"")&&te(i,r),D[0]&8&&o!==(o=d[3].length+"")&&te(n,o),_===(_=u(d))&&m?m.p(d,D):(m.d(1),m=_(d),m&&(m.c(),m.m(e,null)))},d(d){d&&h(e),m.d()}}}function Ct(f){let e,t,l="More",r,i,c="All",o,n;return{c(){e=g("div"),t=g("button"),t.textContent=l,r=L(),i=g("button"),i.textContent=c,this.h()},l(s){e=b(s,"DIV",{class:!0});var a=I(e);t=b(a,"BUTTON",{class:!0,"data-svelte-h":!0}),le(t)!=="svelte-1p8emoc"&&(t.textContent=l),r=V(a),i=b(a,"BUTTON",{class:!0,"data-svelte-h":!0}),le(i)!=="svelte-nk78by"&&(i.textContent=c),a.forEach(h),this.h()},h(){p(t,"class","btn btn-primary btn-sm"),p(i,"class","btn btn-outline-primary btn-sm"),p(e,"class","d-flex gap-2")},m(s,a){M(s,e,a),v(e,t),v(e,r),v(e,i),o||(n=[ue(t,"click",f[18]),ue(i,"click",f[19])],o=!0)},p:P,d(s){s&&h(e),o=!1,ut(n)}}}function Nt(f){let e,t="Reset",l,r;return{c(){e=g("button"),e.textContent=t,this.h()},l(i){e=b(i,"BUTTON",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-161htn1"&&(e.textContent=t),this.h()},h(){p(e,"class","btn btn-outline-secondary btn-sm")},m(i,c){M(i,e,c),l||(r=ue(e,"click",f[20]),l=!0)},p:P,d(i){i&&h(e),l=!1,r()}}}function At(f){let e,t,l,r,i,c;e=new at({props:{title:f[6],id:f[0],$$slots:{default:[yt]},$$scope:{ctx:f}}});const o=[wt,Et],n=[];function s(a,u){return a[12]?0:1}return l=s(f),r=n[l]=o[l](f),{c(){oe(e.$$.fragment),t=L(),r.c(),i=K()},l(a){ae(e.$$.fragment,a),t=V(a),r.l(a),i=K()},m(a,u){re(e,a,u),M(a,t,u),n[l].m(a,u),M(a,i,u),c=!0},p(a,u){const _={};u[0]&64&&(_.title=a[6]),u[0]&1&&(_.id=a[0]),u[0]&129|u[1]&16777216&&(_.$$scope={dirty:u,ctx:a}),e.$set(_);let m=l;l=s(a),l===m?n[l].p(a,u):(Q(),C(n[m],1,1,()=>{n[m]=null}),Y(),r=n[l],r?r.p(a,u):(r=n[l]=o[l](a),r.c()),S(r,1),r.m(i.parentNode,i))},i(a){c||(S(e.$$.fragment,a),S(r),c=!0)},o(a){C(e.$$.fragment,a),C(r),c=!1},d(a){a&&(h(t),h(i)),se(e,a),n[l].d(a)}}}const Pe=8,Ot=8;function Vt(f,e,t){let l,r,i,c,o,n,s,a,u,_,m,d;const{actions:{featureIsEnabled:D}}=nt(),{stores:{ready:k,calendarEvents:T,weeksExpanded:$},actions:{reload:N}}=et();ke(f,k,w=>t(12,d=w)),ke(f,T,w=>t(4,_=w)),ke(f,$,w=>t(25,m=w));const E={title:"Event",description:"",location:"",event_type:"calendar_event"};let{formId:y=ot()}=e,A=!1,Z="",ee={...E},z=Pe,R=!1;const X=dt();let ie={};function ye(w){return w===r||w===i}function W(w){const G=ie[w]??ye(w);t(23,ie={...ie,[w]:!G})}const q=w=>{const G=new Map;for(const B of w){if(!B.start_time)continue;const O=me(B.start_time);if(Number.isNaN(O.getTime()))continue;const H=be(O,{weekStartsOn:1}),de=Me(O,{weekStartsOn:1}),fe=J(H,"yyyy-MM-dd"),we=`${J(H,"MMM d")} – ${J(de,"MMM d")}`;let he=G.get(fe);he||(he={key:fe,label:we,days:new Map},G.set(fe,he));const ge=J(O,"yyyy-MM-dd");let Ie=he.days.get(ge);Ie||(Ie={key:ge,displayDay:J(O,"EEE"),displayDate:J(O,"MMM d"),events:[]},he.days.set(ge,Ie)),Ie.events.push(B)}const ce=B=>{const O=J(B,"yyyy-MM-dd");G.has(O)||G.set(O,{key:O,label:`${J(B,"MMM d")} – ${J(Me(B,{weekStartsOn:1}),"MMM d")}`,days:new Map})},_e=Array.from(G.values());if(_e.length){const B=_e.reduce((de,fe)=>fe.key>de?fe.key:de,_e[0].key),O=me(B);let H=be(new Date,{weekStartsOn:1});if(H>O)ce(H);else for(;H<=O;)ce(H),H=Ce(H,1)}return Array.from(G.values()).sort((B,O)=>B.key<O.key?-1:B.key>O.key?1:0).map(B=>({key:B.key,label:B.label,days:Array.from(B.days.values()).sort((O,H)=>O.key<H.key?-1:O.key>H.key?1:0).map(O=>({...O,events:O.events.slice().sort((H,de)=>{const fe=H.is_all_day?0:1,we=de.is_all_day?0:1;if(fe!==we)return fe-we;const he=H.start_time?me(H.start_time).getTime():Number.MAX_SAFE_INTEGER,ge=de.start_time?me(de.start_time).getTime():Number.MAX_SAFE_INTEGER;return he-ge})}))}))};function F(){t(22,z+=Ot)}function pe(){t(22,z=520),t(8,R=!0)}function ve(){t(22,z=Pe),t(8,R=!1)}xe(async()=>{t(5,A=D(st.EditDBCalendarEvent)),await N()});const x=async w=>{if(t(6,Z="Item Form"),w?.meta_data?.recurring_instance&&w?.meta_data?.recurring_parent_id){const{getCalendarEvent:G}=await ft(async()=>{const{getCalendarEvent:_e}=await import("./Df3HDXjM.js").then(B=>B.j);return{getCalendarEvent:_e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]),import.meta.url),ce=await G(w.meta_data.recurring_parent_id);if(ce){t(7,ee={...ce,category:ce?.meta_data?.category,start_time:w.start_time,end_time:w.end_time,meta_data:{...ce.meta_data,recurring_instance:!0,recurring_parent_id:w.meta_data.recurring_parent_id,recurring_instance_index:w.meta_data.recurring_instance_index}});return}}t(7,ee={...w,category:w?.meta_data?.category})},Ee=()=>x({...E,event_type:"calendar_event",start_time:new Date().toISOString(),end_time:new Date().toISOString(),is_all_day:!0}),it=w=>W(w.key),ct=w=>x(w);return f.$$set=w=>{"formId"in w&&t(0,y=w.formId)},f.$$.update=()=>{f.$$.dirty[0]&4194304&&t(24,l=Ce(X,z)),f.$$.dirty[0]&41943040&&t(11,c=w=>m?!0:ie[w]!==void 0?ie[w]:ye(w)),f.$$.dirty[0]&16777232&&t(2,o=(_??[]).filter(w=>{if(!w.start_time)return!1;const G=me(w.start_time);return G>=X&&G<=l})),f.$$.dirty[0]&16&&t(3,n=(_??[]).filter(w=>w.start_time?me(w.start_time)>=X:!1)),f.$$.dirty[0]&4&&t(1,s=q(o)),f.$$.dirty[0]&12&&t(10,a=n.length>o.length),f.$$.dirty[0]&2&&t(9,u=s.reduce((w,G)=>{const ce=me(G.key),_e=Me(ce,{weekStartsOn:1}),B=J(_e,"yyyy-MM"),O=J(_e,"MMMM yyyy");return w[B]||(w[B]={label:O,weeks:[]}),w[B].weeks.push(G),w},{}))},r=J(be(X,{weekStartsOn:1}),"yyyy-MM-dd"),i=J(Ce(be(X,{weekStartsOn:1}),1),"yyyy-MM-dd"),[y,s,o,n,_,A,Z,ee,R,u,a,c,d,k,T,$,E,W,F,pe,ve,x,z,ie,l,m,Ee,it,ct]}class xt extends Qe{constructor(e){super(),Ye(this,e,Vt,At,Ze,{formId:0},null,[-1,-1])}}function He(f,e,t){const l=f.slice();return l[18]=e[t],l}function Lt(f){let e,t;return e=new tt({props:{eventItem:f[4],drawerId:f[11],name:"announcement-item-form"}}),{c(){oe(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){re(e,l,r),t=!0},p(l,r){const i={};r&16&&(i.eventItem=l[4]),e.$set(i)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function Wt(f){let e,t,l;return t=new rt({}),{c(){e=g("div"),oe(t.$$.fragment),this.h()},l(r){e=b(r,"DIV",{class:!0});var i=I(e);ae(t.$$.fragment,i),i.forEach(h),this.h()},h(){p(e,"class","d-flex flex-column gap-4")},m(r,i){M(r,e,i),re(t,e,null),l=!0},p:P,i(r){l||(S(t.$$.fragment,r),l=!0)},o(r){C(t.$$.fragment,r),l=!1},d(r){r&&h(e),se(t)}}}function Bt(f){let e,t,l,r,i="Announcements",c,o,n,s,a,u,_=f[2]&&Ke(f);const m=[jt,Ft],d=[];function D(k,T){return k[6].length?0:k[1]?.length===0?1:-1}return~(s=D(f))&&(a=d[s]=m[s](f)),{c(){e=g("div"),t=g("div"),l=g("div"),r=g("span"),r.textContent=i,c=L(),o=g("div"),_&&_.c(),n=L(),a&&a.c(),this.h()},l(k){e=b(k,"DIV",{class:!0});var T=I(e);t=b(T,"DIV",{class:!0});var $=I(t);l=b($,"DIV",{class:!0});var N=I(l);r=b(N,"SPAN",{"data-svelte-h":!0}),le(r)!=="svelte-iczcm2"&&(r.textContent=i),c=V(N),o=b(N,"DIV",{class:!0});var E=I(o);_&&_.l(E),E.forEach(h),N.forEach(h),$.forEach(h),n=V(T),a&&a.l(T),T.forEach(h),this.h()},h(){p(o,"class","d-flex align-items-center gap-2"),p(l,"class","d-flex justify-content-between align-items-center"),p(t,"class","card-header"),p(e,"class","card")},m(k,T){M(k,e,T),v(e,t),v(t,l),v(l,r),v(l,c),v(l,o),_&&_.m(o,null),v(e,n),~s&&d[s].m(e,null),u=!0},p(k,T){k[2]?_?(_.p(k,T),T&4&&S(_,1)):(_=Ke(k),_.c(),S(_,1),_.m(o,null)):_&&(Q(),C(_,1,1,()=>{_=null}),Y());let $=s;s=D(k),s===$?~s&&d[s].p(k,T):(a&&(Q(),C(d[$],1,1,()=>{d[$]=null}),Y()),~s?(a=d[s],a?a.p(k,T):(a=d[s]=m[s](k),a.c()),S(a,1),a.m(e,null)):a=null)},i(k){u||(S(_),S(a),u=!0)},o(k){C(_),C(a),u=!1},d(k){k&&h(e),_&&_.d(),~s&&d[s].d()}}}function Ke(f){let e,t,l,r,i,c,o;return e=new lt({}),{c(){oe(e.$$.fragment),t=L(),l=g("button"),r=g("i"),this.h()},l(n){ae(e.$$.fragment,n),t=V(n),l=b(n,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var s=I(l);r=b(s,"I",{class:!0}),I(r).forEach(h),s.forEach(h),this.h()},h(){p(r,"class","bi bi-plus"),p(l,"class","btn btn-sm btn-primary"),p(l,"type","button"),p(l,"data-bs-toggle","offcanvas"),p(l,"data-bs-target","#"+f[11]),p(l,"aria-controls",f[11])},m(n,s){re(e,n,s),M(n,t,s),M(n,l,s),v(l,r),i=!0,c||(o=ue(l,"click",f[14]),c=!0)},p:P,i(n){i||(S(e.$$.fragment,n),i=!0)},o(n){C(e.$$.fragment,n),i=!1},d(n){n&&(h(t),h(l)),se(e,n),c=!1,o()}}}function Ft(f){let e,t=`<div class="alert alert-info mb-0"><i class="bi bi-info-circle me-2"></i>
					No announcements yet.</div>`;return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-1f6lqec"&&(e.innerHTML=t),this.h()},h(){p(e,"class","card-body")},m(l,r){M(l,e,r)},p:P,i:P,o:P,d(l){l&&h(e)}}}function jt(f){let e,t,l,r,i=ne(f[6]),c=[];for(let s=0;s<i.length;s+=1)c[s]=Xe(He(f,i,s));const o=s=>C(c[s],1,1,()=>{c[s]=null});let n=f[5]&&Je(f);return{c(){e=g("ul");for(let s=0;s<c.length;s+=1)c[s].c();t=L(),n&&n.c(),l=K(),this.h()},l(s){e=b(s,"UL",{class:!0});var a=I(e);for(let u=0;u<c.length;u+=1)c[u].l(a);a.forEach(h),t=V(s),n&&n.l(s),l=K(),this.h()},h(){p(e,"class","list-group list-group-flush border-top-0")},m(s,a){M(s,e,a);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(e,null);M(s,t,a),n&&n.m(s,a),M(s,l,a),r=!0},p(s,a){if(a&10308){i=ne(s[6]);let u;for(u=0;u<i.length;u+=1){const _=He(s,i,u);c[u]?(c[u].p(_,a),S(c[u],1)):(c[u]=Xe(_),c[u].c(),S(c[u],1),c[u].m(e,null))}for(Q(),u=i.length;u<c.length;u+=1)o(u);Y()}s[5]?n?n.p(s,a):(n=Je(s),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},i(s){if(!r){for(let a=0;a<i.length;a+=1)S(c[a]);r=!0}},o(s){c=c.filter(Boolean);for(let a=0;a<c.length;a+=1)C(c[a]);r=!1},d(s){s&&(h(e),h(t),h(l)),_t(c,s),n&&n.d(s)}}}function ze(f){let e,t,l,r,i;function c(){return f[15](f[18])}return{c(){e=g("div"),t=g("button"),l=g("i"),this.h()},l(o){e=b(o,"DIV",{class:!0});var n=I(e);t=b(n,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var s=I(t);l=b(s,"I",{class:!0}),I(l).forEach(h),s.forEach(h),n.forEach(h),this.h()},h(){p(l,"class","bi bi-pencil-square"),p(t,"class","btn btn-sm btn-primary"),p(t,"type","button"),p(t,"data-bs-toggle","offcanvas"),p(t,"data-bs-target","#"+f[11]),p(t,"aria-controls",f[11]),p(e,"class","announcement-actions svelte-1rxfa63")},m(o,n){M(o,e,n),v(e,t),v(t,l),r||(i=ue(t,"click",c),r=!0)},p(o,n){f=o},d(o){o&&h(e),r=!1,i()}}}function Xe(f){let e,t,l,r,i,c,o;r=new pt({props:{item:f[18]}});let n=f[2]&&ze(f);return{c(){e=g("li"),t=g("div"),l=g("div"),oe(r.$$.fragment),i=L(),n&&n.c(),c=L(),this.h()},l(s){e=b(s,"LI",{class:!0});var a=I(e);t=b(a,"DIV",{class:!0});var u=I(t);l=b(u,"DIV",{class:!0});var _=I(l);ae(r.$$.fragment,_),_.forEach(h),i=V(u),n&&n.l(u),u.forEach(h),c=V(a),a.forEach(h),this.h()},h(){p(l,"class","announcement-content svelte-1rxfa63"),p(t,"class","announcement-row svelte-1rxfa63"),p(e,"class","list-group-item py-2")},m(s,a){M(s,e,a),v(e,t),v(t,l),re(r,l,null),v(t,i),n&&n.m(t,null),v(e,c),o=!0},p(s,a){const u={};a&64&&(u.item=s[18]),r.$set(u),s[2]?n?n.p(s,a):(n=ze(s),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i(s){o||(S(r.$$.fragment,s),o=!0)},o(s){C(r.$$.fragment,s),o=!1},d(s){s&&h(e),se(r),n&&n.d()}}}function Je(f){let e,t,l,r,i,c=(f[1]?.length??0)+"",o,n,s,a="More",u,_;return{c(){e=g("div"),t=g("small"),l=U("Showing "),r=U(f[0]),i=U(" of "),o=U(c),n=L(),s=g("button"),s.textContent=a,this.h()},l(m){e=b(m,"DIV",{class:!0});var d=I(e);t=b(d,"SMALL",{});var D=I(t);l=j(D,"Showing "),r=j(D,f[0]),i=j(D," of "),o=j(D,c),D.forEach(h),n=V(d),s=b(d,"BUTTON",{class:!0,"data-svelte-h":!0}),le(s)!=="svelte-1jfgkln"&&(s.textContent=a),d.forEach(h),this.h()},h(){p(s,"class","btn btn-primary btn-sm"),p(e,"class","card-footer d-flex align-items-center justify-content-between")},m(m,d){M(m,e,d),v(e,t),v(t,l),v(t,r),v(t,i),v(t,o),v(e,n),v(e,s),u||(_=ue(s,"click",f[12]),u=!0)},p(m,d){d&1&&te(r,m[0]),d&2&&c!==(c=(m[1]?.length??0)+"")&&te(o,c)},d(m){m&&h(e),u=!1,_()}}}function Ut(f){let e,t,l,r,i,c;e=new at({props:{title:f[3],id:f[11],$$slots:{default:[Lt]},$$scope:{ctx:f}}});const o=[Bt,Wt],n=[];function s(a,u){return a[7]?0:1}return l=s(f),r=n[l]=o[l](f),{c(){oe(e.$$.fragment),t=L(),r.c(),i=K()},l(a){ae(e.$$.fragment,a),t=V(a),r.l(a),i=K()},m(a,u){re(e,a,u),M(a,t,u),n[l].m(a,u),M(a,i,u),c=!0},p(a,[u]){const _={};u&8&&(_.title=a[3]),u&2097168&&(_.$$scope={dirty:u,ctx:a}),e.$set(_);let m=l;l=s(a),l===m?n[l].p(a,u):(Q(),C(n[m],1,1,()=>{n[m]=null}),Y(),r=n[l],r?r.p(a,u):(r=n[l]=o[l](a),r.c()),S(r,1),r.m(i.parentNode,i))},i(a){c||(S(e.$$.fragment,a),S(r),c=!0)},o(a){C(e.$$.fragment,a),C(r),c=!1},d(a){a&&(h(t),h(i)),se(e,a),n[l].d(a)}}}const Rt=5,qt=5;function Gt(f,e,t){let l,r,i,c;const{actions:{featureIsEnabled:o}}=nt(),{stores:{ready:n,announcements:s},actions:{reload:a}}=et();ke(f,n,y=>t(7,c=y)),ke(f,s,y=>t(1,i=y));const u={title:"Announcement",description:"",location:"",event_type:"announcement"},_=ot();let m=!1,d="",D={...u},k=Rt;function T(){t(0,k+=qt)}xe(async()=>{t(2,m=o(st.EditDBCalendarEvent)),await a()});const $=y=>{t(3,d="Announcement Form"),t(4,D={...y,category:y?.meta_data?.category})},N=()=>$({...u,event_type:"calendar_event",start_time:new Date().toISOString(),end_time:new Date().toISOString(),is_all_day:!0}),E=y=>$(y);return f.$$.update=()=>{f.$$.dirty&3&&t(6,l=(i??[]).slice(0,k)),f.$$.dirty&3&&t(5,r=(i?.length??0)>k)},[k,i,m,d,D,r,l,c,n,s,u,_,T,$,N,E]}class el extends Qe{constructor(e){super(),Ye(this,e,Gt,Ut,Ze,{})}}export{el as A,xt as E,gt as d,kt as s};
