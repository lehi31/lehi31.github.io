import"./NZTpNUN0.js";import"./69_IOA4Y.js";import{p as aa,as as ta,at as ra,f as B,a as ea,c as s,s as w,D as sa,g as a,r,F as Y,t as $,am as la}from"./JKZwkikK.js";import{i as E,s as L,e as oa,a as ia,b as Z}from"./BxjzTaz1.js";import{f as g,a as v,c as X}from"./JDsN5plM.js";import{i as na}from"./b8c_lO2i.js";import{i as da,c as y,g as va}from"./DbIKrC6m.js";import{o as ba}from"./DjNGvcU6.js";import{e as S,i as q}from"./B2BlSr7K.js";import{s as f}from"./DgyHyGRY.js";import{p as ca}from"./BNg_vR4R.js";var pa=g("<a> </a>"),ua=g('<div><button type="button" data-bs-toggle="collapse" data-bs-parent="#desktop-nav-root"><span> </span> <i class="bi bi-chevron-right chevron svelte-h0bmr6"></i></button> <div data-bs-parent="#desktop-nav-root"><div class="list-group list-group-flush ms-3 svelte-h0bmr6"></div></div></div>'),ga=g("<a> </a>"),ma=g('<button type="button" data-bs-toggle="collapse"><span> </span> <i class="bi bi-chevron-right chevron svelte-h0bmr6"></i></button>'),fa=g("<a> </a>"),_a=g("<a> </a>"),ha=g('<div data-bs-parent="#mobile-nav-root"><div class="card shadow-sm bg-body-tertiary border border-secondary-subtle text-body"><div class="list-group list-group-flush svelte-h0bmr6"></div></div></div>'),xa=g('<div class="d-none d-md-block d-print-none mt-3" id="desktop-nav-root"><div class="d-flex flex-column gap-2"></div></div> <div class="d-flex flex-column gap-3 d-md-none d-print-none mt-3" id="mobile-nav-root"><div class="card shadow-sm bg-body-tertiary border border-secondary-subtle text-body"><div class="list-group list-group-flush svelte-h0bmr6"></div></div> <!></div>',1);function ya(K,O){aa(O,!0);let k=ta(ra([]));ba(()=>{sa(k,da(),!0)});function _(n){return`collapse-${n.toLowerCase().replace(/\s+/g,"-")}`}function C(n){return n?n==="/"?n:n.replace(/\/+$/,"")||"/":null}const p=n=>{if(!n)return!1;const e=C(n.url);return e&&e===a(Q)?!0:n.children?.some(c=>p(c))??!1};let Q=la(()=>C(ca.url.pathname)??"/");var G=xa(),H=B(G),D=s(H);S(D,21,()=>a(k),q,(n,e,c)=>{var T=X(),j=B(T);{var h=l=>{var t=ua();let o;var i=s(t);let b;var u=s(i),x=s(u,!0);r(u),Y(2),r(i);var m=w(i,2);let A;var I=s(m);S(I,21,()=>a(e).children,q,(M,R)=>{var z=pa();let J;var V=s(z,!0);r(z),$(W=>{f(z,"href",a(R).url??"#"),J=y(z,1,"list-group-item list-group-item-action border-0 ps-3 fw-semibold svelte-h0bmr6",null,J,W),L(V,a(R).label)},[()=>({active:p(a(R))})]),v(M,z)}),r(I),r(m),r(t),$((M,R,z,J,V,W)=>{o=y(t,1,"",null,o,{"mb-3":c>0&&!a(k)[c-1]?.children}),b=y(i,1,"btn border border-secondary-subtle border-opacity-25 text-body w-100 text-start d-flex align-items-center justify-content-between gap-2 fw-semibold rounded-3 py-2 px-3 shadow-sm collapsed nav-btn svelte-h0bmr6",null,b,M),f(i,"data-bs-target",R),f(i,"aria-expanded",z),f(i,"aria-controls",J),L(x,a(e).label),A=y(m,1,"collapse mt-2",null,A,V),f(m,"id",W)},[()=>({active:p(a(e))}),()=>`#${_(a(e).label)}-desktop`,()=>p(a(e)),()=>`${_(a(e).label)}-desktop`,()=>({show:p(a(e))}),()=>`${_(a(e).label)}-desktop`]),v(l,t)},d=l=>{var t=ga();let o;var i=s(t,!0);r(t),$(b=>{f(t,"href",a(e).url??"#"),o=y(t,1,"btn border border-secondary-subtle border-opacity-25 text-body w-100 text-start d-flex align-items-center gap-2 fw-semibold rounded-3 py-2 px-3 shadow-sm nav-btn svelte-h0bmr6",null,o,b),L(i,a(e).label)},[()=>({active:p(a(e)),"mb-3":c>0&&!a(k)[c-1]?.children})]),v(l,t)};E(j,l=>{a(e).children&&a(e).children.length>0?l(h):l(d,!1)})}v(n,T)}),r(D),r(H);var U=w(H,2),N=s(U),F=s(N);S(F,21,()=>a(k),q,(n,e)=>{var c=X(),T=B(c);{var j=d=>{var l=ma();let t;var o=s(l),i=s(o,!0);r(o),Y(2),r(l),$((b,u,x,m)=>{t=y(l,1,"list-group-item list-group-item-action nav-mobile-parent d-flex align-items-center justify-content-between gap-2 fw-semibold collapsed small svelte-h0bmr6",null,t,b),f(l,"data-bs-target",u),f(l,"aria-expanded",x),f(l,"aria-controls",m),L(i,a(e).label)},[()=>({active:p(a(e))}),()=>`#${_(a(e).label)}-mobile`,()=>p(a(e)),()=>`${_(a(e).label)}-mobile`]),v(d,l)},h=d=>{var l=fa();let t;var o=s(l,!0);r(l),$(i=>{f(l,"href",a(e).url??"#"),t=y(l,1,"list-group-item list-group-item-action nav-mobile-parent d-flex align-items-center gap-2 fw-semibold svelte-h0bmr6",null,t,i),L(o,a(e).label)},[()=>({active:p(a(e))})]),v(d,l)};E(T,d=>{a(e).children&&a(e).children.length>0?d(j):d(h,!1)})}v(n,c)}),r(F),r(N);var P=w(N,2);S(P,17,()=>a(k),q,(n,e)=>{var c=X(),T=B(c);{var j=h=>{var d=ha();let l;var t=s(d),o=s(t);S(o,21,()=>a(e).children,q,(i,b)=>{var u=_a();let x;var m=s(u,!0);r(u),$(A=>{f(u,"href",a(b).url??"#"),x=y(u,1,"list-group-item list-group-item-action fw-semibold svelte-h0bmr6",null,x,A),L(m,a(b).label)},[()=>({active:p(a(b))})]),v(i,u)}),r(o),r(t),r(d),$((i,b)=>{l=y(d,1,"collapse mt-1",null,l,i),f(d,"id",b)},[()=>({show:p(a(e))}),()=>`${_(a(e).label)}-mobile`]),v(h,d)};E(T,h=>{a(e).children&&a(e).children.length>0&&h(j)})}v(n,c)}),r(U),v(K,G),ea()}var wa=g('<i class="bi bi-sun"></i>'),ka=g('<i class="bi bi-moon"></i>'),Ta=g('<div class="btn-group"><button type="button" class="btn btn-link dropdown-toggle svelte-17g6nza" data-bs-toggle="dropdown" data-bs-display="static" aria-expanded="false" aria-label="User menu"><i class="bi bi-person"></i></button> <ul class="dropdown-menu dropdown-menu-end dropdown-menu-start"><li class="dropdown-item"><div class="d-flex justify-content-start gap-2"><i class="bi bi-person"></i> <div><span class="d-block"> </span> <span class="text-muted fw-lighter small"> </span></div></div></li> <li><hr class="dropdown-divider"/></li> <li><a class="dropdown-item" href="/auth/logout"><span class="d-flex justify-content-start gap-2"><i class="bi bi-box-arrow-in-right"></i> <span>Logout</span></span></a></li></ul></div>'),$a=g('<a class="btn btn-link d-inline" href="/auth/login" aria-label="Log in"><i class="bi bi-box-arrow-in-left"></i></a>'),La=g('<nav class="app-navigation navbar bg-body-tertiary border-bottom border-secondary-subtle border-opacity-25 d-print-none svelte-17g6nza"><div class="container-fluid px-3 px-lg-5"><a href="/home" class="d-flex align-items-center gap-2 text-decoration-none"><img src="/assets/logo.png" alt="logo" class="logo svelte-17g6nza"/> <div class="navbar-brand mb-0 h1">Lehi Tolutaha</div></a> <div class="d-flex"><button class="btn btn-link" type="button" aria-label="Toggle dark mode"><!></button> <button class="btn btn-link d-md-none" type="button" data-bs-toggle="collapse" data-bs-target="#mini-menu" aria-expanded="false" aria-controls="mini-menu" aria-label="Toggle navigation menu"><i class="bi bi-list"></i></button> <!></div></div></nav> <div class="container-fluid collapse mt-md-5 mt-lg-5 px-3" id="mini-menu"><!></div>',1);function Ma(K,O){aa(O,!1);const k=()=>Z(Q,"$darkTheme",C),_=()=>Z(G,"$currentUser",C),[C,p]=ia(),{stores:{darkTheme:Q,currentUser:G},actions:{toggleTheme:H}}=va();na();var D=La(),U=B(D),N=s(U),F=w(s(N),2),P=s(F),n=s(P);{var e=t=>{var o=wa();v(t,o)},c=t=>{var o=ka();v(t,o)};E(n,t=>{k()?t(e):t(c,!1)})}r(P);var T=w(P,4);{var j=t=>{var o=Ta(),i=w(s(o),2),b=s(i),u=s(b),x=w(s(u),2),m=s(x),A=s(m,!0);r(m);var I=w(m,2),M=s(I);r(I),r(x),r(u),r(b),Y(4),r(i),r(o),$(()=>{L(A,_().username),L(M,`@${_().roles[0]??""}`)}),v(t,o)},h=t=>{var o=$a();v(t,o)};E(T,t=>{_().roles&&_().roles.length>0?t(j):t(h,!1)})}r(F),r(N),r(U);var d=w(U,2),l=s(d);ya(l,{}),r(d),oa("click",P,H),v(K,D),ea(),p()}export{Ma as H,ya as N};
