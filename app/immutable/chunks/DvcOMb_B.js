import"./NZTpNUN0.js";import"./69_IOA4Y.js";import{p as ye,t as L,a as be,s as r,c as t,r as e,aj as re,D as N,g as a,E as F,ak as Re,u as E,i as Pt,ao as Oe,f as $e,w as S,am as at,an as nt,R as ht}from"./JKZwkikK.js";import{s as p,p as q,i as W,e as Te,o as xt,a as ct,c as wt,b as Ce}from"./CvNikv6W.js";import{f as I,a as k,t as Ye,c as lt}from"./JDsN5plM.js";import{s as se,r as At,b as Rt,d as Dt}from"./B9M1IJDb.js";import{i as he}from"./b8c_lO2i.js";import{W as z,S as de,e as dt,t as ae,z as Wt,A as Gt,B as Yt,l as Tt,C as $t,D as rt,f as le,b as Pe}from"./DoOjFZYh.js";import{w as ot,g as Ft,d as ke,o as kt,a as Lt}from"./DjNGvcU6.js";import{e as Ae,i as Fe}from"./B2BlSr7K.js";import{b as qt}from"./Bk8fdyPk.js";import{v as Ut,D as Xt}from"./D32NyDqB.js";import{b as zt}from"./BL6gm64P.js";import{g as Ht}from"./WxHPyRGW.js";import{p as ge}from"./B-9ZCcI7.js";import{S as Vt}from"./BcNgTtQ8.js";var Jt=I('<div class="card"><div class="card-header">Ward Information</div> <ul class="list-group list-group-flush"><li class="list-group-item text-uppercase fw-lighter fs-x-small">Chapel Address</li> <li class="list-group-item"><a target="_blank"> <br/> <br/> </a></li> <li class="list-group-item text-uppercase fw-lighter fs-x-small">Hours</li> <li class="list-group-item"><span class="d-block fw-lighter"><strong>Sacrament</strong> </span> <span class="d-block fw-lighter"><strong>2nd Hour</strong> </span></li> <li class="list-group-item text-uppercase fw-lighter fs-x-small"> </li> <li class="list-group-item"> <a target="_blank"> </a></li> <li class="list-group-item text-uppercase fw-lighter fs-x-small"> </li> <li class="list-group-item"> <a target="_blank"> </a></li></ul></div>');function bn(l,s){ye(s,!1),he();var n=Jt(),d=r(t(n),2),u=r(t(d),2),x=t(u),m=t(x),_=r(m,2),T=r(_,2);e(x),e(u);var $=r(u,4),f=t($),M=r(t(f));e(f);var o=r(f,2),C=r(t(o));e(o),e($);var i=r($,2),y=t(i);e(i);var g=r(i,2),w=t(g),D=r(w),b=t(D,!0);e(D),e(g);var c=r(g,2),v=t(c);e(c);var P=r(c,2),ee=t(P),te=r(ee),ue=t(te,!0);e(te),e(P),e(d),e(n),L((pe,O)=>{se(x,"href",z.chapel.mapLink),p(m,`${z.chapel.address.street??""}, ${z.chapel.address.city??""}`),p(_,` ${z.chapel.address.state??""}
				${z.chapel.address.zip??""}`),p(T,` ${z.chapel.address.country??""}`),p(M,`:
				${z.meetingTimes.sacrament.start??""} to
				${z.meetingTimes.sacrament.end??""}`),p(C,`:
				${z.meetingTimes.secondHour.start??""} to
				${z.meetingTimes.secondHour.end??""}`),p(y,`${z.contacts.executiveSecretary.purpose??""}:`),p(w,`${z.contacts.executiveSecretary.name??""} | `),se(D,"href",`sms:${pe??""}`),p(b,z.contacts.executiveSecretary.phone),p(v,`${z.contacts.bishop.purpose??""}:`),p(ee,`${z.contacts.bishop.name??""} | `),se(te,"href",`sms:${O??""}`),p(ue,z.contacts.bishop.phone)},[()=>z.contacts.executiveSecretary.phone.replace(/-/g,""),()=>z.contacts.bishop.phone.replace(/-/g,"")]),k(l,n),be()}var Kt=I('<div class="card"><div class="card-header">Stake Information</div> <ul class="list-group list-group-flush"><li class="list-group-item text-uppercase fw-lighter fs-x-small">Address</li> <li class="list-group-item"><a target="_blank"> <br/> <br/> </a></li> <li class="list-group-item text-uppercase fw-lighter fs-x-small"> </li> <li class="list-group-item"> <a target="_blank"> </a></li> <li class="list-group-item text-uppercase fw-lighter fs-x-small"> </li> <li class="list-group-item"> <a target="_blank"> </a></li></ul></div>');function hn(l,s){ye(s,!1),he();var n=Kt(),d=r(t(n),2),u=r(t(d),2),x=t(u),m=t(x),_=r(m,2),T=r(_,2);e(x),e(u);var $=r(u,2),f=t($);e($);var M=r($,2),o=t(M),C=r(o),i=t(C,!0);e(C),e(M);var y=r(M,2),g=t(y);e(y);var w=r(y,2),D=t(w),b=r(D),c=t(b,!0);e(b),e(w),e(d),e(n),L((v,P)=>{se(x,"href",de.building.mapLink),p(m,`${de.building.address.street},`),p(_,` ${de.building.address.city}, ${de.building.address.state}
				${de.building.address.zip}`),p(T,` ${de.building.address.country}`),p(f,`${de.contacts.templeRecommend.purpose}:`),p(o,`${de.contacts.templeRecommend.name} | `),se(C,"href",`sms:${v??""}`),p(i,de.contacts.templeRecommend.phone),p(g,`${de.contacts.president.purpose}:`),p(D,`${de.contacts.president.name} | `),se(b,"href",`sms:${P??""}`),p(c,de.contacts.president.phone)},[()=>de.contacts.templeRecommend.phone.replace(/-/g,""),()=>de.contacts.president.phone.replace(/-/g,"")]),k(l,n),be()}var Qt=I('<div class="card"><div class="card-header"> </div> <div class="card-body"><figure class="text-center"><blockquote class="blockquote"><p> </p></blockquote> <figcaption class="blockquote-footer"><cite title="Source Title"> </cite></figcaption></figure></div></div>');function xn(l,s){ye(s,!1),he();var n=Qt(),d=t(n),u=t(d);e(d);var x=r(d,2),m=t(x),_=t(m),T=t(_),$=t(T,!0);e(T),e(_);var f=r(_,2),M=t(f),o=t(M,!0);e(M),e(f),e(m),e(x),e(n),L(()=>{p(u,`Ward Theme ${z.theme.year??""}`),p($,z.theme.scripture.text),p(o,z.theme.scripture.reference)}),k(l,n),be()}var Zt=I('<small class="fw-lighter text-muted"> </small>'),ea=I('<div class="d-flex flex-row gap-3 justify-content-between align-items-end"><div><span> </span> <!></div> <div class="d-flex flex-row gap-3 align-items-center"><button class="btn btn-sm btn-primary" aria-label="Decrement count"><i class="bi bi-dash"></i></button> <div class="count-container d-flex justify-content-end svelte-2jbj3e"> </div> <button class="btn btn-sm btn-primary" aria-label="Increment count"><i class="bi bi-plus"></i></button></div></div>');function Ge(l,s){let n=q(s,"count",12,0),d=q(s,"label",8,"Count"),u=q(s,"description",8,"");const x=()=>{xt(n)},m=()=>{n()<=0||xt(n,-1)};var _=ea(),T=t(_),$=t(T),f=t($,!0);e($);var M=r($,2);{var o=D=>{var b=Zt(),c=t(b,!0);e(b),L(()=>p(c,u())),k(D,b)};W(M,D=>{u()&&D(o)})}e(T);var C=r(T,2),i=t(C),y=r(i,2),g=t(y,!0);e(y);var w=r(y,2);e(C),e(_),L(()=>{p(f,d()),p(g,n())}),Te("click",i,m),Te("click",w,x),k(l,_)}const Mt=ot([]);let st=!1;async function ut(){if(st)return Ft(Mt);st=!0;try{const{data:l,error:s}=await dt.from("temple_challenge_entries").select("*");if(s)throw console.error("[API] Get temple entries failed:",s),new Error(`Failed to load entries: ${s.message}`);const n=l||[];return Mt.set(n),setTimeout(()=>st=!1,800),n}catch(l){throw st=!1,console.error("[API] Unexpected error fetching temple entries:",l),l}}async function ta(l){try{const{data:s,error:n}=await dt.from("temple_challenge_entries").insert([l]).select();if(n)throw console.error("[API] Create temple entry failed:",n),n.message.includes("JWT")?new Error("Authentication error - please try reloading the page"):n.code==="42501"?new Error("Permission denied - please check your authentication"):n.code==="23505"?new Error("This entry already exists"):n.message.includes("fetch")||n.message.includes("Failed to fetch")?new Error("Network error - please check your connection and try again"):new Error(`Failed to save entry: ${n.message}`);return await ut(),console.log("[API] Temple entry created successfully"),s?s[0]:void 0}catch(s){throw console.error("[API] Unexpected error creating temple entry:",s),s}}async function aa(l,s){const{data:n,error:d}=await dt.from("temple_challenge_entries").update(s).eq("id",l).select();if(d)throw d;return await ut(),n?n[0]:void 0}async function na(l){const{error:s}=await dt.from("temple_challenge_entries").delete().eq("id",l);if(s)throw s;await ut()}function ra(l,s,n){return l.filter(d=>d.date>=s&&d.date<=n)}function sa(l){return l.reduce((s,n)=>s+(n.baptism_ordinances_count??0)+(n.confirmation_ordinances_count??0)+(n.initiatory_ordinances_count??0)+(n.endowment_ordinances_count??0)+(n.sealing_ordinances_count??0),0)}function oa(l){return l.reduce((s,n)=>s+(n.prepared_names_count??0),0)}let Xe=null;const ia=()=>{const l=ot(!1),s=ot(!1),n=ot([]),d=ke([n],([g])=>{const w=g.reduce((b,c)=>{const v=new Date(c.date),P=`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}`;return(b[P]||=[]).push(c),b},{}),D=Object.entries(w).sort(([b],[c])=>new Date(c).getTime()-new Date(b).getTime()).map(([b,c])=>[b,c.sort((v,P)=>new Date(P.created_at??"").getTime()-new Date(v.created_at??"").getTime())]);return Object.fromEntries(D)}),u=ke([n],([g])=>{const w=g.reduce((b,c)=>((b[c.date]||=[]).push(c),b),{}),D=Object.entries(w).sort(([b],[c])=>new Date(c).getTime()-new Date(b).getTime()).map(([b,c])=>[b,c.sort((v,P)=>new Date(P.created_at??"").getTime()-new Date(v.created_at??"").getTime())]);return Object.fromEntries(D)}),x=ke([n],([g])=>{const w=g.reduce((b,c)=>{const P=`${new Date(c.date).getFullYear()}`;return(b[P]||=[]).push(c),b},{}),D=Object.entries(w).sort(([b],[c])=>parseInt(c)-parseInt(b)).map(([b,c])=>[b,c.sort((v,P)=>new Date(P.created_at??"").getTime()-new Date(v.created_at??"").getTime())]);return Object.fromEntries(D)}),m=ke(n,g=>g.reduce((w,D)=>({baptism_ordinances_count:w.baptism_ordinances_count+(D.baptism_ordinances_count??0),confirmation_ordinances_count:w.confirmation_ordinances_count+(D.confirmation_ordinances_count??0),initiatory_ordinances_count:w.initiatory_ordinances_count+(D.initiatory_ordinances_count??0),endowment_ordinances_count:w.endowment_ordinances_count+(D.endowment_ordinances_count??0),sealing_ordinances_count:w.sealing_ordinances_count+(D.sealing_ordinances_count??0)}),{baptism_ordinances_count:0,confirmation_ordinances_count:0,initiatory_ordinances_count:0,endowment_ordinances_count:0,sealing_ordinances_count:0})),_=ke(u,g=>{const w={};for(const[D,b]of Object.entries(g))w[D]=b.reduce((c,v)=>({...c,entry_type:c.entry_type,prepared_names_count:(c.prepared_names_count??0)+(v.prepared_names_count??0),baptism_ordinances_count:(c.baptism_ordinances_count??0)+(v.baptism_ordinances_count??0),confirmation_ordinances_count:(c.confirmation_ordinances_count??0)+(v.confirmation_ordinances_count??0),initiatory_ordinances_count:(c.initiatory_ordinances_count??0)+(v.initiatory_ordinances_count??0),endowment_ordinances_count:(c.endowment_ordinances_count??0)+(v.endowment_ordinances_count??0),sealing_ordinances_count:(c.sealing_ordinances_count??0)+(v.sealing_ordinances_count??0),date:D,created_at:c.created_at||v.created_at}),{});return w}),T=ke(d,g=>{const w={};for(const[D,b]of Object.entries(g))w[D]=b.reduce((c,v)=>({...c,entry_type:c.entry_type,prepared_names_count:(c.prepared_names_count??0)+(v.prepared_names_count??0),baptism_ordinances_count:(c.baptism_ordinances_count??0)+(v.baptism_ordinances_count??0),confirmation_ordinances_count:(c.confirmation_ordinances_count??0)+(v.confirmation_ordinances_count??0),initiatory_ordinances_count:(c.initiatory_ordinances_count??0)+(v.initiatory_ordinances_count??0),endowment_ordinances_count:(c.endowment_ordinances_count??0)+(v.endowment_ordinances_count??0),sealing_ordinances_count:(c.sealing_ordinances_count??0)+(v.sealing_ordinances_count??0),date:c.date||v.date,created_at:c.created_at||v.created_at}),{});return w}),$=ke(x,g=>{const w={};for(const[D,b]of Object.entries(g))w[D]=b.reduce((c,v)=>({...c,entry_type:c.entry_type,prepared_names_count:(c.prepared_names_count??0)+(v.prepared_names_count??0),baptism_ordinances_count:(c.baptism_ordinances_count??0)+(v.baptism_ordinances_count??0),confirmation_ordinances_count:(c.confirmation_ordinances_count??0)+(v.confirmation_ordinances_count??0),initiatory_ordinances_count:(c.initiatory_ordinances_count??0)+(v.initiatory_ordinances_count??0),endowment_ordinances_count:(c.endowment_ordinances_count??0)+(v.endowment_ordinances_count??0),sealing_ordinances_count:(c.sealing_ordinances_count??0)+(v.sealing_ordinances_count??0),date:c.date||v.date,created_at:c.created_at||v.created_at}),{});return w}),f=ke(n,g=>g.reduce((w,D)=>w+(D.baptism_ordinances_count??0)+(D.confirmation_ordinances_count??0)+(D.initiatory_ordinances_count??0)+(D.endowment_ordinances_count??0)+(D.sealing_ordinances_count??0),0)),M=ke(n,g=>g.reduce((w,D)=>w+(D.prepared_names_count??0),0));return Xe={stores:{ready:l,loading:s,data:n,groupedByDate:u,groupedByMonth:d,groupedByYear:x,detailTotals:m,detailTotalsByDay:_,detailTotalsByMonth:T,detailTotalsByYear:$,totalOrdinancesPerformed:f,totalNamesPrepared:M},actions:{reload:async()=>{const g=await ut();g?.length&&n.set(g)},apiCreate:async g=>{await ta(g)},apiUpdate:async(g,w)=>{await aa(g,w)},apiDelete:async g=>{await na(g)}}},Xe},_t=()=>Xe?.stores&&Object.keys(Xe.stores).length>0?Xe:ia();function wn(l){return ae(l).getDay()===0}function it(l,s){const n=ae(l),d=ae(s),u=n.getTime()-d.getTime();return u<0?-1:u>0?1:u}function la(l){return Wt(l,Date.now())}function ca(l,s){const n=ae(l),d=ae(s),u=n.getFullYear()-d.getFullYear(),x=n.getMonth()-d.getMonth();return u*12+x}function da(l){return s=>{const d=(l?Math[l]:Math.trunc)(s);return d===0?0:d}}function ua(l,s){return+ae(l)-+ae(s)}function _a(l){const s=ae(l);return s.setHours(23,59,59,999),s}function ma(l){const s=ae(l),n=s.getMonth();return s.setFullYear(s.getFullYear(),n+1,0),s.setHours(23,59,59,999),s}function va(l){const s=ae(l);return+_a(s)==+ma(s)}function pa(l,s){const n=ae(l),d=ae(s),u=it(n,d),x=Math.abs(ca(n,d));let m;if(x<1)m=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-u*x);let _=it(n,d)===-u;va(ae(l))&&x===1&&it(l,d)===1&&(_=!1),m=u*(x-Number(_))}return m===0?0:m}function fa(l,s,n){const d=ua(l,s)/1e3;return da(n?.roundingMethod)(d)}function ga(l,s,n){const d=Gt(),u=n?.locale??d.locale??Yt,x=2520,m=it(l,s);if(isNaN(m))throw new RangeError("Invalid time value");const _=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:m});let T,$;m>0?(T=ae(s),$=ae(l)):(T=ae(l),$=ae(s));const f=fa($,T),M=(Tt($)-Tt(T))/1e3,o=Math.round((f-M)/60);let C;if(o<2)return n?.includeSeconds?f<5?u.formatDistance("lessThanXSeconds",5,_):f<10?u.formatDistance("lessThanXSeconds",10,_):f<20?u.formatDistance("lessThanXSeconds",20,_):f<40?u.formatDistance("halfAMinute",0,_):f<60?u.formatDistance("lessThanXMinutes",1,_):u.formatDistance("xMinutes",1,_):o===0?u.formatDistance("lessThanXMinutes",1,_):u.formatDistance("xMinutes",o,_);if(o<45)return u.formatDistance("xMinutes",o,_);if(o<90)return u.formatDistance("aboutXHours",1,_);if(o<$t){const i=Math.round(o/60);return u.formatDistance("aboutXHours",i,_)}else{if(o<x)return u.formatDistance("xDays",1,_);if(o<rt){const i=Math.round(o/$t);return u.formatDistance("xDays",i,_)}else if(o<rt*2)return C=Math.round(o/rt),u.formatDistance("aboutXMonths",C,_)}if(C=pa($,T),C<12){const i=Math.round(o/rt);return u.formatDistance("xMonths",i,_)}else{const i=C%12,y=Math.trunc(C/12);return i<3?u.formatDistance("aboutXYears",y,_):i<9?u.formatDistance("overXYears",y,_):u.formatDistance("almostXYears",y+1,_)}}function St(l,s){return ga(l,la(l),s)}var ya=I('<button class="btn btn-primary"><i class="bi bi-arrow-clockwise"></i> Try Again</button>'),ba=I('<div class="alert alert-warning alert-dismissible" role="alert"><div class="d-flex align-items-start gap-3"><i class="bi bi-exclamation-triangle-fill fs-4"></i> <div class="flex-grow-1"><h5 class="alert-heading mb-2"><!></h5> <p class="mb-3"> </p> <div class="d-flex gap-2"><!> <button><i class="bi bi-arrow-clockwise"></i> Reload App</button></div></div> <button type="button" class="btn-close" aria-label="Close"></button></div></div>'),ha=I("<option> </option>"),xa=I('<div class="d-flex flex-column gap-3"><!> <div class="d-flex flex-column gap-2">Log your temple activity here.</div> <div class="d-flex flex-column gap-2"><div>Date</div> <small class="fw-lighter text-muted"><!></small> <input type="date" class="form-control" id="endDate" required/></div> <div class="d-flex flex-column gap-2"><div>Activity Type</div> <small class="fw-lighter text-muted">What kind of temple activity was this?</small> <select class="form-select form-control-sm"></select></div> <!> <!> <!> <!> <!> <!> <div class="d-flex justify-content-between border-1 border-top pt-3 mt-4"><span class="fw-bolder">Total:</span> <span class="fw-bolder" style="margin-right: 47px"> </span></div> <div class="d-flex justify-content-between"><button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary">Submit</button></div></div>');function wa(l,s){ye(s,!1);const[n,d]=ct(),u=F();let x=q(s,"drawerId",8,""),m=q(s,"minDate",8,null),_=q(s,"maxDate",8,null);const{stores:{loading:T},actions:{apiCreate:$,reload:f}}=_t(),M=["Personal","Family","Ward - Youth Temple Baptism","Ward - Temple Activity","Stake - Tuesday Temple Night"];function o(){const h=le(new Date,"yyyy-MM-dd");return!m()||!_()||h>=m()&&h<=_()?h:h<m()?m():_()}const C={prepared_names_count:0,baptism_ordinances_count:0,confirmation_ordinances_count:0,initiatory_ordinances_count:0,endowment_ordinances_count:0,sealing_ordinances_count:0,entry_type:"Personal",date:o(),approved:!0};let i=F({...C}),y=F({message:"",type:null});const g=()=>{N(i,{...C,date:o()}),N(y,{message:"",type:null});const h=`[data-bs-target="#${x()}"]`,X=document.querySelector(h);X&&X.click()},w=()=>{window.location.reload()},D=()=>{c()},b=()=>{N(y,{message:"",type:null})},c=async()=>{try{wt(T,!0),N(y,{message:"",type:null}),await $({prepared_names_count:a(i).prepared_names_count,baptism_ordinances_count:a(i).baptism_ordinances_count,confirmation_ordinances_count:a(i).confirmation_ordinances_count,initiatory_ordinances_count:a(i).initiatory_ordinances_count,endowment_ordinances_count:a(i).endowment_ordinances_count,sealing_ordinances_count:a(i).sealing_ordinances_count,entry_type:a(i).entry_type,date:a(i).date,created_at:new Date().toISOString(),approved:!0}),await f(),g()}catch(h){console.error("[WardGoalEntryForm] Submission failed:",h),h instanceof Error?h.message.includes("expired")||h.message.includes("JWT")?N(y,{type:"expired",message:"Your session has encountered a problem. Click the button below to refresh the app and try again."}):h.message.includes("fetch")||h.message.includes("network")?N(y,{type:"network",message:"Unable to save your entry. Please check your internet connection."}):N(y,{type:"general",message:"We couldn't save your entry. Try reloading the app to fix the issue."}):N(y,{type:"general",message:"We couldn't save your entry. Try reloading the app to fix the issue."})}finally{wt(T,!1)}};re(()=>a(i),()=>{N(u,a(i).prepared_names_count+a(i).baptism_ordinances_count+a(i).confirmation_ordinances_count+a(i).initiatory_ordinances_count+a(i).endowment_ordinances_count+a(i).sealing_ordinances_count)}),Re(),he();var v=xa(),P=t(v);{var ee=h=>{var X=ba(),ie=t(X),we=r(t(ie),2),xe=t(we),ze=t(xe);{var He=_e=>{var De=Ye("⚠️ Session Issue");k(_e,De)},vt=_e=>{var De=lt(),We=$e(De);{var et=Ee=>{var Ie=Ye("⚠️ Connection Problem");k(Ee,Ie)},tt=Ee=>{var Ie=Ye("⚠️ Something Went Wrong");k(Ee,Ie)};W(We,Ee=>{a(y),E(()=>a(y).type==="network")?Ee(et):Ee(tt,!1)},!0)}k(_e,De)};W(ze,_e=>{a(y),E(()=>a(y).type==="expired")?_e(He):_e(vt,!1)})}e(xe);var je=r(xe,2),Ve=t(je,!0);e(je);var Je=r(je,2),Ke=t(Je);{var Qe=_e=>{var De=ya();Te("click",De,D),k(_e,De)};W(Ke,_e=>{a(y),E(()=>a(y).type==="network")&&_e(Qe)})}var Ze=r(Ke,2);e(Je),e(we);var Le=r(we,2);e(ie),e(X),L(()=>{p(Ve,(a(y),E(()=>a(y).message))),Pe(Ze,1,`btn btn-${a(y),E(()=>a(y).type==="network"?"secondary":"primary")??""}`)}),Te("click",Ze,w),Te("click",Le,b),k(h,X)};W(P,h=>{a(y),E(()=>a(y).type)&&h(ee)})}var te=r(P,4),ue=r(t(te),2),pe=t(ue);{var O=h=>{var X=Ye();L(()=>p(X,`Select a date within the goal period (${m()??""} to ${_()??""})`)),k(h,X)},B=h=>{var X=Ye("When was this activity done?");k(h,X)};W(pe,h=>{m()&&_()?h(O):h(B,!1)})}e(ue);var R=r(ue,2);At(R),e(te);var H=r(te,2),J=r(t(H),4);L(()=>{a(i),Pt(()=>{})}),Ae(J,5,()=>M,Fe,(h,X)=>{var ie=ha(),we=t(ie,!0);e(ie);var xe={};L(()=>{p(we,a(X)),xe!==(xe=a(X))&&(ie.value=(ie.__value=a(X))??"")}),k(h,ie)}),e(J),e(H);var V=r(H,2);Ge(V,{label:"Temple Name Preparation Count",description:"Number of names you were able to prepare for temple ordinances",get count(){return a(i).prepared_names_count},set count(h){Oe(i,a(i).prepared_names_count=h)},$$legacy:!0});var K=r(V,2);Ge(K,{label:"Temple Baptism Ordinances Count",description:"Number of Temple Baptism Ordinances you participated in",get count(){return a(i).baptism_ordinances_count},set count(h){Oe(i,a(i).baptism_ordinances_count=h)},$$legacy:!0});var U=r(K,2);Ge(U,{label:"Temple Confirmation Ordinances Count",description:"Number of Temple Confirmation Ordinances you participated in",get count(){return a(i).confirmation_ordinances_count},set count(h){Oe(i,a(i).confirmation_ordinances_count=h)},$$legacy:!0});var oe=r(U,2);Ge(oe,{label:"Temple Initiatory Ordinances Count",description:"Number of Temple Initiatory Ordinances you did OR participated in the Temple",get count(){return a(i).initiatory_ordinances_count},set count(h){Oe(i,a(i).initiatory_ordinances_count=h)},$$legacy:!0});var ce=r(oe,2);Ge(ce,{label:"Temple Endowment Ordinances Count",description:"Number of Temple Endowment Ordinances you did OR participated in the Temple",get count(){return a(i).endowment_ordinances_count},set count(h){Oe(i,a(i).endowment_ordinances_count=h)},$$legacy:!0});var Me=r(ce,2);Ge(Me,{label:"Temple Sealing Ordinances Count",description:"Number of Temple Sealing Ordinances you did OR participated in the Temple",get count(){return a(i).sealing_ordinances_count},set count(h){Oe(i,a(i).sealing_ordinances_count=h)},$$legacy:!0});var A=r(Me,2),G=r(t(A),2),ne=t(G,!0);e(G),e(A);var Q=r(A,2),Z=t(Q),fe=r(Z,2);e(Q),e(v),L(()=>{se(R,"min",m()),se(R,"max",_()),p(ne,a(u))}),zt(R,()=>a(i).date,h=>Oe(i,a(i).date=h)),Rt(J,()=>a(i).entry_type,h=>Oe(i,a(i).entry_type=h)),Te("click",Z,g),Te("click",fe,c),k(l,v),be(),d()}var Da=I('<small class="d-flex justify-content-start"><span class="fw-bolder"> </span></small>'),Ta=I('<small class="d-flex justify-content-between"><span class="fw-lighter">Submitted</span> <span class="d-flex flex-column"><span class="fw-bolder d-flex justify-content-end"> </span> <span class="fw-lighter fs-x-small"> </span></span></small>'),$a=I('<div class="d-flex flex-column gap-2"><!> <small class="d-flex justify-content-between"><span class="fw-lighter">Names Prepared Count</span> <span class="fw-bolder"> </span></small> <small class="d-flex justify-content-between"><span class="fw-lighter">Baptism Count</span> <span class="fw-bolder"> </span></small> <small class="d-flex justify-content-between"><span class="fw-lighter">Confirmation Count</span> <span class="fw-bolder"> </span></small> <small class="d-flex justify-content-between"><span class="fw-lighter">Initiatory Count</span> <span class="fw-bolder"> </span></small> <small class="d-flex justify-content-between"><span class="fw-lighter">Endowment Count</span> <span class="fw-bolder"> </span></small> <small class="d-flex justify-content-between"><span class="fw-lighter">Sealing Count</span> <span class="fw-bolder"> </span></small> <!></div>');function mt(l,s){ye(s,!1);let n=q(s,"entry",8),d=q(s,"showSubmittedData",8,!1),u=q(s,"showType",8,!1);he();var x=$a(),m=t(x);{var _=B=>{var R=Da(),H=t(R),J=t(H,!0);e(H),e(R),L(()=>p(J,(S(n()),E(()=>n()?.entry_type)))),k(B,R)};W(m,B=>{u()&&B(_)})}var T=r(m,2),$=r(t(T),2),f=t($,!0);e($),e(T);var M=r(T,2),o=r(t(M),2),C=t(o,!0);e(o),e(M);var i=r(M,2),y=r(t(i),2),g=t(y,!0);e(y),e(i);var w=r(i,2),D=r(t(w),2),b=t(D,!0);e(D),e(w);var c=r(w,2),v=r(t(c),2),P=t(v,!0);e(v),e(c);var ee=r(c,2),te=r(t(ee),2),ue=t(te,!0);e(te),e(ee);var pe=r(ee,2);{var O=B=>{var R=Ta(),H=r(t(R),2),J=t(H),V=t(J,!0);e(J);var K=r(J,2),U=t(K,!0);e(K),e(H),e(R),L((oe,ce)=>{p(V,oe),p(U,ce)},[()=>(S(St),S(n()),E(()=>St(new Date(n().created_at),{addSuffix:!0}))),()=>(S(le),S(n()),E(()=>le(new Date(n().created_at),"MMMM d, yyyy 'at' h:mm a")))]),k(B,R)};W(pe,B=>{S(d()),S(n()),E(()=>d()&&n()?.created_at)&&B(O)})}e(x),L(()=>{p(f,(S(n()),E(()=>n()?.prepared_names_count))),p(C,(S(n()),E(()=>n()?.baptism_ordinances_count))),p(g,(S(n()),E(()=>n()?.confirmation_ordinances_count))),p(b,(S(n()),E(()=>n()?.initiatory_ordinances_count))),p(P,(S(n()),E(()=>n()?.endowment_ordinances_count))),p(ue,(S(n()),E(()=>n()?.sealing_ordinances_count)))}),k(l,x),be()}var Ma=I('<div><small class="text-muted"> </small><br/> </div> <ul class="list-group"><li class="list-group-item"><div class="d-flex flex-column gap-2"><!> <div class="d-flex flex-column gap-2"><small class="d-flex justify-content-between"><span class="fw-bolder">Total</span> <span class="fw-bolder"> </span></small></div></div></li></ul>',1);function Sa(l,s){ye(s,!1);const n=F();let d=q(s,"entry",8),u=q(s,"date",8);re(()=>S(d()),()=>{N(n,d().baptism_ordinances_count+d().confirmation_ordinances_count+d().initiatory_ordinances_count+d().endowment_ordinances_count+d().sealing_ordinances_count)}),Re(),he();var x=Ma(),m=$e(x),_=t(m),T=t(_,!0);e(_);var $=r(_,2);e(m);var f=r(m,2),M=t(f),o=t(M),C=t(o);mt(C,{get entry(){return d()}});var i=r(C,2),y=t(i),g=r(t(y),2),w=t(g,!0);e(g),e(y),e(i),e(o),e(M),e(f),L((D,b)=>{p(T,D),p($,` ${b??""}`),p(w,a(n))},[()=>(S(le),S(ge),S(u()),E(()=>le(ge(u(),"yyyy-MM-dd",new Date),"yyyy"))),()=>(S(le),S(ge),S(u()),E(()=>le(ge(u(),"yyyy-MM-dd",new Date),"MMM dd, EEEE")))]),k(l,x),be()}var ka=I('<div><small class="text-muted"> </small><br/> </div> <ul class="list-group"><li class="list-group-item"><div class="d-flex flex-column gap-2"><!> <div class="d-flex flex-column gap-2"><small class="d-flex justify-content-between"><span class="fw-bolder">Total</span> <span class="fw-bolder"> </span></small></div></div></li></ul>',1);function Ca(l,s){ye(s,!1);let n=q(s,"entry",8),d=q(s,"date",8),u=F(0);re(()=>S(n()),()=>{N(u,n().baptism_ordinances_count+n().confirmation_ordinances_count+n().initiatory_ordinances_count+n().endowment_ordinances_count+n().sealing_ordinances_count)}),Re(),he();var x=ka(),m=$e(x),_=t(m),T=t(_,!0);e(_);var $=r(_,2);e(m);var f=r(m,2),M=t(f),o=t(M),C=t(o);mt(C,{get entry(){return n()}});var i=r(C,2),y=t(i),g=r(t(y),2),w=t(g,!0);e(g),e(y),e(i),e(o),e(M),e(f),L((D,b)=>{p(T,D),p($,` ${b??""}`),p(w,a(u))},[()=>(S(le),S(ge),S(d()),E(()=>le(ge(d(),"yyyy-MM",new Date),"yyyy"))),()=>(S(le),S(ge),S(d()),E(()=>le(ge(d(),"yyyy-MM",new Date),"MMMM")))]),k(l,x),be()}var Ea=I('<div> </div> <ul class="list-group"><li class="list-group-item"><div class="d-flex flex-column gap-2"><!> <div class="d-flex flex-column gap-2"><small class="d-flex justify-content-between"><span class="fw-bolder">Total</span> <span class="fw-bolder"> </span></small></div></div></li></ul>',1);function Oa(l,s){ye(s,!1);let n=q(s,"entry",8),d=q(s,"date",8),u=F(0);re(()=>S(n()),()=>{N(u,n().baptism_ordinances_count+n().confirmation_ordinances_count+n().initiatory_ordinances_count+n().endowment_ordinances_count+n().sealing_ordinances_count)}),Re(),he();var x=Ea(),m=$e(x),_=t(m,!0);e(m);var T=r(m,2),$=t(T),f=t($),M=t(f);mt(M,{get entry(){return n()}});var o=r(M,2),C=t(o),i=r(t(C),2),y=t(i,!0);e(i),e(C),e(o),e(f),e($),e(T),L(()=>{p(_,d()),p(y,a(u))}),k(l,x),be()}var ja=I('<li class="list-group-item"><div class="d-flex flex-column gap-2"><!></div></li>'),Ia=I('<div><small class="text-muted"> </small><br/> </div> <ul class="list-group"></ul>',1);function Ba(l,s){ye(s,!1);let n=q(s,"entries",8),d=q(s,"date",8);he();var u=Ia(),x=$e(u),m=t(x),_=t(m,!0);e(m);var T=r(m,2);e(x);var $=r(x,2);Ae($,5,n,Fe,(f,M)=>{var o=ja(),C=t(o),i=t(C);mt(i,{get entry(){return a(M)},showSubmittedData:!0,showType:!0}),e(C),e(o),k(f,o)}),e($),L((f,M)=>{p(_,f),p(T,` ${M??""}`)},[()=>(S(le),S(ge),S(d()),E(()=>le(ge(d(),"yyyy-MM-dd",new Date),"yyyy"))),()=>(S(le),S(ge),S(d()),E(()=>le(ge(d(),"yyyy-MM-dd",new Date),"MMM dd, EEEE")))]),k(l,u),be()}var Na=I('<div class="d-flex flex-column gap-3"><!></div>'),Pa=I('<div class="d-flex flex-column gap-3"></div>'),Aa=I('<div class="d-flex flex-column gap-3"></div>'),Ra=I('<div class="d-flex flex-column gap-3"></div>'),Wa=I('<div class="d-flex flex-column gap-3"><!> <!> <!> <!> <!></div>');function Ga(l,s){ye(s,!1);const n=()=>Ce(f,"$groupedByDate",m),d=()=>Ce(M,"$detailTotalsByDay",m),u=()=>Ce(o,"$detailTotalsByMonth",m),x=()=>Ce(C,"$detailTotalsByYear",m),[m,_]=ct(),T=F(),{stores:{data:$,groupedByDate:f,detailTotalsByDay:M,detailTotalsByMonth:o,detailTotalsByYear:C},actions:{reload:i}}=_t();let y=q(s,"query",8,""),g=F([]),w=F([]);const D=$.subscribe(O=>{N(g,O),N(w,[...O])});function b(O){return O?O.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):""}const c=O=>{let B=[...a(g)];return O&&(B=B.filter(R=>R?.entry_type?R?.entry_type?.trim().toLowerCase().match(a(T).trim().toLowerCase()):!1)),B};kt(i),Lt(D);let v=F("by-month");const P=[{key:"By Submission",value:"by-submission"},{key:"By Day",value:"by-day"},{key:"By Month",value:"by-month"},{key:"By Year",value:"by-year"}];re(()=>S(y()),()=>{N(T,b(y()?.trim().toLowerCase()))}),re(()=>(S(y()),a(w)),()=>{y()?N(g,c(y())):N(g,[...a(w)])}),Re(),he();var ee=lt(),te=$e(ee);{var ue=O=>{var B=Wa(),R=t(B);Vt(R,{get options(){return P},helperText:"",label:"Filter",disabled:!1,get value(){return a(v)},set value(A){N(v,A)},$$legacy:!0});var H=r(R,2);{var J=A=>{var G=lt(),ne=$e(G);Ae(ne,1,()=>(n(),E(()=>Object.entries(n()))),Fe,(Q,Z)=>{var fe=at(()=>nt(a(Z),2));let h=()=>a(fe)[0],X=()=>a(fe)[1];var ie=Na(),we=t(ie);Ba(we,{get date(){return h()},get entries(){return X()}}),e(ie),k(Q,ie)}),k(A,G)};W(H,A=>{a(v)==="by-submission"&&A(J)})}var V=r(H,2);{var K=A=>{var G=Pa();Ae(G,5,()=>(d(),E(()=>Object.entries(d()))),Fe,(ne,Q)=>{var Z=at(()=>nt(a(Q),2));let fe=()=>a(Z)[0],h=()=>a(Z)[1];Sa(ne,{get date(){return fe()},get entry(){return h()}})}),e(G),k(A,G)};W(V,A=>{a(v)==="by-day"&&A(K)})}var U=r(V,2);{var oe=A=>{var G=Aa();Ae(G,5,()=>(u(),E(()=>Object.entries(u()))),Fe,(ne,Q)=>{var Z=at(()=>nt(a(Q),2));let fe=()=>a(Z)[0],h=()=>a(Z)[1];Ca(ne,{get date(){return fe()},get entry(){return h()}})}),e(G),k(A,G)};W(U,A=>{a(v)==="by-month"&&A(oe)})}var ce=r(U,2);{var Me=A=>{var G=Ra();Ae(G,5,()=>(x(),E(()=>Object.entries(x()))),Fe,(ne,Q)=>{var Z=at(()=>nt(a(Q),2));let fe=()=>a(Z)[0],h=()=>a(Z)[1];Oa(ne,{get date(){return fe()},get entry(){return h()}})}),e(G),k(A,G)};W(ce,A=>{a(v)==="by-year"&&A(Me)})}e(B),k(O,B)},pe=O=>{var B=Ye("No Data Found");k(O,B)};W(te,O=>{a(g),E(()=>a(g)?.length)?O(ue):O(pe,!1)})}k(l,ee),be(),_()}var Ya=I('<span class="d-flex justify-content-end">0</span>'),Fa=I('<span class="d-flex justify-content-end">0</span>'),La=I('<span class="d-flex justify-content-end"> </span>'),qa=I('<tr><td colspan="3" class="pt-0 pb-2"><div class="d-flex align-items-center gap-2"><div class="progress flex-grow-1" style="height: 6px;"><div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div></div> <small class="text-muted" style="font-size: 0.75rem;"> </small></div></td></tr>'),Ua=I('<span class="d-flex justify-content-end"> </span>'),Xa=I('<tr><td colspan="3" class="pt-0 pb-2"><div class="d-flex align-items-center gap-2"><div class="progress flex-grow-1" style="height: 6px;"><div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div></div> <small class="text-muted" style="font-size: 0.75rem;"> </small></div></td></tr>'),za=I('<div class="card"><div class="card-header svelte-kypz17"> <span class="text-muted fw-light"> </span></div> <div class="card-body"><div class="d-flex flex-column gap-2"><div class="table-responsive"><table class="table"><thead><tr><th scope="col"></th><th scope="col"><span class="d-flex justify-content-end">Goal</span></th><th scope="col"><span class="d-flex justify-content-end">Actual</span></th></tr></thead><tbody><tr><td><span class="fw-lighter">Baptisms</span></td><td><span class="d-flex justify-content-end"> </span></td><td><!></td></tr><tr><td><span class="fw-lighter">Family Sealing</span></td><td><span class="d-flex justify-content-end"> </span></td><td><!></td></tr><tr><td><span class="fw-lighter">Temple Ordinances</span></td><td><span class="d-flex justify-content-end"> </span></td><td><!></td></tr><!><tr><td><span class="fw-lighter">Names Prepared for Temple Ordinances</span></td><td><span class="d-flex justify-content-end"> </span></td><td><!></td></tr><!></tbody></table></div> <div class="d-block"><button class="btn btn-sm btn-primary w-100" type="button" data-bs-toggle="offcanvas">Submit your temple activity</button></div> <div class="d-block"><button class="btn btn-sm btn-link w-100" type="button" data-bs-toggle="offcanvas">See all submissions</button></div></div></div></div>');function Ha(l,s){ye(s,!1);const n=()=>Ce(g,"$entries",u),d=()=>Ce(w,"$loading",u),[u,x]=ct(),m=F(),_=F(),T=F(),$=F(),f=F(),M=F();let o=q(s,"goal",8),C=q(s,"drawerId",8),i=q(s,"onSubmitClick",8),y=q(s,"onViewResultsClick",8);const{stores:{data:g,loading:w}}=_t();function D(j,Y){const[me,ve,Se]=j.split("-").map(Number),[Be,Ne,qe]=Y.split("-").map(Number),Ue=new Date(me,ve-1,Se),It=new Date(Be,Ne-1,qe),Bt=Ue.toLocaleDateString("en-US",{month:"short"}),Nt=It.toLocaleDateString("en-US",{month:"short"});return`${Bt} to ${Nt}`}function b(j){return j.toLocaleString("en-US")}function c(j){return j!==null?b(j):"--"}re(()=>(n(),S(o())),()=>{N(m,ra(n(),o().start_date,o().end_date))}),re(()=>a(m),()=>{N(_,sa(a(m)))}),re(()=>a(m),()=>{N(T,oa(a(m)))}),re(()=>S(o()),()=>{N($,D(o().start_date,o().end_date))}),re(()=>(S(o()),a(_)),()=>{N(f,o().temple_ordinances_goal&&o().temple_ordinances_goal>0?Math.round(a(_)/o().temple_ordinances_goal*100):null)}),re(()=>(S(o()),a(T)),()=>{N(M,o().names_prepared_goal&&o().names_prepared_goal>0?Math.round(a(T)/o().names_prepared_goal*100):null)}),Re(),he();var v=za(),P=t(v),ee=t(P),te=r(ee),ue=t(te);e(te),e(P);var pe=r(P,2),O=t(pe),B=t(O),R=t(B),H=r(t(R)),J=t(H),V=r(t(J)),K=t(V),U=t(K,!0);e(K),e(V);var oe=r(V),ce=t(oe);{var Me=j=>{var Y=Ya();k(j,Y)};W(ce,j=>{d()||j(Me)})}e(oe),e(J);var A=r(J),G=r(t(A)),ne=t(G),Q=t(ne,!0);e(ne),e(G);var Z=r(G),fe=t(Z);{var h=j=>{var Y=Fa();k(j,Y)};W(fe,j=>{d()||j(h)})}e(Z),e(A);var X=r(A),ie=t(X);let we;var xe=r(ie);let ze;var He=t(xe),vt=t(He,!0);e(He),e(xe);var je=r(xe);let Ve;var Je=t(je);{var Ke=j=>{var Y=La(),me=t(Y,!0);e(Y),L(ve=>p(me,ve),[()=>(a(_),E(()=>b(a(_))))]),k(j,Y)};W(Je,j=>{d()||j(Ke)})}e(je),e(X);var Qe=r(X);{var Ze=j=>{var Y=qa(),me=t(Y),ve=t(me),Se=t(ve),Be=t(Se);e(Se);var Ne=r(Se,2),qe=t(Ne);e(Ne),e(ve),e(me),e(Y),L(Ue=>{Dt(Be,`width: ${Ue??""}%`),se(Be,"aria-valuenow",a(f)),p(qe,`${a(f)??""}%`)},[()=>(a(f),E(()=>Math.min(a(f),100)))]),k(j,Y)};W(Qe,j=>{a(f),S(o()),E(()=>a(f)!==null&&o().temple_ordinances_goal)&&j(Ze)})}var Le=r(Qe),_e=t(Le);let De;var We=r(_e);let et;var tt=t(We),Ee=t(tt,!0);e(tt),e(We);var Ie=r(We);let yt;var Ct=t(Ie);{var Et=j=>{var Y=Ua(),me=t(Y,!0);e(Y),L(ve=>p(me,ve),[()=>(a(T),E(()=>b(a(T))))]),k(j,Y)};W(Ct,j=>{d()||j(Et)})}e(Ie),e(Le);var Ot=r(Le);{var jt=j=>{var Y=Xa(),me=t(Y),ve=t(me),Se=t(ve),Be=t(Se);e(Se);var Ne=r(Se,2),qe=t(Ne);e(Ne),e(ve),e(me),e(Y),L(Ue=>{Dt(Be,`width: ${Ue??""}%`),se(Be,"aria-valuenow",a(M)),p(qe,`${a(f)??""}%`)},[()=>(a(M),E(()=>Math.min(a(M),100)))]),k(j,Y)};W(Ot,j=>{a(M),S(o()),E(()=>a(M)!==null&&o().names_prepared_goal)&&j(jt)})}e(H),e(R),e(B);var pt=r(B,2),ft=t(pt);e(pt);var bt=r(pt,2),gt=t(bt);e(bt),e(O),e(pe),e(v),L((j,Y,me,ve)=>{p(ee,`Ward Mission Goal ${S(o()),E(()=>o().year)??""} `),p(ue,`(${a($)??""})`),p(U,j),p(Q,Y),we=Pe(ie,1,"",null,we,{"border-bottom-0":a(f)!==null&&o().temple_ordinances_goal}),ze=Pe(xe,1,"",null,ze,{"border-bottom-0":a(f)!==null&&o().temple_ordinances_goal}),p(vt,me),Ve=Pe(je,1,"",null,Ve,{"border-bottom-0":a(f)!==null&&o().temple_ordinances_goal}),De=Pe(_e,1,"",null,De,{"border-bottom-0":a(M)!==null&&o().names_prepared_goal}),et=Pe(We,1,"",null,et,{"border-bottom-0":a(M)!==null&&o().names_prepared_goal}),p(Ee,ve),yt=Pe(Ie,1,"",null,yt,{"border-bottom-0":a(M)!==null&&o().names_prepared_goal}),se(ft,"data-bs-target",`#${C()??""}`),se(ft,"aria-controls",C()),se(gt,"data-bs-target",`#${C()??""}`),se(gt,"aria-controls",C())},[()=>(S(o()),E(()=>c(o().baptisms_goal))),()=>(S(o()),E(()=>c(o().family_sealings_goal))),()=>(S(o()),E(()=>c(o().temple_ordinances_goal))),()=>(S(o()),E(()=>c(o().names_prepared_goal)))]),Te("click",ft,function(...j){i()?.apply(this,j)}),Te("click",gt,function(...j){y()?.apply(this,j)}),k(l,v),be(),x()}var Va=I("<!> <!>",1),Ja=I('<div class="text-center py-5"><div class="spinner-border" role="status"><span class="visually-hidden">Loading goals...</span></div></div>'),Ka=I('<div class="alert alert-info" role="alert"><h5 class="alert-heading">No Goals Configured</h5> <p class="mb-0">No ward mission goals have been configured yet. Please contact an admin to set up goals.</p></div>'),Qa=I('<button style="display: none;" data-bs-toggle="offcanvas" aria-label="Goal Details"></button>'),Za=I('<div class="col-12"><!> <!></div>'),en=I('<div class="row g-3"></div>'),tn=I("<!> <!>",1);function Dn(l,s){ye(s,!1);const n=()=>Ce(y,"$activeGoals",x),d=()=>Ce(w,"$currentGoalPeriod",x),u=()=>Ce(g,"$goalsLoading",x),[x,m]=ct(),_=F(),T=F();let $=F("form"),f=Ut(),M=F("end"),o=F(),C=F(!1);const{actions:{reload:i}}=_t(),{stores:{activeGoals:y,loading:g,currentGoalPeriod:w},actions:{reload:D}}=Ht();let b=F(null);function c(){N($,"form")}function v(){N($,"results")}kt(async()=>{await Promise.all([D(),i()]);const O=new URLSearchParams(window.location.search);N(b,O.get("log-temple-activity"))}),re(()=>(a(b),a(o),a(C)),()=>{a(b)&&a(b)==="yes"&&a(o)&&!a(C)&&(a(o).click(),N(C,!0))}),re(()=>a($),()=>{N(M,a($)==="form"?"end":"start")}),re(()=>a($),()=>{N(_,a($)==="form"?"Temple Activity":"Temple Activity Results")}),re(()=>n(),()=>{N(T,(()=>{const O=new Date().toISOString().split("T")[0];return n().filter(B=>B.start_date<=O&&B.end_date>=O)})())}),Re(),he();var P=tn(),ee=$e(P);Xt(ee,{get placement(){return a(M)},get title(){return a(_)},get id(){return f},children:(O,B)=>{var R=Va(),H=$e(R);{var J=U=>{{let oe=ht(()=>(d(),E(()=>d()?.start_date))),ce=ht(()=>(d(),E(()=>d()?.end_date)));wa(U,{get drawerId(){return f},get minDate(){return a(oe)},get maxDate(){return a(ce)}})}};W(H,U=>{a($)==="form"&&U(J)})}var V=r(H,2);{var K=U=>{Ga(U,{})};W(V,U=>{a($)==="results"&&U(K)})}k(O,R)},$$slots:{default:!0}});var te=r(ee,2);{var ue=O=>{var B=Ja();k(O,B)},pe=O=>{var B=lt(),R=$e(B);{var H=V=>{var K=Ka();k(V,K)},J=V=>{var K=en();Ae(K,5,()=>a(T),U=>U.id,(U,oe)=>{var ce=Za(),Me=t(ce);Ha(Me,{get goal(){return a(oe)},get drawerId(){return f},onSubmitClick:c,onViewResultsClick:v});var A=r(Me,2);{var G=ne=>{var Q=Qa();qt(Q,Z=>N(o,Z),()=>a(o)),L(()=>{se(Q,"data-bs-target",`#${f??""}`),se(Q,"aria-controls",f)}),Te("click",Q,c),k(ne,Q)};W(A,ne=>{a(oe),a(T),E(()=>a(oe)===a(T)[0])&&ne(G)})}e(ce),k(U,ce)}),e(K),k(V,K)};W(R,V=>{a(T),E(()=>a(T).length===0)?V(H):V(J,!1)},!0)}k(O,B)};W(te,O=>{u()?O(ue):O(pe,!1)})}k(l,P),be(),m()}export{hn as S,xn as W,Dn as a,bn as b,wn as i};
