import"./NZTpNUN0.js";import"./69_IOA4Y.js";import{p as aa,al as ta,at as ra,f as E,a as ea,c as s,s as k,D as sa,g as a,r,F as Z,t as w,an as la}from"./CPOcesE7.js";import{i as I,s as z,e as oa,a as na,b as X}from"./opPvMm1W.js";import{f as u,a as d,c as Y}from"./YsHTGu5k.js";import{i as ia}from"./C2Q_9cr2.js";import{i as da,c as y,g as va}from"./BznYGp8U.js";import{o as ba}from"./DHXte27T.js";import{e as q,i as B}from"./DAwrR-3T.js";import{s as m}from"./DPUpi__n.js";import{p as ca}from"./DxgByA-W.js";var pa=u("<a> </a>"),ua=u('<div><button type="button" data-bs-toggle="collapse" data-bs-parent="#desktop-nav-root"><span> </span> <i class="bi bi-chevron-right chevron svelte-h0bmr6"></i></button> <div data-bs-parent="#desktop-nav-root"><div class="list-group list-group-flush ms-3 svelte-h0bmr6"></div></div></div>'),ga=u("<a> </a>"),ma=u('<button type="button" data-bs-toggle="collapse"><span> </span> <i class="bi bi-chevron-right chevron svelte-h0bmr6"></i></button>'),fa=u("<a> </a>"),ha=u("<a> </a>"),_a=u('<div data-bs-parent="#mobile-nav-root"><div class="card shadow-sm bg-body-tertiary border border-secondary-subtle text-body"><div class="list-group list-group-flush svelte-h0bmr6"></div></div></div>'),xa=u('<div class="d-none d-md-block d-print-none mt-3" id="desktop-nav-root"><div class="d-flex flex-column gap-2"></div></div> <div class="d-flex flex-column gap-3 d-md-none d-print-none mt-3" id="mobile-nav-root"><div class="card shadow-sm bg-body-tertiary border border-secondary-subtle text-body"><div class="list-group list-group-flush svelte-h0bmr6"></div></div> <!></div>',1);function ya(Q,V){aa(V,!0);let $=ta(ra([]));ba(()=>{sa($,da(),!0)});function T(i){return`collapse-${i.toLowerCase().replace(/\s+/g,"-")}`}function U(i){return i?i==="/"?i:i.replace(/\/+$/,"")||"/":null}const b=i=>{if(!i)return!1;const e=U(i.url);return e&&e===a(W)?!0:i.children?.some(p=>b(p))??!1};let W=la(()=>U(ca.url.pathname)??"/");var G=xa(),M=E(G),J=s(M);q(J,21,()=>a($),B,(i,e,p)=>{var L=Y(),N=E(L);{var h=l=>{var o=ua();let c;var t=s(o);let n;var g=s(t),_=s(g,!0);r(g),Z(2),r(t);var f=k(t,2);let P;var F=s(f);q(F,21,()=>a(e).children,B,(R,A)=>{var x=pa();let j;var C=s(x,!0);r(x),w(S=>{m(x,"href",a(A).url??"#"),j=y(x,1,"list-group-item list-group-item-action border-0 ps-3 fw-semibold svelte-h0bmr6",null,j,S),z(C,a(A).label)},[()=>({active:b(a(A))})]),d(R,x)}),r(F),r(f),r(o),w((R,A,x,j,C,S)=>{c=y(o,1,"",null,c,{"mb-3":p>0&&!a($)[p-1]?.children}),n=y(t,1,"btn border border-secondary-subtle border-opacity-25 text-body w-100 text-start d-flex align-items-center justify-content-between gap-2 fw-semibold rounded-3 py-2 px-3 shadow-sm collapsed nav-btn svelte-h0bmr6",null,n,R),m(t,"data-bs-target",A),m(t,"aria-expanded",x),m(t,"aria-controls",j),z(_,a(e).label),P=y(f,1,"collapse mt-2",null,P,C),m(f,"id",S)},[()=>({active:b(a(e))}),()=>`#${T(a(e).label)}-desktop`,()=>b(a(e)),()=>`${T(a(e).label)}-desktop`,()=>({show:b(a(e))}),()=>`${T(a(e).label)}-desktop`]),d(l,o)},v=l=>{var o=ga();let c;var t=s(o,!0);r(o),w(n=>{m(o,"href",a(e).url??"#"),c=y(o,1,"btn border border-secondary-subtle border-opacity-25 text-body w-100 text-start d-flex align-items-center gap-2 fw-semibold rounded-3 py-2 px-3 shadow-sm nav-btn svelte-h0bmr6",null,c,n),z(t,a(e).label)},[()=>({active:b(a(e)),"mb-3":p>0&&!a($)[p-1]?.children})]),d(l,o)};I(N,l=>{a(e).children&&a(e).children.length>0?l(h):l(v,!1)})}d(i,L)}),r(J),r(M);var K=k(M,2),H=s(K),D=s(H);q(D,21,()=>a($),B,(i,e)=>{var p=Y(),L=E(p);{var N=v=>{var l=ma();let o;var c=s(l),t=s(c,!0);r(c),Z(2),r(l),w((n,g,_,f)=>{o=y(l,1,"list-group-item list-group-item-action nav-mobile-parent d-flex align-items-center justify-content-between gap-2 fw-semibold collapsed small svelte-h0bmr6",null,o,n),m(l,"data-bs-target",g),m(l,"aria-expanded",_),m(l,"aria-controls",f),z(t,a(e).label)},[()=>({active:b(a(e))}),()=>`#${T(a(e).label)}-mobile`,()=>b(a(e)),()=>`${T(a(e).label)}-mobile`]),d(v,l)},h=v=>{var l=fa();let o;var c=s(l,!0);r(l),w(t=>{m(l,"href",a(e).url??"#"),o=y(l,1,"list-group-item list-group-item-action nav-mobile-parent d-flex align-items-center gap-2 fw-semibold svelte-h0bmr6",null,o,t),z(c,a(e).label)},[()=>({active:b(a(e))})]),d(v,l)};I(L,v=>{a(e).children&&a(e).children.length>0?v(N):v(h,!1)})}d(i,p)}),r(D),r(H);var O=k(H,2);q(O,17,()=>a($),B,(i,e)=>{var p=Y(),L=E(p);{var N=h=>{var v=_a();let l;var o=s(v),c=s(o);q(c,21,()=>a(e).children,B,(t,n)=>{var g=ha();let _;var f=s(g,!0);r(g),w(P=>{m(g,"href",a(n).url??"#"),_=y(g,1,"list-group-item list-group-item-action fw-semibold svelte-h0bmr6",null,_,P),z(f,a(n).label)},[()=>({active:b(a(n))})]),d(t,g)}),r(c),r(o),r(v),w((t,n)=>{l=y(v,1,"collapse mt-1",null,l,t),m(v,"id",n)},[()=>({show:b(a(e))}),()=>`${T(a(e).label)}-mobile`]),d(h,v)};I(L,h=>{a(e).children&&a(e).children.length>0&&h(N)})}d(i,p)}),r(K),d(Q,G),ea()}var wa=u('<i class="bi bi-sun"></i>'),ka=u('<i class="bi bi-moon"></i>'),$a=u('<span class="text-muted fw-lighter small"> </span>'),Ta=u('<div class="btn-group"><button type="button" class="btn btn-link dropdown-toggle svelte-17g6nza" data-bs-toggle="dropdown" data-bs-display="static" aria-expanded="false" aria-label="User menu"><i class="bi bi-person"></i></button> <ul class="dropdown-menu dropdown-menu-end dropdown-menu-start"><li class="dropdown-item"><div class="d-flex justify-content-start gap-2"><i class="bi bi-person"></i> <div><span class="d-block"> </span> <!></div></div></li> <li><hr class="dropdown-divider"/></li> <li><a class="dropdown-item" href="/auth/logout"><span class="d-flex justify-content-start gap-2"><i class="bi bi-box-arrow-in-right"></i> <span>Logout</span></span></a></li></ul></div>'),La=u('<a class="btn btn-link d-inline" href="/auth/login" aria-label="Log in"><i class="bi bi-box-arrow-in-left"></i></a>'),ja=u('<nav data-item="header" class="app-navigation navbar bg-body-tertiary border-bottom border-secondary-subtle border-opacity-25 d-print-none svelte-17g6nza"><div class="container-fluid px-3 px-lg-5"><a href="/home" class="d-flex align-items-center gap-2 text-decoration-none"><img src="/assets/logo.png" alt="logo" class="logo svelte-17g6nza"/> <div class="navbar-brand mb-0 h1">Lehi Tolutaha</div></a> <div class="d-flex"><button class="btn btn-link" type="button" aria-label="Toggle dark mode"><!></button> <button class="btn btn-link d-md-none" type="button" data-bs-toggle="collapse" data-bs-target="#mini-menu" aria-expanded="false" aria-controls="mini-menu" aria-label="Toggle navigation menu"><i class="bi bi-list"></i></button> <!></div></div></nav> <div class="container-fluid collapse mt-md-5 mt-lg-5 px-3" id="mini-menu"><!></div>',1);function Ra(Q,V){aa(V,!1);const $=()=>X(G,"$darkTheme",b),T=()=>X(J,"$authenticated",b),U=()=>X(M,"$currentUser",b),[b,W]=na(),{stores:{darkTheme:G,currentUser:M,authenticated:J},actions:{toggleTheme:K}}=va();ia();var H=ja(),D=E(H),O=s(D),i=k(s(O),2),e=s(i),p=s(e);{var L=t=>{var n=wa();d(t,n)},N=t=>{var n=ka();d(t,n)};I(p,t=>{$()?t(L):t(N,!1)})}r(e);var h=k(e,4);{var v=t=>{var n=Ta(),g=k(s(n),2),_=s(g),f=s(_),P=k(s(f),2),F=s(P),R=s(F,!0);r(F);var A=k(F,2);{var x=j=>{var C=$a(),S=s(C);r(C),w(()=>z(S,`@${U().roles[0]??""}`)),d(j,C)};I(A,j=>{U().roles&&U().roles.length>0&&j(x)})}r(P),r(f),r(_),Z(4),r(g),r(n),w(()=>z(R,U().username)),d(t,n)},l=t=>{var n=La();d(t,n)};I(h,t=>{T()?t(v):t(l,!1)})}r(i),r(O),r(D);var o=k(D,2),c=s(o);ya(c,{}),r(o),oa("click",e,K),d(Q,H),ea(),W()}export{Ra as H,ya as N};
