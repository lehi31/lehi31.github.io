import{I as k,P as G,Q as P,N as b,j as m,G as Q,k as j,d as V,R as ee,U as re,V as fe,W as Y,X as O,L as H,Y as W,Z as ne,_ as U,A as ae,a0 as T,a1 as L,a2 as ie,a3 as X,E as le,a4 as y,a5 as ue,a6 as se,a7 as oe,a8 as te,a9 as Z,aa as J,ab as F,q as de,ac as z,ad as ve,ae as ce,af as pe,ag as ge}from"./DkHtKwEy.js";function Te(r,f){return f}function _e(r,f,i){for(var t=[],p=f.length,n,s=f.length,g=0;g<p;g++){let h=f[g];J(h,()=>{if(n){if(n.pending.delete(h),n.done.add(h),n.pending.size===0){var o=r.outrogroups;q(y(n.done)),o.delete(n),o.size===0&&(r.outrogroups=null)}}else s-=1},!1)}if(s===0){var l=t.length===0&&i!==null;if(l){var d=i,a=d.parentNode;ce(a),a.append(d),r.items.clear()}q(f,!l)}else n={pending:new Set(f),done:new Set},(r.outrogroups??=new Set).add(n)}function q(r,f=!0){for(var i=0;i<r.length;i++)pe(r[i],f)}var B;function Ae(r,f,i,t,p,n=null){var s=r,g=new Map,l=(f&P)!==0;if(l){var d=r;s=m?b(Q(d)):d.appendChild(k())}m&&j();var a=null,h=ee(()=>{var u=i();return ue(u)?u:u==null?[]:y(u)}),o,c=!0;function C(){e.fallback=a,he(e,o,s,f,t),a!==null&&(o.length===0?a.f&T?(a.f^=T,M(a,null,s)):Z(a):J(a,()=>{a=null}))}var N=G(()=>{o=V(h);var u=o.length;let S=!1;if(m){var x=re(s)===fe;x!==(u===0)&&(s=Y(),b(s),O(!1),S=!0)}for(var E=new Set,w=ae,R=ie(),_=0;_<u;_+=1){m&&H.nodeType===W&&H.data===ne&&(s=H,S=!0,O(!1));var I=o[_],D=t(I,_),v=c?null:g.get(D);v?(v.v&&U(v.v,I),v.i&&U(v.i,_),R&&w.skipped_effects.delete(v.e)):(v=Ee(g,c?s:B??=k(),I,D,_,p,f,i),c||(v.e.f|=T),g.set(D,v)),E.add(D)}if(u===0&&n&&!a&&(c?a=L(()=>n(s)):(a=L(()=>n(B??=k())),a.f|=T)),m&&u>0&&b(Y()),!c)if(R){for(const[K,$]of g)E.has(K)||w.skipped_effects.add($.e);w.oncommit(C),w.ondiscard(()=>{})}else C();S&&O(!0),V(h)}),e={effect:N,items:g,outrogroups:null,fallback:a};c=!1,m&&(s=H)}function he(r,f,i,t,p){var n=(t&ve)!==0,s=f.length,g=r.items,l=r.effect.first,d,a=null,h,o=[],c=[],C,N,e,u;if(n)for(u=0;u<s;u+=1)C=f[u],N=p(C,u),e=g.get(N).e,e.f&T||(e.nodes?.a?.measure(),(h??=new Set).add(e));for(u=0;u<s;u+=1){if(C=f[u],N=p(C,u),e=g.get(N).e,r.outrogroups!==null)for(const v of r.outrogroups)v.pending.delete(e),v.done.delete(e);if(e.f&T)if(e.f^=T,e===l)M(e,null,i);else{var S=a?a.next:l;e===r.effect.last&&(r.effect.last=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),A(r,a,e),A(r,e,S),M(e,S,i),a=e,o=[],c=[],l=a.next;continue}if(e.f&F&&(Z(e),n&&(e.nodes?.a?.unfix(),(h??=new Set).delete(e))),e!==l){if(d!==void 0&&d.has(e)){if(o.length<c.length){var x=c[0],E;a=x.prev;var w=o[0],R=o[o.length-1];for(E=0;E<o.length;E+=1)M(o[E],x,i);for(E=0;E<c.length;E+=1)d.delete(c[E]);A(r,w.prev,R.next),A(r,a,w),A(r,R,x),l=x,a=R,u-=1,o=[],c=[]}else d.delete(e),M(e,l,i),A(r,e.prev,e.next),A(r,e,a===null?r.effect.first:a.next),A(r,a,e),a=e;continue}for(o=[],c=[];l!==null&&l!==e;)(d??=new Set).add(l),c.push(l),l=l.next;if(l===null)continue}e.f&T||o.push(e),a=e,l=e.next}if(r.outrogroups!==null){for(const v of r.outrogroups)v.pending.size===0&&(q(y(v.done)),r.outrogroups?.delete(v));r.outrogroups.size===0&&(r.outrogroups=null)}if(l!==null||d!==void 0){var _=[];if(d!==void 0)for(e of d)e.f&F||_.push(e);for(;l!==null;)!(l.f&F)&&l!==r.fallback&&_.push(l),l=l.next;var I=_.length;if(I>0){var D=t&P&&s===0?i:null;if(n){for(u=0;u<I;u+=1)_[u].nodes?.a?.measure();for(u=0;u<I;u+=1)_[u].nodes?.a?.fix()}_e(r,_,D)}}n&&de(()=>{if(h!==void 0)for(e of h)e.nodes?.a?.apply()})}function Ee(r,f,i,t,p,n,s,g){var l=s&se?s&oe?X(i):le(i,!1,!1):null,d=s&te?X(p):null;return{v:l,i:d,e:L(()=>(n(f,l??i,d??p,g),()=>{r.delete(t)}))}}function M(r,f,i){if(r.nodes)for(var t=r.nodes.start,p=r.nodes.end,n=f&&!(f.f&T)?f.nodes.start:i;t!==null;){var s=z(t);if(n.before(t),t===p)return;t=s}}function A(r,f,i){f===null?r.effect.first=i:f.next=i,i===null?r.effect.last=f:i.prev=f}function Ce(r,f){let i=null,t=m;var p;if(m){i=H;for(var n=Q(document.head);n!==null&&(n.nodeType!==W||n.data!==r);)n=z(n);if(n===null)O(!1);else{var s=z(n);n.remove(),b(s)}}m||(p=document.head.appendChild(k()));try{G(()=>f(p),ge)}finally{t&&(O(!0),b(i))}}export{Ae as e,Ce as h,Te as i};
