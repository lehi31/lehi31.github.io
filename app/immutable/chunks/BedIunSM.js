const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./tUu8UEjF.js","./C2hsME61.js"])))=>i.map(i=>d[i]);
import{_ as Ht}from"./CmsKOCeN.js";import"./NZTpNUN0.js";import"./69_IOA4Y.js";import{o as Kt}from"./DB0qkhVq.js";import{p as Vt,ah as pe,g as e,ai as Jt,f as Qe,s as i,a as Wt,E as K,R as $e,u as r,D as E,c as s,r as a,t as A,F as pt,o as z}from"./D2Wl5k_M.js";import{a as Xe,i as $,b as Zt,e as U,s as y}from"./Dp64CMOB.js";import{e as Be,i as _t}from"./DrikPB-j.js";import{g as Gt,a as et,b as Ae,B as Qt,C as Xt,h as ea,t as ta}from"./oGHNZfsf.js";import{f as u,a as v,c as mt}from"./DfqsuKYE.js";import{r as aa,i as ft,c as ra,s as ne,d as bt,e as sa}from"./DQG7ZT7M.js";import{d as na,P as tt,e as _e,p as me,h as Re,A as ia}from"./qUE-nNH0.js";import{s as la}from"./CdEA5IGF.js";import{i as oa}from"./CPbJ_PqI.js";import{R as Se}from"./DPizCJj8.js";import{S as da}from"./AGB-_hs9.js";import{v as va,D as ca}from"./DF0IcKPy.js";var ua=u('<div class="d-flex justify-content-center align-items-center py-5"><!></div>'),pa=u('<span class="d-md-none">Refreshing…</span> <span class="d-none d-md-inline ms-1">Refreshing…</span>',1),_a=u("<option> </option>"),ma=u("<option> </option>"),fa=u('<div class="py-5 text-center text-muted">No submissions match your current filters.</div>'),ba=u('<div class="description-preview text-muted small mb-1 svelte-1pku71x"> </div>'),ya=u("<span> </span>"),ga=u('<span class="badge rounded-pill bg-secondary-subtle text-secondary-emphasis">Uncategorized</span>'),xa=u('<span><i class="bi bi-geo-alt"></i> </span>'),ha=u('<span><i class="bi bi-arrow-repeat"></i> </span>'),wa=u('<span><i class="bi bi-calendar3"></i> </span>'),ka=u('<div class="approvals-card text-start svelte-1pku71x" role="button" tabindex="0"><div class="d-flex justify-content-between align-items-start gap-3 mb-1"><div><div class="fw-semibold"> </div> <div class="text-muted small"> </div></div> <div class="d-flex align-items-center gap-2 flex-shrink-0"><span class="badge bg-light text-dark"> </span> <button class="btn btn-sm btn-primary d-flex align-items-center gap-1" type="button" title="Review and approve this submission"><i class="bi bi-clipboard-check"></i> <span class="d-none d-sm-inline">Review</span></button></div></div> <!> <div class="d-flex flex-wrap align-items-center gap-2 small text-muted mb-1"><!> <!> <!></div> <div class="d-flex flex-wrap align-items-center gap-2 small text-muted mb-1"><span><i class="bi bi-clock"></i> </span> <!></div> <div class="d-flex flex-wrap gap-1"><span><i></i> </span></div></div>'),$a=u('<div class="d-flex flex-column gap-3"></div>'),Aa=u(`<div class="approvals-page d-flex flex-column gap-4 svelte-1pku71x"><div class="d-flex flex-column gap-3"><div class="d-flex flex-column flex-sm-row align-items-stretch align-items-sm-center justify-content-end gap-2"><button class="btn btn-outline-secondary btn-sm"><i></i> <span class="d-none d-md-inline"> </span> <!></button></div></div> <div class="d-flex flex-column gap-3"><div class="d-flex flex-column gap-2"><div class="d-flex flex-column flex-lg-row align-items-lg-center gap-3"><div class="input-group input-group-sm approvals-search flex-grow-1 svelte-1pku71x"><input class="form-control" type="search" placeholder="Search title, submitter, or category"/></div> <div class="d-flex flex-column flex-sm-row gap-2"><div class="filter-select svelte-1pku71x"><select class="form-select form-select-sm"></select></div> <div class="filter-select svelte-1pku71x"><select class="form-select form-select-sm"></select></div></div></div> <div class="text-muted small"><i class="bi bi-info-circle me-1"></i>Click any card or use the "Review" button to view
					details and update approval status.</div></div> <!></div></div>`),Ra=u('<span class="badge bg-info-subtle text-info-emphasis"><i class="bi bi-globe me-1"></i>Public</span>'),Sa=u('<span class="badge bg-secondary-subtle text-secondary-emphasis"><i class="bi bi-lock me-1"></i>Private</span>'),Ea=u('<span class="badge bg-light text-dark ms-1">All Day</span>'),Fa=u('<span class="text-muted small"> </span>'),Ta=u('<div><div class="text-muted text-uppercase small">Event Date</div> <div class=" d-flex justify-content-end"> <!> <!></div></div>'),Ia=u('<div><div class="text-muted text-uppercase small">Location</div> <div class=" d-flex justify-content-end"><i class="bi bi-geo-alt me-1"></i> </div></div>'),Da=u('<span class="text-muted small"> </span>'),Pa=u('<div><div class="text-muted text-uppercase small">Recurrence</div> <div><i class="bi bi-arrow-repeat me-1"></i> <!></div></div>'),Oa=u('<div class="drawer-description svelte-1pku71x"><div class="text-muted text-uppercase small mb-1">Description</div> <div><!></div></div>'),Ma=u('<div class="drawer-attachment-image-container svelte-1pku71x"><button type="button" class="drawer-attachment-image-button svelte-1pku71x"><img class="drawer-attachment-image svelte-1pku71x"/></button> <div class="small text-muted text-truncate" style="max-width: 200px;"> </div></div>'),ja=u('<button type="button" class="btn btn-sm btn-primary d-flex align-items-center gap-2"><i class="bi bi-file-earmark"></i> <span class="text-truncate" style="max-width: 150px;"> </span> <small class="text-muted"> </small></button>'),za=u('<div><div class="text-muted text-uppercase small mb-2"><i class="bi bi-paperclip me-1"></i> </div> <div class="d-flex flex-wrap gap-2"></div></div>'),Ba=u('<div class="d-flex flex-column gap-4"><div><div class="text-muted text-uppercase small">Submitted By</div> <div class="fw-semibold d-flex justify-content-end"> </div> <div class="text-muted small d-flex justify-content-end"> </div></div> <div class="drawer-detail-grid svelte-1pku71x"><div><div class="text-muted text-uppercase small">Type</div> <div class=" d-flex justify-content-end"> </div></div> <div><div class="text-muted text-uppercase small">Organization</div> <div class=" d-flex justify-content-end"> </div></div> <div><div class="text-muted text-uppercase small">Visibility</div> <div class=" d-flex justify-content-end"><!></div></div> <!> <!> <!></div> <!> <!> <!></div>'),Ca=u('<div class="d-flex flex-column gap-3"><div class="btn-group" role="group" aria-label="View mode"><button type="button"><i class="bi bi-eye me-1"></i>View & Approve</button> <button type="button"><i class="bi bi-pencil me-1"></i>Edit Details</button></div> <!></div>'),La=u('<div class="text-muted">Select a submission to review.</div>'),Na=u('<div class="d-flex justify-content-end"><button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="offcanvas">Close</button></div>'),Ua=u("<!> <!>",1);function nr(yt,gt){Vt(gt,!1);const at=()=>Xe(kt,"$dbData",Le),Ce=()=>Xe($t,"$currentUserHasPermission",Le),xt=()=>Xe(wt,"$ready",Le),[Le,ht]=Zt(),rt=K(),st=K(),nt=K(),{stores:{ready:wt,dbData:kt},actions:{reload:Ne}}=Gt(),{stores:{currentUserHasPermission:$t}}=na();let X=K(!1),ie=K(!1),fe=K([]),Ee=K([]),n=K(null),le=K(null);const Ue=va();let qe=null;const At={approved:"var(--bs-success)",pending:"var(--bs-warning)",needs_review:"var(--bs-info)",published:"var(--bs-primary)"},Rt={pending:{text:"Awaiting Approval",class:"bg-warning-subtle text-warning-emphasis",icon:"bi-hourglass-split"},needs_review:{text:"Needs Submitter Review",class:"bg-info-subtle text-info-emphasis",icon:"bi-pencil"},approved:{text:"Approved",class:"bg-success-subtle text-success-emphasis",icon:"bi-check-circle"},published:{text:"Published",class:"bg-primary-subtle text-primary-emphasis",icon:"bi-globe"}},Ye={pending:"Pending",needs_review:"Needs Submitter Review",approved:"Approved"},St=[{value:"all",label:"All Statuses"},{value:"pending",label:Ye.pending},{value:"needs_review",label:Ye.needs_review},{value:"approved",label:Ye.approved}],Et=[{value:"all",label:"Events & Announcements"},{value:"events",label:"Events only"},{value:"announcements",label:"Announcements only"}];let w=K({search:"",statusFilter:"all",typeFilter:"all"});Kt(async()=>{E(X,!0),await Ne(),E(X,!1),typeof window<"u"&&(qe=(await Ht(()=>import("./tUu8UEjF.js").then(o=>o.o),__vite__mapDeps([0,1]),import.meta.url)).default)});const Ft=t=>({...t,id:t.id??t.meta_data?.recurring_parent_id,organization:t.meta_data?.organization??""}),it=t=>{const o=t.meta_data?.submitted_at??t.created_at;if(!o)return 0;try{return me(o).getTime()}catch(l){return console.warn("Failed to parse submission timestamp",l),0}},lt=t=>{const o=t.meta_data?.submitted_at??t.created_at;if(!o)return"—";try{return Re(me(o),"MMM d, yyyy 'at' h:mm a")}catch(l){return console.warn("Failed to format submission timestamp",l),"—"}},ot=t=>{if(!t.start_time)return"—";try{return Re(me(t.start_time),"MMM d, yyyy 'at' h:mm a")}catch(o){return console.warn("Failed to format event date",o),"—"}},Tt=t=>{if(!t)return"";try{const o=me(t),l=ta(o,ia);return Re(l,"h:mm a")}catch{return""}},It=t=>t.replace(/<[^>]*>/g,""),Dt=(t,o)=>t.length<=o?t:t.substring(0,o).trimEnd()+"…",Pt=t=>t.description?Dt(It(t.description).trim(),120):"",Ot=t=>t<1024?t+" B":t<1024*1024?(t/1024).toFixed(1)+" KB":(t/(1024*1024)).toFixed(1)+" MB",Mt=t=>t.startsWith("image/"),dt=t=>{window.open(t,"_blank")},vt=t=>{try{const l=Se.fromString(t).origOptions,p=l.interval||1,T=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],oe=["","1st","2nd","3rd","4th","5th"];if(l.freq===Se.DAILY)return p===1?"Repeats daily":`Repeats every ${p} days`;if(l.freq===Se.WEEKLY){if(l.byweekday){const f=(Array.isArray(l.byweekday)?l.byweekday:[l.byweekday]).map(k=>{const D=typeof k=="number"?k:k.weekday,B=D===6?0:D+1;return T[B]});return p===1?f.length===1?`Repeats every ${f[0]}`:`Repeats on ${f.join(", ")}`:`Repeats every ${p} weeks on ${f.join(", ")}`}return p===1?"Repeats weekly":`Repeats every ${p} weeks`}if(l.freq===Se.MONTHLY){if(l.byweekday){const f=(Array.isArray(l.byweekday)?l.byweekday:[l.byweekday])[0];if(f&&typeof f=="object"&&"n"in f&&"weekday"in f){const k=f.weekday,D=k===6?0:k+1,B=f.n,V=oe[B]||`${B}th`;return p===1?`Repeats on the ${V} ${T[D]} of the month`:`Repeats on the ${V} ${T[D]} every ${p} months`}}if(l.bymonthday){const F=Array.isArray(l.bymonthday)?l.bymonthday[0]:l.bymonthday,f=F===1?"st":F===2?"nd":F===3?"rd":"th";return p===1?`Repeats on the ${F}${f} of the month`:`Repeats on the ${F}${f} every ${p} months`}return p===1?"Repeats monthly":`Repeats every ${p} months`}if(l.freq===Se.YEARLY){if(l.bymonth&&l.bymonthday){const F=["","January","February","March","April","May","June","July","August","September","October","November","December"],f=Array.isArray(l.bymonth)?l.bymonth[0]:l.bymonth,k=Array.isArray(l.bymonthday)?l.bymonthday[0]:l.bymonthday,D=k===1?"st":k===2?"nd":k===3?"rd":"th";return p===1?`Repeats every ${F[f]} ${k}${D}`:`Repeats every ${p} years on ${F[f]} ${k}${D}`}return p===1?"Repeats yearly":`Repeats every ${p} years`}return"Repeats"}catch{return"Repeats"}},jt=(t,o)=>{const l=o.trim().toLowerCase();if(!l)return!0;const p=t.meta_data?.organization?Ae(t.meta_data.organization)?.label??"":"";return[t.title??"",t.description??"",t.location??"",t.meta_data?.submitted_by_name??"",p??""].join(" ").toLowerCase().includes(l)},zt=(t,o)=>o==="all"?!0:o==="events"?t.event_type==="calendar_event":t.event_type==="announcement",Bt=(t,o)=>o==="all"?!0:et(t)===o;function He(t){E(w,{...e(w),...t})}const Ke=t=>{E(n,t),E(le,Ft(t)),E(ie,!1);const o=document.getElementById(Ue);o&&qe&&qe.getOrCreateInstance(o).show()},Ct=(t,o)=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),Ke(o))},Lt=async()=>{E(X,!0),await Ne(),E(X,!1)},Nt=t=>{const o=new Set,l=[];for(const p of t){const T=p.meta_data?.recurring_parent_id;if(p.meta_data?.recurring_instance&&T!=null){if(o.has(T))continue;o.add(T)}l.push(p)}return l},Ve=t=>t.meta_data?.recurring_parent_id!=null?`recurring-${t.meta_data.recurring_parent_id}`:`id-${t.id}`;pe(()=>at(),()=>{E(fe,Nt((at()??[]).slice().sort((t,o)=>it(o)-it(t))))}),pe(()=>{},()=>{E(rt,"status-filter-select-approvals")}),pe(()=>{},()=>{E(st,"type-filter-select-approvals")}),pe(()=>(e(fe),e(w)),()=>{E(Ee,e(fe).filter(t=>Bt(t,e(w).statusFilter)).filter(t=>zt(t,e(w).typeFilter)).filter(t=>jt(t,e(w).search)))}),pe(()=>(Ce(),tt),()=>{E(nt,Ce()(tt.DeleteEvents)||Ce()(tt.DeleteOwnEvents))}),pe(()=>(e(n),e(fe)),()=>{e(n)&&!e(fe).some(t=>Ve(t)===Ve(e(n)))&&(E(n,null),E(le,null))}),Jt(),oa();var ct=Ua(),ut=Qe(ct);{var Ut=t=>{var o=ua(),l=s(o);da(l,{}),a(o),v(t,o)},qt=t=>{var o=Aa(),l=s(o),p=s(l),T=s(p),oe=s(T),F=i(oe,2),f=s(F,!0);a(F);var k=i(F,2);{var D=x=>{var g=pa();pt(2),v(x,g)};$(k,x=>{e(X)&&x(D)})}a(T),a(p),a(l);var B=i(l,2),V=s(B),Fe=s(V),be=s(Fe),ye=s(be);aa(ye),a(be);var J=i(be,2),te=s(J),j=s(te);Be(j,5,()=>St,_t,(x,g)=>{var R=_a(),d=s(R,!0);a(R);var P={};A(()=>{y(d,(e(g),r(()=>e(g).label))),P!==(P=(e(g),r(()=>e(g).value)))&&(R.value=(R.__value=(e(g),r(()=>e(g).value)))??"")}),v(x,R)}),a(j);var de;ft(j),a(te);var Te=i(te,2),C=s(Te);Be(C,5,()=>Et,_t,(x,g)=>{var R=ma(),d=s(R,!0);a(R);var P={};A(()=>{y(d,(e(g),r(()=>e(g).label))),P!==(P=(e(g),r(()=>e(g).value)))&&(R.value=(R.__value=(e(g),r(()=>e(g).value)))??"")}),v(x,R)}),a(C);var Ie;ft(C),a(Te),a(J),a(Fe),pt(2),a(V);var ge=i(V,2);{var xe=x=>{var g=fa();v(x,g)},De=x=>{var g=$a();Be(g,5,()=>e(Ee),R=>Ve(R),(R,d)=>{const P=$e(()=>(z(et),e(d),r(()=>et(e(d))))),W=$e(()=>(z(e(P)),r(()=>Rt[e(P)]))),ae=$e(()=>(e(d),z(Ae),r(()=>e(d).meta_data?.organization?Ae(e(d).meta_data.organization):null))),Pe=$e(()=>(e(d),r(()=>Pt(e(d)))));var ee=ka(),ve=s(ee),he=s(ve),ce=s(he),Je=s(ce,!0);a(ce);var Oe=i(ce,2),We=s(Oe,!0);a(Oe),a(he);var we=i(he,2),ke=s(we),Me=s(ke,!0);a(ke);var je=i(ke,2);a(we),a(ve);var ze=i(ve,2);{var c=b=>{var h=ba(),Q=s(h,!0);a(h),A(()=>y(Q,e(Pe))),v(b,h)};$(ze,b=>{e(Pe)&&b(c)})}var _=i(ze,2),S=s(_);{var O=b=>{var h=ya(),Q=s(h,!0);a(h),A(()=>{_e(h,1,`badge rounded-pill bg-color-${z(e(ae)),r(()=>e(ae).color_number)??""}`,"svelte-1pku71x"),y(Q,(z(e(ae)),r(()=>e(ae).label)))}),v(b,h)},Z=b=>{var h=ga();v(b,h)};$(S,b=>{e(ae)?b(O):b(Z,!1)})}var q=i(S,2);{var m=b=>{var h=xa(),Q=i(s(h));a(h),A(()=>y(Q,` ${e(d),r(()=>e(d).location)??""}`)),v(b,h)};$(q,b=>{e(d),r(()=>e(d).location)&&b(m)})}var Y=i(q,2);{var I=b=>{var h=ha(),Q=i(s(h));a(h),A(Ge=>y(Q,` ${Ge??""}`),[()=>(e(d),r(()=>vt(e(d).recurrence_rule)))]),v(b,h)};$(Y,b=>{e(d),r(()=>e(d).recurrence_rule)&&b(I)})}a(_);var M=i(_,2),re=s(M),H=i(s(re));a(re);var L=i(re,2);{var N=b=>{var h=wa(),Q=i(s(h));a(h),A(Ge=>y(Q,` Event ${Ge??""}`),[()=>(e(d),r(()=>ot(e(d))))]),v(b,h)};$(L,b=>{e(d),r(()=>e(d).event_type==="calendar_event")&&b(N)})}a(M);var se=i(M,2),G=s(se),ue=s(G),Ze=i(ue,1,!0);a(G),a(se),a(ee),A(b=>{sa(ee,`border-left: 4px solid ${z(e(P)),r(()=>At[e(P)])??""}`),y(Je,(e(d),r(()=>e(d).title))),y(We,(e(d),r(()=>e(d).meta_data?.submitted_by_name??"Unknown submitter"))),y(Me,(e(d),r(()=>e(d).event_type==="calendar_event"?"Event":"Announcement"))),ne(je,"aria-label",(e(d),r(()=>`Review and approve ${e(d).title}`))),y(H,` Submitted ${b??""}`),_e(G,1,(z(e(W)),r(()=>`badge ${e(W).class}`)),"svelte-1pku71x"),_e(ue,1,(z(e(W)),r(()=>`bi ${e(W).icon} me-1`)),"svelte-1pku71x"),y(Ze,(z(e(W)),r(()=>e(W).text)))},[()=>(e(d),r(()=>lt(e(d))))]),U("click",je,la(()=>Ke(e(d)))),U("click",ee,()=>Ke(e(d))),U("keydown",ee,b=>Ct(b,e(d))),v(R,ee)}),a(g),v(x,g)};$(ge,x=>{e(Ee),r(()=>e(Ee).length===0)?x(xe):x(De,!1)})}a(B),a(o),A(()=>{T.disabled=e(X),_e(oe,1,`bi bi-arrow-clockwise${e(X)?"":" me-1"}`),y(f,e(X)?"":"Refresh"),ra(ye,(e(w),r(()=>e(w).search))),ne(j,"id",e(rt)),de!==(de=(e(w),r(()=>e(w).statusFilter)))&&(j.value=(j.__value=(e(w),r(()=>e(w).statusFilter)))??"",bt(j,(e(w),r(()=>e(w).statusFilter)))),ne(C,"id",e(st)),Ie!==(Ie=(e(w),r(()=>e(w).typeFilter)))&&(C.value=(C.__value=(e(w),r(()=>e(w).typeFilter)))??"",bt(C,(e(w),r(()=>e(w).typeFilter))))}),U("click",T,Lt),U("input",ye,x=>He({search:x.currentTarget.value})),U("change",j,x=>He({statusFilter:x.currentTarget.value})),U("change",C,x=>He({typeFilter:x.currentTarget.value})),v(t,o)};$(ut,t=>{xt()?t(qt,!1):t(Ut)})}var Yt=i(ut,2);{let t=$e(()=>(e(n),r(()=>e(n)?e(n).title:"Review Submission")));ca(Yt,{get id(){return Ue},get title(){return e(t)},children:(o,l)=>{var p=mt(),T=Qe(p);{var oe=f=>{var k=Ca(),D=s(k),B=s(D),V=i(B,2);a(D);var Fe=i(D,2);{var be=J=>{var te=Ba(),j=s(te),de=i(s(j),2),Te=s(de,!0);a(de);var C=i(de,2),Ie=s(C,!0);a(C),a(j);var ge=i(j,2),xe=s(ge),De=i(s(xe),2),x=s(De,!0);a(De),a(xe);var g=i(xe,2),R=i(s(g),2),d=s(R,!0);a(R),a(g);var P=i(g,2),W=i(s(P),2),ae=s(W);{var Pe=c=>{var _=Ra();v(c,_)},ee=c=>{var _=Sa();v(c,_)};$(ae,c=>{e(n),r(()=>e(n).is_public!==!1)?c(Pe):c(ee,!1)})}a(W),a(P);var ve=i(P,2);{var he=c=>{var _=Ta(),S=i(s(_),2),O=s(S),Z=i(O);{var q=I=>{var M=Ea();v(I,M)};$(Z,I=>{e(n),r(()=>e(n).is_all_day)&&I(q)})}var m=i(Z,2);{var Y=I=>{var M=Fa(),re=s(M);a(M),A(H=>y(re,`— ${H??""}`),[()=>(e(n),r(()=>Tt(e(n).end_time)))]),v(I,M)};$(m,I=>{e(n),r(()=>e(n).end_time&&!e(n).is_all_day)&&I(Y)})}a(S),a(_),A(I=>y(O,`${I??""} `),[()=>(e(n),r(()=>ot(e(n))))]),v(c,_)};$(ve,c=>{e(n),r(()=>e(n).event_type==="calendar_event")&&c(he)})}var ce=i(ve,2);{var Je=c=>{var _=Ia(),S=i(s(_),2),O=i(s(S),1,!0);a(S),a(_),A(()=>y(O,(e(n),r(()=>e(n).location)))),v(c,_)};$(ce,c=>{e(n),r(()=>e(n).location)&&c(Je)})}var Oe=i(ce,2);{var We=c=>{var _=Pa(),S=i(s(_),2),O=i(s(S)),Z=i(O);{var q=m=>{var Y=Da(),I=s(Y);a(Y),A(M=>y(I,`until ${M??""}`),[()=>(z(Re),z(me),e(n),r(()=>Re(me(e(n).recurrence_end_date),"MMM d, yyyy")))]),v(m,Y)};$(Z,m=>{e(n),r(()=>e(n).recurrence_end_date)&&m(q)})}a(S),a(_),A(m=>y(O,` ${m??""} `),[()=>(e(n),r(()=>vt(e(n).recurrence_rule)))]),v(c,_)};$(Oe,c=>{e(n),r(()=>e(n).recurrence_rule)&&c(We)})}a(ge);var we=i(ge,2);{var ke=c=>{var _=Oa(),S=i(s(_),2),O=s(S);ea(O,()=>(e(n),r(()=>e(n).description))),a(S),a(_),v(c,_)};$(we,c=>{e(n),r(()=>e(n).description)&&c(ke)})}var Me=i(we,2);{var je=c=>{var _=za(),S=s(_),O=i(s(S));a(S);var Z=i(S,2);Be(Z,5,()=>(e(n),r(()=>e(n).attachments)),q=>q.id,(q,m)=>{var Y=mt(),I=Qe(Y);{var M=H=>{var L=Ma(),N=s(L),se=s(N);a(N);var G=i(N,2),ue=s(G,!0);a(G),a(L),A(()=>{ne(N,"title",`Open ${e(m),r(()=>e(m).name)??""}`),ne(se,"src",(e(m),r(()=>e(m).url))),ne(se,"alt",(e(m),r(()=>e(m).name))),y(ue,(e(m),r(()=>e(m).name)))}),U("click",N,()=>dt(e(m).url)),v(H,L)},re=H=>{var L=ja(),N=i(s(L),2),se=s(N,!0);a(N);var G=i(N,2),ue=s(G);a(G),a(L),A(Ze=>{ne(L,"title",`Open ${e(m),r(()=>e(m).name)??""}`),y(se,(e(m),r(()=>e(m).name))),y(ue,`(${Ze??""})`)},[()=>(e(m),r(()=>Ot(e(m).size)))]),U("click",L,()=>dt(e(m).url)),v(H,L)};$(I,H=>{e(m),r(()=>Mt(e(m).type))?H(M):H(re,!1)})}v(q,Y)}),a(Z),a(_),A(()=>y(O,`Attachments (${e(n),r(()=>e(n).attachments.length)??""})`)),v(c,_)};$(Me,c=>{e(n),r(()=>e(n).attachments&&e(n).attachments.length>0)&&c(je)})}var ze=i(Me,2);Qt(ze,{disabled:!1,get reloadEvents(){return Ne},get eventItem(){return e(le)},set eventItem(c){E(le,c)},$$legacy:!0}),a(te),A((c,_)=>{y(Te,(e(n),r(()=>e(n).meta_data?.submitted_by_name??"Unknown submitter"))),y(Ie,c),y(x,(e(n),r(()=>e(n).event_type==="calendar_event"?"Event":"Announcement"))),y(d,_)},[()=>(e(n),r(()=>lt(e(n)))),()=>(e(n),z(Ae),r(()=>e(n).meta_data?.organization?Ae(e(n).meta_data.organization)?.label??"None":"None"))]),v(J,te)},ye=J=>{Xt(J,{get eventItem(){return e(le)},get drawerId(){return Ue},name:"approval-edit-form",get canDelete(){return e(nt)},canCreate:!1})};$(Fe,J=>{e(ie)?J(ye,!1):J(be)})}a(k),A(()=>{_e(B,1,`btn btn-sm ${e(ie)?"btn-outline-primary":"btn-primary"}`),_e(V,1,`btn btn-sm ${e(ie)?"btn-primary":"btn-outline-primary"}`)}),U("click",B,()=>E(ie,!1)),U("click",V,()=>E(ie,!0)),v(f,k)},F=f=>{var k=La();v(f,k)};$(T,f=>{e(n)&&e(le)?f(oe):f(F,!1)})}v(o,p)},$$slots:{default:!0,footer:(o,l)=>{var p=Na();v(o,p)}}})}v(yt,ct),Wt(),ht()}export{nr as B};
