import{s as qe,n as K,d as _,i as A,a as m,c as h,g as G,e as p,r as It,v as x,q as c,z as He,k as w,w as V,l as M,x as B,m as C,M as Pn,R as st,C as Tt,y as Pt,F as Jt,a6 as rt,G as On,b as vt,N as Ze,a8 as Kt,J as Vn,t as lt,o as An,a7 as Bn,U as Qt}from"./XwK7VtW3.js";import{S as Fe,i as Ge,f as ot,d as ye,t as q,a as P,m as we,c as Te,b as De,g as Ue,e as Re}from"./e-rlo9AR.js";import{t as ke,u as jn,v as Hn,w as Un,h as Zt,x as en,y as Et,c as Lt,f as et}from"./uRgtERvd.js";import{e as We,u as Rn,o as Wn}from"./BXYRyfL2.js";import{D as qn,v as Fn}from"./Ct6k4Xpq.js";import{w as Ct,d as at}from"./GBN_BMVA.js";import{g as Gn}from"./DPO8SJWk.js";import{p as gt}from"./GDHtNKvl.js";import{S as Yn}from"./xmnWgXyV.js";function Xn(n){let e,t=`<div class="card-header">Ward Information</div> <ul class="list-group list-group-flush"><li class="list-group-item text-uppercase fw-lighter fs-x-small">Chapel Address</li> <li class="list-group-item"><a href="https://goo.gl/maps/TLrPMMT1CpjijHnE7" target="_blank">220 W 200 S, Lehi<br/>
				UT 84043<br/>
				United States</a></li> <li class="list-group-item text-uppercase fw-lighter fs-x-small">Hours</li> <li class="list-group-item"><span class="d-block fw-lighter"><strong>Sacrament</strong>: 9:00 AM to 10:00 AM</span> <span class="d-block fw-lighter"><strong>2nd Hour</strong>: 10:00 AM to 11:00 AM</span></li> <li class="list-group-item text-uppercase fw-lighter fs-x-small">To setup appointments with Bishop or Bishopric contact:</li> <li class="list-group-item">Bro. Darren Olyan | <a href="sms:2029095149" target="_blank">202-909-5149</a></li> <li class="list-group-item text-uppercase fw-lighter fs-x-small">To book the chapel contact:</li> <li class="list-group-item">Bishop Miller | <a href="sms:8015928189" target="_blank">801-592-8189</a></li></ul>`;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(s){e=h(s,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-114uip9"&&(e.innerHTML=t),this.h()},h(){m(e,"class","card")},m(s,l){A(s,e,l)},p:K,i:K,o:K,d(s){s&&_(e)}}}class ll extends Fe{constructor(e){super(),Ge(this,e,null,Xn,qe,{})}}function zn(n){let e,t=`<div class="card-header">Stake Information</div> <ul class="list-group list-group-flush"><li class="list-group-item text-uppercase fw-lighter fs-x-small">Address</li> <li class="list-group-item"><a href="https://goo.gl/maps/kjrbeY8Cmn63pyan6" target="_blank">680 N 350 W,<br/>
				American Fork, UT 84003<br/>
				United States</a></li> <li class="list-group-item text-uppercase fw-lighter fs-x-small">To setup appointments with Stake for Temple Recommend contact:</li> <li class="list-group-item">Bro. Wayland Pili | <a href="sms:7022904155" target="_blank">702-290-4155</a></li> <li class="list-group-item text-uppercase fw-lighter fs-x-small">To setup appointments with Stake President contact:</li> <li class="list-group-item">Bro. Jonny Bradshaw | <a href="sms:8016362548" target="_blank">801-636-2548</a></li></ul>`;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(s){e=h(s,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-1g452fc"&&(e.innerHTML=t),this.h()},h(){m(e,"class","card")},m(s,l){A(s,e,l)},p:K,i:K,o:K,d(s){s&&_(e)}}}class al extends Fe{constructor(e){super(),Ge(this,e,null,zn,qe,{})}}function rl(n){return ke(n).getDay()===0}function St(n,e){const t=ke(n),s=ke(e),l=t.getTime()-s.getTime();return l<0?-1:l>0?1:l}function $n(n){return jn(n,Date.now())}function xn(n,e){const t=ke(n),s=ke(e),l=t.getFullYear()-s.getFullYear(),i=t.getMonth()-s.getMonth();return l*12+i}function Jn(n){return e=>{const s=(n?Math[n]:Math.trunc)(e);return s===0?0:s}}function Kn(n,e){return+ke(n)-+ke(e)}function Qn(n){const e=ke(n);return e.setHours(23,59,59,999),e}function Zn(n){const e=ke(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function es(n){const e=ke(n);return+Qn(e)==+Zn(e)}function ts(n,e){const t=ke(n),s=ke(e),l=St(t,s),i=Math.abs(xn(t,s));let a;if(i<1)a=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-l*i);let o=St(t,s)===-l;es(ke(n))&&i===1&&St(n,s)===1&&(o=!1),a=l*(i-Number(o))}return a===0?0:a}function ns(n,e,t){const s=Kn(n,e)/1e3;return Jn(t?.roundingMethod)(s)}function ss(n,e,t){const s=Hn(),l=t?.locale??s.locale??Un,i=2520,a=St(n,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:a});let r,v;a>0?(r=ke(e),v=ke(n)):(r=ke(n),v=ke(e));const u=ns(v,r),g=(Zt(v)-Zt(r))/1e3,d=Math.round((u-g)/60);let y;if(d<2)return t?.includeSeconds?u<5?l.formatDistance("lessThanXSeconds",5,o):u<10?l.formatDistance("lessThanXSeconds",10,o):u<20?l.formatDistance("lessThanXSeconds",20,o):u<40?l.formatDistance("halfAMinute",0,o):u<60?l.formatDistance("lessThanXMinutes",1,o):l.formatDistance("xMinutes",1,o):d===0?l.formatDistance("lessThanXMinutes",1,o):l.formatDistance("xMinutes",d,o);if(d<45)return l.formatDistance("xMinutes",d,o);if(d<90)return l.formatDistance("aboutXHours",1,o);if(d<en){const f=Math.round(d/60);return l.formatDistance("aboutXHours",f,o)}else{if(d<i)return l.formatDistance("xDays",1,o);if(d<Et){const f=Math.round(d/en);return l.formatDistance("xDays",f,o)}else if(d<Et*2)return y=Math.round(d/Et),l.formatDistance("aboutXMonths",y,o)}if(y=ts(v,r),y<12){const f=Math.round(d/Et);return l.formatDistance("xMonths",f,o)}else{const f=y%12,T=Math.trunc(y/12);return f<3?l.formatDistance("aboutXYears",T,o):f<9?l.formatDistance("overXYears",T,o):l.formatDistance("almostXYears",T+1,o)}}function tn(n,e){return ss(n,$n(n),e)}function ls(n){let e,t=`<div class="card-header">Ward Theme 2025</div> <div class="card-body"><figure class="text-center"><blockquote class="blockquote"><p>Organize yourselves; prepare every needful thing, and establish a house, even a house of
					prayer, a house of fasting, a house of faith, a house of learning, a house of glory, a
					house of order, a house of God;</p></blockquote> <figcaption class="blockquote-footer"><cite title="Source Title">D&amp;C 109:8</cite></figcaption></figure></div>`;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(s){e=h(s,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-d2aih4"&&(e.innerHTML=t),this.h()},h(){m(e,"class","card")},m(s,l){A(s,e,l)},p:K,i:K,o:K,d(s){s&&_(e)}}}class ol extends Fe{constructor(e){super(),Ge(this,e,null,ls,qe,{})}}function nn(n){let e,t;return{c(){e=p("small"),t=B(n[2]),this.h()},l(s){e=h(s,"SMALL",{class:!0});var l=w(e);t=V(l,n[2]),l.forEach(_),this.h()},h(){m(e,"class","fw-lighter text-muted")},m(s,l){A(s,e,l),c(e,t)},p(s,l){l&4&&x(t,s[2])},d(s){s&&_(e)}}}function as(n){let e,t,s,l,i,a,o,r,v='<i class="bi bi-dash"></i>',u,g,d,y,f,T='<i class="bi bi-plus"></i>',k,L,b=n[2]&&nn(n);return{c(){e=p("div"),t=p("div"),s=p("span"),l=B(n[1]),i=C(),b&&b.c(),a=C(),o=p("div"),r=p("button"),r.innerHTML=v,u=C(),g=p("div"),d=B(n[0]),y=C(),f=p("button"),f.innerHTML=T,this.h()},l(D){e=h(D,"DIV",{class:!0});var S=w(e);t=h(S,"DIV",{});var j=w(t);s=h(j,"SPAN",{});var O=w(s);l=V(O,n[1]),O.forEach(_),i=M(j),b&&b.l(j),j.forEach(_),a=M(S),o=h(S,"DIV",{class:!0});var H=w(o);r=h(H,"BUTTON",{class:!0,"data-svelte-h":!0}),G(r)!=="svelte-m10tng"&&(r.innerHTML=v),u=M(H),g=h(H,"DIV",{class:!0});var R=w(g);d=V(R,n[0]),R.forEach(_),y=M(H),f=h(H,"BUTTON",{class:!0,"data-svelte-h":!0}),G(f)!=="svelte-z6pujo"&&(f.innerHTML=T),H.forEach(_),S.forEach(_),this.h()},h(){m(r,"class","btn btn-sm btn-primary"),m(g,"class","count-container d-flex justify-content-end svelte-1ciu8qs"),m(f,"class","btn btn-sm btn-primary"),m(o,"class","d-flex flex-row gap-3 align-items-center"),m(e,"class","d-flex flex-row gap-3 justify-content-between align-items-end")},m(D,S){A(D,e,S),c(e,t),c(t,s),c(s,l),c(t,i),b&&b.m(t,null),c(e,a),c(e,o),c(o,r),c(o,u),c(o,g),c(g,d),c(o,y),c(o,f),k||(L=[He(r,"click",n[4]),He(f,"click",n[3])],k=!0)},p(D,[S]){S&2&&x(l,D[1]),D[2]?b?b.p(D,S):(b=nn(D),b.c(),b.m(t,null)):b&&(b.d(1),b=null),S&1&&x(d,D[0])},i:K,o:K,d(D){D&&_(e),b&&b.d(),k=!1,It(L)}}}function rs(n,e,t){let{count:s=0}=e,{label:l="Count"}=e,{description:i=""}=e;const a=()=>{t(0,s++,s)},o=()=>{s<=0||t(0,s--,s)};return n.$$set=r=>{"count"in r&&t(0,s=r.count),"label"in r&&t(1,l=r.label),"description"in r&&t(2,i=r.description)},[s,l,i,a,o]}class ht extends Fe{constructor(e){super(),Ge(this,e,rs,as,qe,{count:0,label:1,description:2})}}const sn=Ct([]);let Mt=!1;async function Nt(){if(Mt)return Pn(sn);Mt=!0;try{const{data:n,error:e}=await Lt.from("temple_challenge_entries").select("*");if(e)throw console.error("[API] Get temple entries failed:",e),new Error(`Failed to load entries: ${e.message}`);const t=n||[];return sn.set(t),setTimeout(()=>Mt=!1,800),t}catch(n){throw Mt=!1,console.error("[API] Unexpected error fetching temple entries:",n),n}}async function os(n){try{const{data:e,error:t}=await Lt.from("temple_challenge_entries").insert([n]).select();if(t)throw console.error("[API] Create temple entry failed:",t),t.message.includes("JWT")?new Error("Authentication error - please try reloading the page"):t.code==="42501"?new Error("Permission denied - please check your authentication"):t.code==="23505"?new Error("This entry already exists"):t.message.includes("fetch")||t.message.includes("Failed to fetch")?new Error("Network error - please check your connection and try again"):new Error(`Failed to save entry: ${t.message}`);return await Nt(),console.log("[API] Temple entry created successfully"),e?e[0]:void 0}catch(e){throw console.error("[API] Unexpected error creating temple entry:",e),e}}async function is(n,e){const{data:t,error:s}=await Lt.from("temple_challenge_entries").update(e).eq("id",n).select();if(s)throw s;return await Nt(),t?t[0]:void 0}async function cs(n){const{error:e}=await Lt.from("temple_challenge_entries").delete().eq("id",n);if(e)throw e;await Nt()}function us(n,e,t){return n.filter(s=>s.date>=e&&s.date<=t)}function fs(n){return n.reduce((e,t)=>e+(t.baptism_ordinances_count??0)+(t.confirmation_ordinances_count??0)+(t.initiatory_ordinances_count??0)+(t.endowment_ordinances_count??0)+(t.sealing_ordinances_count??0),0)}function ds(n){return n.reduce((e,t)=>e+(t.prepared_names_count??0),0)}let yt=null;const _s=()=>{const n=Ct(!1),e=Ct(!1),t=Ct([]),s=at([t],([f])=>{const T=f.reduce((L,b)=>{const D=new Date(b.date),S=`${D.getFullYear()}-${String(D.getMonth()+1).padStart(2,"0")}`;return(L[S]||=[]).push(b),L},{}),k=Object.entries(T).sort(([L],[b])=>new Date(b).getTime()-new Date(L).getTime()).map(([L,b])=>[L,b.sort((D,S)=>new Date(S.created_at??"").getTime()-new Date(D.created_at??"").getTime())]);return Object.fromEntries(k)}),l=at([t],([f])=>{const T=f.reduce((L,b)=>((L[b.date]||=[]).push(b),L),{}),k=Object.entries(T).sort(([L],[b])=>new Date(b).getTime()-new Date(L).getTime()).map(([L,b])=>[L,b.sort((D,S)=>new Date(S.created_at??"").getTime()-new Date(D.created_at??"").getTime())]);return Object.fromEntries(k)}),i=at(t,f=>f.reduce((T,k)=>({baptism_ordinances_count:T.baptism_ordinances_count+(k.baptism_ordinances_count??0),confirmation_ordinances_count:T.confirmation_ordinances_count+(k.confirmation_ordinances_count??0),initiatory_ordinances_count:T.initiatory_ordinances_count+(k.initiatory_ordinances_count??0),endowment_ordinances_count:T.endowment_ordinances_count+(k.endowment_ordinances_count??0),sealing_ordinances_count:T.sealing_ordinances_count+(k.sealing_ordinances_count??0)}),{baptism_ordinances_count:0,confirmation_ordinances_count:0,initiatory_ordinances_count:0,endowment_ordinances_count:0,sealing_ordinances_count:0})),a=at(l,f=>{const T={};for(const[k,L]of Object.entries(f))T[k]=L.reduce((b,D)=>({...b,entry_type:b.entry_type,prepared_names_count:(b.prepared_names_count??0)+(D.prepared_names_count??0),baptism_ordinances_count:(b.baptism_ordinances_count??0)+(D.baptism_ordinances_count??0),confirmation_ordinances_count:(b.confirmation_ordinances_count??0)+(D.confirmation_ordinances_count??0),initiatory_ordinances_count:(b.initiatory_ordinances_count??0)+(D.initiatory_ordinances_count??0),endowment_ordinances_count:(b.endowment_ordinances_count??0)+(D.endowment_ordinances_count??0),sealing_ordinances_count:(b.sealing_ordinances_count??0)+(D.sealing_ordinances_count??0),date:k,created_at:b.created_at||D.created_at}),{});return T}),o=at(s,f=>{const T={};for(const[k,L]of Object.entries(f))T[k]=L.reduce((b,D)=>({...b,entry_type:b.entry_type,prepared_names_count:(b.prepared_names_count??0)+(D.prepared_names_count??0),baptism_ordinances_count:(b.baptism_ordinances_count??0)+(D.baptism_ordinances_count??0),confirmation_ordinances_count:(b.confirmation_ordinances_count??0)+(D.confirmation_ordinances_count??0),initiatory_ordinances_count:(b.initiatory_ordinances_count??0)+(D.initiatory_ordinances_count??0),endowment_ordinances_count:(b.endowment_ordinances_count??0)+(D.endowment_ordinances_count??0),sealing_ordinances_count:(b.sealing_ordinances_count??0)+(D.sealing_ordinances_count??0),date:b.date||D.date,created_at:b.created_at||D.created_at}),{});return T}),r=at(t,f=>f.reduce((T,k)=>T+(k.baptism_ordinances_count??0)+(k.confirmation_ordinances_count??0)+(k.initiatory_ordinances_count??0)+(k.endowment_ordinances_count??0)+(k.sealing_ordinances_count??0),0)),v=at(t,f=>f.reduce((T,k)=>T+(k.prepared_names_count??0),0));return yt={stores:{ready:n,loading:e,data:t,groupedByDate:l,groupedByMonth:s,detailTotals:i,detailTotalsByDay:a,detailTotalsByMonth:o,totalOrdinancesPerformed:r,totalNamesPrepared:v},actions:{reload:async()=>{const f=await Nt();f?.length&&t.set(f)},apiCreate:async f=>{await os(f)},apiUpdate:async(f,T)=>{await is(f,T)},apiDelete:async f=>{await cs(f)}}},yt},At=()=>yt?.stores&&Object.keys(yt.stores).length>0?yt:_s();function ln(n,e,t){const s=n.slice();return s[26]=e[t],s}function an(n){let e,t,s,l,i,a,o,r,v=n[3].message+"",u,g,d,y,f,T,k,L,b,D,S,j;function O(F,z){return F[3].type==="expired"?ps:F[3].type==="network"?hs:ms}let H=O(n),R=H(n),W=n[3].type==="network"&&rn(n);return{c(){e=p("div"),t=p("div"),s=p("i"),l=C(),i=p("div"),a=p("h5"),R.c(),o=C(),r=p("p"),u=B(v),g=C(),d=p("div"),W&&W.c(),y=C(),f=p("button"),T=p("i"),k=B(" Reload App"),b=C(),D=p("button"),this.h()},l(F){e=h(F,"DIV",{class:!0,role:!0});var z=w(e);t=h(z,"DIV",{class:!0});var ne=w(t);s=h(ne,"I",{class:!0}),w(s).forEach(_),l=M(ne),i=h(ne,"DIV",{class:!0});var I=w(i);a=h(I,"H5",{class:!0});var pe=w(a);R.l(pe),pe.forEach(_),o=M(I),r=h(I,"P",{class:!0});var le=w(r);u=V(le,v),le.forEach(_),g=M(I),d=h(I,"DIV",{class:!0});var Q=w(d);W&&W.l(Q),y=M(Q),f=h(Q,"BUTTON",{class:!0});var Me=w(f);T=h(Me,"I",{class:!0}),w(T).forEach(_),k=V(Me," Reload App"),Me.forEach(_),Q.forEach(_),I.forEach(_),b=M(ne),D=h(ne,"BUTTON",{type:!0,class:!0,"aria-label":!0}),w(D).forEach(_),ne.forEach(_),z.forEach(_),this.h()},h(){m(s,"class","bi bi-exclamation-triangle-fill fs-4"),m(a,"class","alert-heading mb-2"),m(r,"class","mb-3"),m(T,"class","bi bi-arrow-clockwise"),m(f,"class",L="btn btn-"+(n[3].type==="network"?"secondary":"primary")),m(d,"class","d-flex gap-2"),m(i,"class","flex-grow-1"),m(D,"type","button"),m(D,"class","btn-close"),m(D,"aria-label","Close"),m(t,"class","d-flex align-items-start gap-3"),m(e,"class","alert alert-warning alert-dismissible"),m(e,"role","alert")},m(F,z){A(F,e,z),c(e,t),c(t,s),c(t,l),c(t,i),c(i,a),R.m(a,null),c(i,o),c(i,r),c(r,u),c(i,g),c(i,d),W&&W.m(d,null),c(d,y),c(d,f),c(f,T),c(f,k),c(t,b),c(t,D),S||(j=[He(f,"click",n[8]),He(D,"click",n[10])],S=!0)},p(F,z){H!==(H=O(F))&&(R.d(1),R=H(F),R&&(R.c(),R.m(a,null))),z&8&&v!==(v=F[3].message+"")&&x(u,v),F[3].type==="network"?W?W.p(F,z):(W=rn(F),W.c(),W.m(d,y)):W&&(W.d(1),W=null),z&8&&L!==(L="btn btn-"+(F[3].type==="network"?"secondary":"primary"))&&m(f,"class",L)},d(F){F&&_(e),R.d(),W&&W.d(),S=!1,It(j)}}}function ms(n){let e;return{c(){e=B("⚠️ Something Went Wrong")},l(t){e=V(t,"⚠️ Something Went Wrong")},m(t,s){A(t,e,s)},d(t){t&&_(e)}}}function hs(n){let e;return{c(){e=B("⚠️ Connection Problem")},l(t){e=V(t,"⚠️ Connection Problem")},m(t,s){A(t,e,s)},d(t){t&&_(e)}}}function ps(n){let e;return{c(){e=B("⚠️ Session Issue")},l(t){e=V(t,"⚠️ Session Issue")},m(t,s){A(t,e,s)},d(t){t&&_(e)}}}function rn(n){let e,t='<i class="bi bi-arrow-clockwise"></i> Try Again',s,l;return{c(){e=p("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-1phrdwo"&&(e.innerHTML=t),this.h()},h(){m(e,"class","btn btn-primary")},m(i,a){A(i,e,a),s||(l=He(e,"click",n[9]),s=!0)},p:K,d(i){i&&_(e),s=!1,l()}}}function gs(n){let e;return{c(){e=B("When was this activity done?")},l(t){e=V(t,"When was this activity done?")},m(t,s){A(t,e,s)},p:K,d(t){t&&_(e)}}}function bs(n){let e,t,s,l,i;return{c(){e=B("Select a date within the goal period ("),t=B(n[0]),s=B(" to "),l=B(n[1]),i=B(")")},l(a){e=V(a,"Select a date within the goal period ("),t=V(a,n[0]),s=V(a," to "),l=V(a,n[1]),i=V(a,")")},m(a,o){A(a,e,o),A(a,t,o),A(a,s,o),A(a,l,o),A(a,i,o)},p(a,o){o&1&&x(t,a[0]),o&2&&x(l,a[1])},d(a){a&&(_(e),_(t),_(s),_(l),_(i))}}}function on(n){let e,t=n[26]+"",s;return{c(){e=p("option"),s=B(t),this.h()},l(l){e=h(l,"OPTION",{});var i=w(e);s=V(i,t),i.forEach(_),this.h()},h(){e.__value=n[26],Pt(e,e.__value)},m(l,i){A(l,e,i),c(e,s)},p:K,d(l){l&&_(e)}}}function vs(n){let e,t,s,l="Log your temple activity here.",i,a,o,r="Date",v,u,g,d,y,f,T,k="Activity Type",L,b,D="What kind of temple activity was this?",S,j,O,H,R,W,F,z,ne,I,pe,le,Q,Me,Ye,se,fe,je,de,Le,Ee,ge,re,_e="Total:",Ne,Ae,Pe,be,ie,me,ze="Cancel",Z,$,Y="Submit",U,Xe,Ke,J=n[3].type&&an(n);function tt(E,N){return E[0]&&E[1]?bs:gs}let Oe=tt(n),oe=Oe(n),Ce=We(n[6]),ee=[];for(let E=0;E<Ce.length;E+=1)ee[E]=on(ln(n,Ce,E));function Ve(E){n[15](E)}let ue={label:"Temple Name Preparation Count",description:"Number of names you were able to prepare for temple ordinances"};n[2].prepared_names_count!==void 0&&(ue.count=n[2].prepared_names_count),H=new ht({props:ue}),st.push(()=>ot(H,"count",Ve));function $e(E){n[16](E)}let xe={label:"Temple Baptism Ordinances Count",description:"Number of Temple Baptism Ordinances you participated in"};n[2].baptism_ordinances_count!==void 0&&(xe.count=n[2].baptism_ordinances_count),F=new ht({props:xe}),st.push(()=>ot(F,"count",$e));function bt(E){n[17](E)}let Qe={label:"Temple Confirmation Ordinances Count",description:"Number of Temple Confirmation Ordinances you participated in"};n[2].confirmation_ordinances_count!==void 0&&(Qe.count=n[2].confirmation_ordinances_count),I=new ht({props:Qe}),st.push(()=>ot(I,"count",bt));function Se(E){n[18](E)}let it={label:"Temple Initiatory Ordinances Count",description:"Number of Temple Initiatory Ordinances you did OR participated in the Temple"};n[2].initiatory_ordinances_count!==void 0&&(it.count=n[2].initiatory_ordinances_count),Q=new ht({props:it}),st.push(()=>ot(Q,"count",Se));function ct(E){n[19](E)}let ut={label:"Temple Endowment Ordinances Count",description:"Number of Temple Endowment Ordinances you did OR participated in the Temple"};n[2].endowment_ordinances_count!==void 0&&(ut.count=n[2].endowment_ordinances_count),se=new ht({props:ut}),st.push(()=>ot(se,"count",ct));function Dt(E){n[20](E)}let he={label:"Temple Sealing Ordinances Count",description:"Number of Temple Sealing Ordinances you did OR participated in the Temple"};return n[2].sealing_ordinances_count!==void 0&&(he.count=n[2].sealing_ordinances_count),de=new ht({props:he}),st.push(()=>ot(de,"count",Dt)),{c(){e=p("div"),J&&J.c(),t=C(),s=p("div"),s.textContent=l,i=C(),a=p("div"),o=p("div"),o.textContent=r,v=C(),u=p("small"),oe.c(),g=C(),d=p("input"),y=C(),f=p("div"),T=p("div"),T.textContent=k,L=C(),b=p("small"),b.textContent=D,S=C(),j=p("select");for(let E=0;E<ee.length;E+=1)ee[E].c();O=C(),De(H.$$.fragment),W=C(),De(F.$$.fragment),ne=C(),De(I.$$.fragment),le=C(),De(Q.$$.fragment),Ye=C(),De(se.$$.fragment),je=C(),De(de.$$.fragment),Ee=C(),ge=p("div"),re=p("span"),re.textContent=_e,Ne=C(),Ae=p("span"),Pe=B(n[4]),be=C(),ie=p("div"),me=p("button"),me.textContent=ze,Z=C(),$=p("button"),$.textContent=Y,this.h()},l(E){e=h(E,"DIV",{class:!0});var N=w(e);J&&J.l(N),t=M(N),s=h(N,"DIV",{class:!0,"data-svelte-h":!0}),G(s)!=="svelte-edkt6z"&&(s.textContent=l),i=M(N),a=h(N,"DIV",{class:!0});var X=w(a);o=h(X,"DIV",{"data-svelte-h":!0}),G(o)!=="svelte-myn5jk"&&(o.textContent=r),v=M(X),u=h(X,"SMALL",{class:!0});var ae=w(u);oe.l(ae),ae.forEach(_),g=M(X),d=h(X,"INPUT",{type:!0,class:!0,id:!0,min:!0,max:!0}),X.forEach(_),y=M(N),f=h(N,"DIV",{class:!0});var ve=w(f);T=h(ve,"DIV",{"data-svelte-h":!0}),G(T)!=="svelte-gyj3h9"&&(T.textContent=k),L=M(ve),b=h(ve,"SMALL",{class:!0,"data-svelte-h":!0}),G(b)!=="svelte-6czr2q"&&(b.textContent=D),S=M(ve),j=h(ve,"SELECT",{class:!0});var te=w(j);for(let Ie=0;Ie<ee.length;Ie+=1)ee[Ie].l(te);te.forEach(_),ve.forEach(_),O=M(N),Te(H.$$.fragment,N),W=M(N),Te(F.$$.fragment,N),ne=M(N),Te(I.$$.fragment,N),le=M(N),Te(Q.$$.fragment,N),Ye=M(N),Te(se.$$.fragment,N),je=M(N),Te(de.$$.fragment,N),Ee=M(N),ge=h(N,"DIV",{class:!0});var Be=w(ge);re=h(Be,"SPAN",{class:!0,"data-svelte-h":!0}),G(re)!=="svelte-1f2mlef"&&(re.textContent=_e),Ne=M(Be),Ae=h(Be,"SPAN",{class:!0,style:!0});var Je=w(Ae);Pe=V(Je,n[4]),Je.forEach(_),Be.forEach(_),be=M(N),ie=h(N,"DIV",{class:!0});var ce=w(ie);me=h(ce,"BUTTON",{class:!0,"data-svelte-h":!0}),G(me)!=="svelte-19vd26f"&&(me.textContent=ze),Z=M(ce),$=h(ce,"BUTTON",{class:!0,"data-svelte-h":!0}),G($)!=="svelte-mfwkik"&&($.textContent=Y),ce.forEach(_),N.forEach(_),this.h()},h(){m(s,"class","d-flex flex-column gap-2"),m(u,"class","fw-lighter text-muted"),m(d,"type","date"),m(d,"class","form-control"),m(d,"id","endDate"),m(d,"min",n[0]),m(d,"max",n[1]),d.required=!0,m(a,"class","d-flex flex-column gap-2"),m(b,"class","fw-lighter text-muted"),m(j,"class","form-select form-control-sm"),n[2].entry_type===void 0&&On(()=>n[14].call(j)),m(f,"class","d-flex flex-column gap-2"),m(re,"class","fw-bolder"),m(Ae,"class","fw-bolder"),vt(Ae,"margin-right","47px"),m(ge,"class","d-flex justify-content-between border-1 border-top pt-3 mt-4"),m(me,"class","btn btn-secondary"),m($,"class","btn btn-primary"),m(ie,"class","d-flex justify-content-between"),m(e,"class","d-flex flex-column gap-3")},m(E,N){A(E,e,N),J&&J.m(e,null),c(e,t),c(e,s),c(e,i),c(e,a),c(a,o),c(a,v),c(a,u),oe.m(u,null),c(a,g),c(a,d),Pt(d,n[2].date),c(e,y),c(e,f),c(f,T),c(f,L),c(f,b),c(f,S),c(f,j);for(let X=0;X<ee.length;X+=1)ee[X]&&ee[X].m(j,null);Jt(j,n[2].entry_type,!0),c(e,O),we(H,e,null),c(e,W),we(F,e,null),c(e,ne),we(I,e,null),c(e,le),we(Q,e,null),c(e,Ye),we(se,e,null),c(e,je),we(de,e,null),c(e,Ee),c(e,ge),c(ge,re),c(ge,Ne),c(ge,Ae),c(Ae,Pe),c(e,be),c(e,ie),c(ie,me),c(ie,Z),c(ie,$),U=!0,Xe||(Ke=[He(d,"input",n[13]),He(j,"change",n[14]),He(me,"click",n[7]),He($,"click",n[11])],Xe=!0)},p(E,[N]){if(E[3].type?J?J.p(E,N):(J=an(E),J.c(),J.m(e,t)):J&&(J.d(1),J=null),Oe===(Oe=tt(E))&&oe?oe.p(E,N):(oe.d(1),oe=Oe(E),oe&&(oe.c(),oe.m(u,null))),(!U||N&1)&&m(d,"min",E[0]),(!U||N&2)&&m(d,"max",E[1]),N&68&&Pt(d,E[2].date),N&64){Ce=We(E[6]);let ce;for(ce=0;ce<Ce.length;ce+=1){const Ie=ln(E,Ce,ce);ee[ce]?ee[ce].p(Ie,N):(ee[ce]=on(Ie),ee[ce].c(),ee[ce].m(j,null))}for(;ce<ee.length;ce+=1)ee[ce].d(1);ee.length=Ce.length}N&68&&Jt(j,E[2].entry_type);const X={};!R&&N&4&&(R=!0,X.count=E[2].prepared_names_count,rt(()=>R=!1)),H.$set(X);const ae={};!z&&N&4&&(z=!0,ae.count=E[2].baptism_ordinances_count,rt(()=>z=!1)),F.$set(ae);const ve={};!pe&&N&4&&(pe=!0,ve.count=E[2].confirmation_ordinances_count,rt(()=>pe=!1)),I.$set(ve);const te={};!Me&&N&4&&(Me=!0,te.count=E[2].initiatory_ordinances_count,rt(()=>Me=!1)),Q.$set(te);const Be={};!fe&&N&4&&(fe=!0,Be.count=E[2].endowment_ordinances_count,rt(()=>fe=!1)),se.$set(Be);const Je={};!Le&&N&4&&(Le=!0,Je.count=E[2].sealing_ordinances_count,rt(()=>Le=!1)),de.$set(Je),(!U||N&16)&&x(Pe,E[4])},i(E){U||(P(H.$$.fragment,E),P(F.$$.fragment,E),P(I.$$.fragment,E),P(Q.$$.fragment,E),P(se.$$.fragment,E),P(de.$$.fragment,E),U=!0)},o(E){q(H.$$.fragment,E),q(F.$$.fragment,E),q(I.$$.fragment,E),q(Q.$$.fragment,E),q(se.$$.fragment,E),q(de.$$.fragment,E),U=!1},d(E){E&&_(e),J&&J.d(),oe.d(),Tt(ee,E),ye(H),ye(F),ye(I),ye(Q),ye(se),ye(de),Xe=!1,It(Ke)}}}function ys(n,e,t){let s,l,{drawerId:i=""}=e,{minDate:a=null}=e,{maxDate:o=null}=e;const{stores:{loading:r},actions:{apiCreate:v,reload:u}}=At();Ze(n,r,I=>t(21,l=I));const g=["Personal","Family","Ward - Youth Temple Baptism","Ward - Temple Activity","Stake - Tuesday Temple Night"];function d(){const I=et(new Date,"yyyy-MM-dd");return!a||!o||I>=a&&I<=o?I:I<a?a:o}const y={prepared_names_count:0,baptism_ordinances_count:0,confirmation_ordinances_count:0,initiatory_ordinances_count:0,endowment_ordinances_count:0,sealing_ordinances_count:0,entry_type:"Personal",date:d(),approved:!0};let f={...y},T={message:"",type:null};const k=()=>{t(2,f={...y,date:d()}),t(3,T={message:"",type:null});const I=`[data-bs-target="#${i}"]`,pe=document.querySelector(I);pe&&pe.click()},L=()=>{window.location.reload()},b=()=>{S()},D=()=>{t(3,T={message:"",type:null})},S=async()=>{try{Kt(r,l=!0,l),t(3,T={message:"",type:null}),await v({prepared_names_count:f.prepared_names_count,baptism_ordinances_count:f.baptism_ordinances_count,confirmation_ordinances_count:f.confirmation_ordinances_count,initiatory_ordinances_count:f.initiatory_ordinances_count,endowment_ordinances_count:f.endowment_ordinances_count,sealing_ordinances_count:f.sealing_ordinances_count,entry_type:f.entry_type,date:f.date,created_at:new Date().toISOString(),approved:!0}),await u(),k()}catch(I){console.error("[WardGoalEntryForm] Submission failed:",I),I instanceof Error?I.message.includes("expired")||I.message.includes("JWT")?t(3,T={type:"expired",message:"Your session has encountered a problem. Click the button below to refresh the app and try again."}):I.message.includes("fetch")||I.message.includes("network")?t(3,T={type:"network",message:"Unable to save your entry. Please check your internet connection."}):t(3,T={type:"general",message:"We couldn't save your entry. Try reloading the app to fix the issue."}):t(3,T={type:"general",message:"We couldn't save your entry. Try reloading the app to fix the issue."})}finally{Kt(r,l=!1,l)}};function j(){f.date=this.value,t(2,f),t(6,g)}function O(){f.entry_type=Vn(this),t(2,f),t(6,g)}function H(I){n.$$.not_equal(f.prepared_names_count,I)&&(f.prepared_names_count=I,t(2,f))}function R(I){n.$$.not_equal(f.baptism_ordinances_count,I)&&(f.baptism_ordinances_count=I,t(2,f))}function W(I){n.$$.not_equal(f.confirmation_ordinances_count,I)&&(f.confirmation_ordinances_count=I,t(2,f))}function F(I){n.$$.not_equal(f.initiatory_ordinances_count,I)&&(f.initiatory_ordinances_count=I,t(2,f))}function z(I){n.$$.not_equal(f.endowment_ordinances_count,I)&&(f.endowment_ordinances_count=I,t(2,f))}function ne(I){n.$$.not_equal(f.sealing_ordinances_count,I)&&(f.sealing_ordinances_count=I,t(2,f))}return n.$$set=I=>{"drawerId"in I&&t(12,i=I.drawerId),"minDate"in I&&t(0,a=I.minDate),"maxDate"in I&&t(1,o=I.maxDate)},n.$$.update=()=>{n.$$.dirty&4&&t(4,s=f.prepared_names_count+f.baptism_ordinances_count+f.confirmation_ordinances_count+f.initiatory_ordinances_count+f.endowment_ordinances_count+f.sealing_ordinances_count)},[a,o,f,T,s,r,g,k,L,b,D,S,i,j,O,H,R,W,F,z,ne]}class ws extends Fe{constructor(e){super(),Ge(this,e,ys,vs,qe,{drawerId:12,minDate:0,maxDate:1})}}function cn(n){let e,t,s=n[0]?.entry_type+"",l;return{c(){e=p("small"),t=p("span"),l=B(s),this.h()},l(i){e=h(i,"SMALL",{class:!0});var a=w(e);t=h(a,"SPAN",{class:!0});var o=w(t);l=V(o,s),o.forEach(_),a.forEach(_),this.h()},h(){m(t,"class","fw-bolder"),m(e,"class","d-flex justify-content-start")},m(i,a){A(i,e,a),c(e,t),c(t,l)},p(i,a){a&1&&s!==(s=i[0]?.entry_type+"")&&x(l,s)},d(i){i&&_(e)}}}function un(n){let e,t,s="Submitted",l,i,a,o=tn(new Date(n[0].created_at),{addSuffix:!0})+"",r,v,u,g=et(new Date(n[0].created_at),"MMMM d, yyyy 'at' h:mm a")+"",d;return{c(){e=p("small"),t=p("span"),t.textContent=s,l=C(),i=p("span"),a=p("span"),r=B(o),v=C(),u=p("span"),d=B(g),this.h()},l(y){e=h(y,"SMALL",{class:!0});var f=w(e);t=h(f,"SPAN",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-muxy17"&&(t.textContent=s),l=M(f),i=h(f,"SPAN",{class:!0});var T=w(i);a=h(T,"SPAN",{class:!0});var k=w(a);r=V(k,o),k.forEach(_),v=M(T),u=h(T,"SPAN",{class:!0});var L=w(u);d=V(L,g),L.forEach(_),T.forEach(_),f.forEach(_),this.h()},h(){m(t,"class","fw-lighter"),m(a,"class","fw-bolder d-flex justify-content-end"),m(u,"class","fw-lighter fs-x-small"),m(i,"class","d-flex flex-column"),m(e,"class","d-flex justify-content-between")},m(y,f){A(y,e,f),c(e,t),c(e,l),c(e,i),c(i,a),c(a,r),c(i,v),c(i,u),c(u,d)},p(y,f){f&1&&o!==(o=tn(new Date(y[0].created_at),{addSuffix:!0})+"")&&x(r,o),f&1&&g!==(g=et(new Date(y[0].created_at),"MMMM d, yyyy 'at' h:mm a")+"")&&x(d,g)},d(y){y&&_(e)}}}function Ts(n){let e,t,s,l,i="Names Prepared Count",a,o,r=n[0]?.prepared_names_count+"",v,u,g,d,y="Baptism Count",f,T,k=n[0]?.baptism_ordinances_count+"",L,b,D,S,j="Confirmation Count",O,H,R=n[0]?.confirmation_ordinances_count+"",W,F,z,ne,I="Initiatory Count",pe,le,Q=n[0]?.initiatory_ordinances_count+"",Me,Ye,se,fe,je="Endowment Count",de,Le,Ee=n[0]?.endowment_ordinances_count+"",ge,re,_e,Ne,Ae="Sealing Count",Pe,be,ie=n[0]?.sealing_ordinances_count+"",me,ze,Z=n[2]&&cn(n),$=n[1]&&n[0]?.created_at&&un(n);return{c(){e=p("div"),Z&&Z.c(),t=C(),s=p("small"),l=p("span"),l.textContent=i,a=C(),o=p("span"),v=B(r),u=C(),g=p("small"),d=p("span"),d.textContent=y,f=C(),T=p("span"),L=B(k),b=C(),D=p("small"),S=p("span"),S.textContent=j,O=C(),H=p("span"),W=B(R),F=C(),z=p("small"),ne=p("span"),ne.textContent=I,pe=C(),le=p("span"),Me=B(Q),Ye=C(),se=p("small"),fe=p("span"),fe.textContent=je,de=C(),Le=p("span"),ge=B(Ee),re=C(),_e=p("small"),Ne=p("span"),Ne.textContent=Ae,Pe=C(),be=p("span"),me=B(ie),ze=C(),$&&$.c(),this.h()},l(Y){e=h(Y,"DIV",{class:!0});var U=w(e);Z&&Z.l(U),t=M(U),s=h(U,"SMALL",{class:!0});var Xe=w(s);l=h(Xe,"SPAN",{class:!0,"data-svelte-h":!0}),G(l)!=="svelte-1ks3r10"&&(l.textContent=i),a=M(Xe),o=h(Xe,"SPAN",{class:!0});var Ke=w(o);v=V(Ke,r),Ke.forEach(_),Xe.forEach(_),u=M(U),g=h(U,"SMALL",{class:!0});var J=w(g);d=h(J,"SPAN",{class:!0,"data-svelte-h":!0}),G(d)!=="svelte-1mbgin5"&&(d.textContent=y),f=M(J),T=h(J,"SPAN",{class:!0});var tt=w(T);L=V(tt,k),tt.forEach(_),J.forEach(_),b=M(U),D=h(U,"SMALL",{class:!0});var Oe=w(D);S=h(Oe,"SPAN",{class:!0,"data-svelte-h":!0}),G(S)!=="svelte-7kzc3g"&&(S.textContent=j),O=M(Oe),H=h(Oe,"SPAN",{class:!0});var oe=w(H);W=V(oe,R),oe.forEach(_),Oe.forEach(_),F=M(U),z=h(U,"SMALL",{class:!0});var Ce=w(z);ne=h(Ce,"SPAN",{class:!0,"data-svelte-h":!0}),G(ne)!=="svelte-haf5jr"&&(ne.textContent=I),pe=M(Ce),le=h(Ce,"SPAN",{class:!0});var ee=w(le);Me=V(ee,Q),ee.forEach(_),Ce.forEach(_),Ye=M(U),se=h(U,"SMALL",{class:!0});var Ve=w(se);fe=h(Ve,"SPAN",{class:!0,"data-svelte-h":!0}),G(fe)!=="svelte-1bn7wya"&&(fe.textContent=je),de=M(Ve),Le=h(Ve,"SPAN",{class:!0});var ue=w(Le);ge=V(ue,Ee),ue.forEach(_),Ve.forEach(_),re=M(U),_e=h(U,"SMALL",{class:!0});var $e=w(_e);Ne=h($e,"SPAN",{class:!0,"data-svelte-h":!0}),G(Ne)!=="svelte-1704y1y"&&(Ne.textContent=Ae),Pe=M($e),be=h($e,"SPAN",{class:!0});var xe=w(be);me=V(xe,ie),xe.forEach(_),$e.forEach(_),ze=M(U),$&&$.l(U),U.forEach(_),this.h()},h(){m(l,"class","fw-lighter"),m(o,"class","fw-bolder"),m(s,"class","d-flex justify-content-between"),m(d,"class","fw-lighter"),m(T,"class","fw-bolder"),m(g,"class","d-flex justify-content-between"),m(S,"class","fw-lighter"),m(H,"class","fw-bolder"),m(D,"class","d-flex justify-content-between"),m(ne,"class","fw-lighter"),m(le,"class","fw-bolder"),m(z,"class","d-flex justify-content-between"),m(fe,"class","fw-lighter"),m(Le,"class","fw-bolder"),m(se,"class","d-flex justify-content-between"),m(Ne,"class","fw-lighter"),m(be,"class","fw-bolder"),m(_e,"class","d-flex justify-content-between"),m(e,"class","d-flex flex-column gap-2")},m(Y,U){A(Y,e,U),Z&&Z.m(e,null),c(e,t),c(e,s),c(s,l),c(s,a),c(s,o),c(o,v),c(e,u),c(e,g),c(g,d),c(g,f),c(g,T),c(T,L),c(e,b),c(e,D),c(D,S),c(D,O),c(D,H),c(H,W),c(e,F),c(e,z),c(z,ne),c(z,pe),c(z,le),c(le,Me),c(e,Ye),c(e,se),c(se,fe),c(se,de),c(se,Le),c(Le,ge),c(e,re),c(e,_e),c(_e,Ne),c(_e,Pe),c(_e,be),c(be,me),c(e,ze),$&&$.m(e,null)},p(Y,[U]){Y[2]?Z?Z.p(Y,U):(Z=cn(Y),Z.c(),Z.m(e,t)):Z&&(Z.d(1),Z=null),U&1&&r!==(r=Y[0]?.prepared_names_count+"")&&x(v,r),U&1&&k!==(k=Y[0]?.baptism_ordinances_count+"")&&x(L,k),U&1&&R!==(R=Y[0]?.confirmation_ordinances_count+"")&&x(W,R),U&1&&Q!==(Q=Y[0]?.initiatory_ordinances_count+"")&&x(Me,Q),U&1&&Ee!==(Ee=Y[0]?.endowment_ordinances_count+"")&&x(ge,Ee),U&1&&ie!==(ie=Y[0]?.sealing_ordinances_count+"")&&x(me,ie),Y[1]&&Y[0]?.created_at?$?$.p(Y,U):($=un(Y),$.c(),$.m(e,null)):$&&($.d(1),$=null)},i:K,o:K,d(Y){Y&&_(e),Z&&Z.d(),$&&$.d()}}}function Ds(n,e,t){let{entry:s}=e,{showSubmittedData:l=!1}=e,{showType:i=!1}=e;return n.$$set=a=>{"entry"in a&&t(0,s=a.entry),"showSubmittedData"in a&&t(1,l=a.showSubmittedData),"showType"in a&&t(2,i=a.showType)},[s,l,i]}class Ot extends Fe{constructor(e){super(),Ge(this,e,Ds,Ts,qe,{entry:0,showSubmittedData:1,showType:2})}}function ks(n){let e,t=et(gt(n[1],"yyyy-MM-dd",new Date),"MMM dd, EEEE")+"",s,l,i,a,o,r,v,u,g,d,y="Total",f,T,k,L;return r=new Ot({props:{entry:n[0]}}),{c(){e=p("div"),s=B(t),l=C(),i=p("ul"),a=p("li"),o=p("div"),De(r.$$.fragment),v=C(),u=p("div"),g=p("small"),d=p("span"),d.textContent=y,f=C(),T=p("span"),k=B(n[2]),this.h()},l(b){e=h(b,"DIV",{});var D=w(e);s=V(D,t),D.forEach(_),l=M(b),i=h(b,"UL",{class:!0});var S=w(i);a=h(S,"LI",{class:!0});var j=w(a);o=h(j,"DIV",{class:!0});var O=w(o);Te(r.$$.fragment,O),v=M(O),u=h(O,"DIV",{class:!0});var H=w(u);g=h(H,"SMALL",{class:!0});var R=w(g);d=h(R,"SPAN",{class:!0,"data-svelte-h":!0}),G(d)!=="svelte-1n54x5l"&&(d.textContent=y),f=M(R),T=h(R,"SPAN",{class:!0});var W=w(T);k=V(W,n[2]),W.forEach(_),R.forEach(_),H.forEach(_),O.forEach(_),j.forEach(_),S.forEach(_),this.h()},h(){m(d,"class","fw-bolder"),m(T,"class","fw-bolder"),m(g,"class","d-flex justify-content-between"),m(u,"class","d-flex flex-column gap-2"),m(o,"class","d-flex flex-column gap-2"),m(a,"class","list-group-item"),m(i,"class","list-group")},m(b,D){A(b,e,D),c(e,s),A(b,l,D),A(b,i,D),c(i,a),c(a,o),we(r,o,null),c(o,v),c(o,u),c(u,g),c(g,d),c(g,f),c(g,T),c(T,k),L=!0},p(b,[D]){(!L||D&2)&&t!==(t=et(gt(b[1],"yyyy-MM-dd",new Date),"MMM dd, EEEE")+"")&&x(s,t);const S={};D&1&&(S.entry=b[0]),r.$set(S),(!L||D&4)&&x(k,b[2])},i(b){L||(P(r.$$.fragment,b),L=!0)},o(b){q(r.$$.fragment,b),L=!1},d(b){b&&(_(e),_(l),_(i)),ye(r)}}}function Es(n,e,t){let s,{entry:l}=e,{date:i}=e;return n.$$set=a=>{"entry"in a&&t(0,l=a.entry),"date"in a&&t(1,i=a.date)},n.$$.update=()=>{n.$$.dirty&1&&t(2,s=l.baptism_ordinances_count+l.confirmation_ordinances_count+l.initiatory_ordinances_count+l.endowment_ordinances_count+l.sealing_ordinances_count)},[l,i,s]}class Ms extends Fe{constructor(e){super(),Ge(this,e,Es,ks,qe,{entry:0,date:1})}}function Cs(n){let e,t=et(gt(n[1],"yyyy-MM",new Date),"MMMM")+"",s,l,i,a,o,r,v,u,g,d,y="Total",f,T,k,L;return r=new Ot({props:{entry:n[0]}}),{c(){e=p("div"),s=B(t),l=C(),i=p("ul"),a=p("li"),o=p("div"),De(r.$$.fragment),v=C(),u=p("div"),g=p("small"),d=p("span"),d.textContent=y,f=C(),T=p("span"),k=B(n[2]),this.h()},l(b){e=h(b,"DIV",{});var D=w(e);s=V(D,t),D.forEach(_),l=M(b),i=h(b,"UL",{class:!0});var S=w(i);a=h(S,"LI",{class:!0});var j=w(a);o=h(j,"DIV",{class:!0});var O=w(o);Te(r.$$.fragment,O),v=M(O),u=h(O,"DIV",{class:!0});var H=w(u);g=h(H,"SMALL",{class:!0});var R=w(g);d=h(R,"SPAN",{class:!0,"data-svelte-h":!0}),G(d)!=="svelte-1n54x5l"&&(d.textContent=y),f=M(R),T=h(R,"SPAN",{class:!0});var W=w(T);k=V(W,n[2]),W.forEach(_),R.forEach(_),H.forEach(_),O.forEach(_),j.forEach(_),S.forEach(_),this.h()},h(){m(d,"class","fw-bolder"),m(T,"class","fw-bolder"),m(g,"class","d-flex justify-content-between"),m(u,"class","d-flex flex-column gap-2"),m(o,"class","d-flex flex-column gap-2"),m(a,"class","list-group-item"),m(i,"class","list-group")},m(b,D){A(b,e,D),c(e,s),A(b,l,D),A(b,i,D),c(i,a),c(a,o),we(r,o,null),c(o,v),c(o,u),c(u,g),c(g,d),c(g,f),c(g,T),c(T,k),L=!0},p(b,[D]){(!L||D&2)&&t!==(t=et(gt(b[1],"yyyy-MM",new Date),"MMMM")+"")&&x(s,t);const S={};D&1&&(S.entry=b[0]),r.$set(S),(!L||D&4)&&x(k,b[2])},i(b){L||(P(r.$$.fragment,b),L=!0)},o(b){q(r.$$.fragment,b),L=!1},d(b){b&&(_(e),_(l),_(i)),ye(r)}}}function Ss(n,e,t){let{entry:s}=e,{date:l}=e,i=0;return n.$$set=a=>{"entry"in a&&t(0,s=a.entry),"date"in a&&t(1,l=a.date)},n.$$.update=()=>{n.$$.dirty&1&&t(2,i=s.baptism_ordinances_count+s.confirmation_ordinances_count+s.initiatory_ordinances_count+s.endowment_ordinances_count+s.sealing_ordinances_count)},[s,l,i]}class Is extends Fe{constructor(e){super(),Ge(this,e,Ss,Cs,qe,{entry:0,date:1})}}function fn(n,e,t){const s=n.slice();return s[2]=e[t],s}function dn(n){let e,t,s,l,i;return s=new Ot({props:{entry:n[2],showSubmittedData:!0,showType:!0}}),{c(){e=p("li"),t=p("div"),De(s.$$.fragment),l=C(),this.h()},l(a){e=h(a,"LI",{class:!0});var o=w(e);t=h(o,"DIV",{class:!0});var r=w(t);Te(s.$$.fragment,r),r.forEach(_),l=M(o),o.forEach(_),this.h()},h(){m(t,"class","d-flex flex-column gap-2"),m(e,"class","list-group-item")},m(a,o){A(a,e,o),c(e,t),we(s,t,null),c(e,l),i=!0},p(a,o){const r={};o&1&&(r.entry=a[2]),s.$set(r)},i(a){i||(P(s.$$.fragment,a),i=!0)},o(a){q(s.$$.fragment,a),i=!1},d(a){a&&_(e),ye(s)}}}function Ls(n){let e,t=et(gt(n[1],"yyyy-MM-dd",new Date),"MMM dd, EEEE")+"",s,l,i,a,o=We(n[0]),r=[];for(let u=0;u<o.length;u+=1)r[u]=dn(fn(n,o,u));const v=u=>q(r[u],1,1,()=>{r[u]=null});return{c(){e=p("div"),s=B(t),l=C(),i=p("ul");for(let u=0;u<r.length;u+=1)r[u].c();this.h()},l(u){e=h(u,"DIV",{});var g=w(e);s=V(g,t),g.forEach(_),l=M(u),i=h(u,"UL",{class:!0});var d=w(i);for(let y=0;y<r.length;y+=1)r[y].l(d);d.forEach(_),this.h()},h(){m(i,"class","list-group")},m(u,g){A(u,e,g),c(e,s),A(u,l,g),A(u,i,g);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(i,null);a=!0},p(u,[g]){if((!a||g&2)&&t!==(t=et(gt(u[1],"yyyy-MM-dd",new Date),"MMM dd, EEEE")+"")&&x(s,t),g&1){o=We(u[0]);let d;for(d=0;d<o.length;d+=1){const y=fn(u,o,d);r[d]?(r[d].p(y,g),P(r[d],1)):(r[d]=dn(y),r[d].c(),P(r[d],1),r[d].m(i,null))}for(Ue(),d=o.length;d<r.length;d+=1)v(d);Re()}},i(u){if(!a){for(let g=0;g<o.length;g+=1)P(r[g]);a=!0}},o(u){r=r.filter(Boolean);for(let g=0;g<r.length;g+=1)q(r[g]);a=!1},d(u){u&&(_(e),_(l),_(i)),Tt(r,u)}}}function Ns(n,e,t){let{entries:s}=e,{date:l}=e;return n.$$set=i=>{"entries"in i&&t(0,s=i.entries),"date"in i&&t(1,l=i.date)},[s,l]}class As extends Fe{constructor(e){super(),Ge(this,e,Ns,Ls,qe,{entries:0,date:1})}}function _n(n,e,t){const s=n.slice();return s[17]=e[t][0],s[18]=e[t][1],s}function mn(n,e,t){const s=n.slice();return s[17]=e[t][0],s[18]=e[t][1],s}function hn(n,e,t){const s=n.slice();return s[17]=e[t][0],s[23]=e[t][1],s}function Ps(n){let e;return{c(){e=B("No Data Found")},l(t){e=V(t,"No Data Found")},m(t,s){A(t,e,s)},p:K,i:K,o:K,d(t){t&&_(e)}}}function Os(n){let e,t,s,l,i,a,o;function r(y){n[11](y)}let v={options:n[8],helperText:"",label:"Filter",disabled:!1};n[1]!==void 0&&(v.value=n[1]),t=new Yn({props:v}),st.push(()=>ot(t,"value",r));let u=n[1]==="by-submission"&&pn(n),g=n[1]==="by-day"&&bn(n),d=n[1]==="by-month"&&yn(n);return{c(){e=p("div"),De(t.$$.fragment),l=C(),u&&u.c(),i=C(),g&&g.c(),a=C(),d&&d.c(),this.h()},l(y){e=h(y,"DIV",{class:!0});var f=w(e);Te(t.$$.fragment,f),l=M(f),u&&u.l(f),i=M(f),g&&g.l(f),a=M(f),d&&d.l(f),f.forEach(_),this.h()},h(){m(e,"class","d-flex flex-column gap-3")},m(y,f){A(y,e,f),we(t,e,null),c(e,l),u&&u.m(e,null),c(e,i),g&&g.m(e,null),c(e,a),d&&d.m(e,null),o=!0},p(y,f){const T={};!s&&f&2&&(s=!0,T.value=y[1],rt(()=>s=!1)),t.$set(T),y[1]==="by-submission"?u?(u.p(y,f),f&2&&P(u,1)):(u=pn(y),u.c(),P(u,1),u.m(e,i)):u&&(Ue(),q(u,1,1,()=>{u=null}),Re()),y[1]==="by-day"?g?(g.p(y,f),f&2&&P(g,1)):(g=bn(y),g.c(),P(g,1),g.m(e,a)):g&&(Ue(),q(g,1,1,()=>{g=null}),Re()),y[1]==="by-month"?d?(d.p(y,f),f&2&&P(d,1)):(d=yn(y),d.c(),P(d,1),d.m(e,null)):d&&(Ue(),q(d,1,1,()=>{d=null}),Re())},i(y){o||(P(t.$$.fragment,y),P(u),P(g),P(d),o=!0)},o(y){q(t.$$.fragment,y),q(u),q(g),q(d),o=!1},d(y){y&&_(e),ye(t),u&&u.d(),g&&g.d(),d&&d.d()}}}function pn(n){let e,t,s=We(Object.entries(n[2])),l=[];for(let a=0;a<s.length;a+=1)l[a]=gn(hn(n,s,a));const i=a=>q(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=lt()},l(a){for(let o=0;o<l.length;o+=1)l[o].l(a);e=lt()},m(a,o){for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(a,o);A(a,e,o),t=!0},p(a,o){if(o&4){s=We(Object.entries(a[2]));let r;for(r=0;r<s.length;r+=1){const v=hn(a,s,r);l[r]?(l[r].p(v,o),P(l[r],1)):(l[r]=gn(v),l[r].c(),P(l[r],1),l[r].m(e.parentNode,e))}for(Ue(),r=s.length;r<l.length;r+=1)i(r);Re()}},i(a){if(!t){for(let o=0;o<s.length;o+=1)P(l[o]);t=!0}},o(a){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)q(l[o]);t=!1},d(a){a&&_(e),Tt(l,a)}}}function gn(n){let e,t,s,l;return t=new As({props:{date:n[17],entries:n[23]}}),{c(){e=p("div"),De(t.$$.fragment),s=C(),this.h()},l(i){e=h(i,"DIV",{class:!0});var a=w(e);Te(t.$$.fragment,a),s=M(a),a.forEach(_),this.h()},h(){m(e,"class","d-flex flex-column gap-3")},m(i,a){A(i,e,a),we(t,e,null),c(e,s),l=!0},p(i,a){const o={};a&4&&(o.date=i[17]),a&4&&(o.entries=i[23]),t.$set(o)},i(i){l||(P(t.$$.fragment,i),l=!0)},o(i){q(t.$$.fragment,i),l=!1},d(i){i&&_(e),ye(t)}}}function bn(n){let e,t,s=We(Object.entries(n[3])),l=[];for(let a=0;a<s.length;a+=1)l[a]=vn(mn(n,s,a));const i=a=>q(l[a],1,1,()=>{l[a]=null});return{c(){e=p("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=h(a,"DIV",{class:!0});var o=w(e);for(let r=0;r<l.length;r+=1)l[r].l(o);o.forEach(_),this.h()},h(){m(e,"class","d-flex flex-column gap-3")},m(a,o){A(a,e,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null);t=!0},p(a,o){if(o&8){s=We(Object.entries(a[3]));let r;for(r=0;r<s.length;r+=1){const v=mn(a,s,r);l[r]?(l[r].p(v,o),P(l[r],1)):(l[r]=vn(v),l[r].c(),P(l[r],1),l[r].m(e,null))}for(Ue(),r=s.length;r<l.length;r+=1)i(r);Re()}},i(a){if(!t){for(let o=0;o<s.length;o+=1)P(l[o]);t=!0}},o(a){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)q(l[o]);t=!1},d(a){a&&_(e),Tt(l,a)}}}function vn(n){let e,t;return e=new Ms({props:{date:n[17],entry:n[18]}}),{c(){De(e.$$.fragment)},l(s){Te(e.$$.fragment,s)},m(s,l){we(e,s,l),t=!0},p(s,l){const i={};l&8&&(i.date=s[17]),l&8&&(i.entry=s[18]),e.$set(i)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){ye(e,s)}}}function yn(n){let e,t,s=We(Object.entries(n[4])),l=[];for(let a=0;a<s.length;a+=1)l[a]=wn(_n(n,s,a));const i=a=>q(l[a],1,1,()=>{l[a]=null});return{c(){e=p("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=h(a,"DIV",{class:!0});var o=w(e);for(let r=0;r<l.length;r+=1)l[r].l(o);o.forEach(_),this.h()},h(){m(e,"class","d-flex flex-column gap-3")},m(a,o){A(a,e,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null);t=!0},p(a,o){if(o&16){s=We(Object.entries(a[4]));let r;for(r=0;r<s.length;r+=1){const v=_n(a,s,r);l[r]?(l[r].p(v,o),P(l[r],1)):(l[r]=wn(v),l[r].c(),P(l[r],1),l[r].m(e,null))}for(Ue(),r=s.length;r<l.length;r+=1)i(r);Re()}},i(a){if(!t){for(let o=0;o<s.length;o+=1)P(l[o]);t=!0}},o(a){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)q(l[o]);t=!1},d(a){a&&_(e),Tt(l,a)}}}function wn(n){let e,t;return e=new Is({props:{date:n[17],entry:n[18]}}),{c(){De(e.$$.fragment)},l(s){Te(e.$$.fragment,s)},m(s,l){we(e,s,l),t=!0},p(s,l){const i={};l&16&&(i.date=s[17]),l&16&&(i.entry=s[18]),e.$set(i)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){ye(e,s)}}}function Vs(n){let e,t,s,l;const i=[Os,Ps],a=[];function o(r,v){return r[0]?.length?0:1}return e=o(n),t=a[e]=i[e](n),{c(){t.c(),s=lt()},l(r){t.l(r),s=lt()},m(r,v){a[e].m(r,v),A(r,s,v),l=!0},p(r,[v]){let u=e;e=o(r),e===u?a[e].p(r,v):(Ue(),q(a[u],1,1,()=>{a[u]=null}),Re(),t=a[e],t?t.p(r,v):(t=a[e]=i[e](r),t.c()),P(t,1),t.m(s.parentNode,s))},i(r){l||(P(t),l=!0)},o(r){q(t),l=!1},d(r){r&&_(s),a[e].d(r)}}}function Bs(n){return n?n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):""}function js(n,e,t){let s,l,i,a;const{stores:{data:o,groupedByDate:r,detailTotalsByDay:v,detailTotalsByMonth:u},actions:{reload:g}}=At();Ze(n,r,S=>t(2,l=S)),Ze(n,v,S=>t(3,i=S)),Ze(n,u,S=>t(4,a=S));let{query:d=""}=e,y=[],f=[];const T=o.subscribe(S=>{t(0,y=S),t(10,f=[...S])}),k=S=>{let j=[...y];return S&&(j=j.filter(O=>O?.entry_type?O?.entry_type?.trim().toLowerCase().match(s.trim().toLowerCase()):!1)),j};An(g),Bn(T);let L="by-month";const b=[{key:"By Submission",value:"by-submission"},{key:"By Day",value:"by-day"},{key:"By Month",value:"by-month"}];function D(S){L=S,t(1,L)}return n.$$set=S=>{"query"in S&&t(9,d=S.query)},n.$$.update=()=>{n.$$.dirty&512&&(s=Bs(d?.trim().toLowerCase())),n.$$.dirty&1536&&(d?t(0,y=k(d)):t(0,y=[...f]))},[y,L,l,i,a,r,v,u,b,d,f,D]}class Hs extends Fe{constructor(e){super(),Ge(this,e,js,Vs,qe,{query:9})}}function Tn(n){let e,t="0";return{c(){e=p("span"),e.textContent=t,this.h()},l(s){e=h(s,"SPAN",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-f2q4pl"&&(e.textContent=t),this.h()},h(){m(e,"class","d-flex justify-content-end")},m(s,l){A(s,e,l)},d(s){s&&_(e)}}}function Dn(n){let e,t="0";return{c(){e=p("span"),e.textContent=t,this.h()},l(s){e=h(s,"SPAN",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-f2q4pl"&&(e.textContent=t),this.h()},h(){m(e,"class","d-flex justify-content-end")},m(s,l){A(s,e,l)},d(s){s&&_(e)}}}function kn(n){let e,t=wt(n[4])+"",s;return{c(){e=p("span"),s=B(t),this.h()},l(l){e=h(l,"SPAN",{class:!0});var i=w(e);s=V(i,t),i.forEach(_),this.h()},h(){m(e,"class","d-flex justify-content-end")},m(l,i){A(l,e,i),c(e,s)},p(l,i){i&16&&t!==(t=wt(l[4])+"")&&x(s,t)},d(l){l&&_(e)}}}function En(n){let e,t=wt(n[7])+"",s;return{c(){e=p("span"),s=B(t),this.h()},l(l){e=h(l,"SPAN",{class:!0});var i=w(e);s=V(i,t),i.forEach(_),this.h()},h(){m(e,"class","d-flex justify-content-end")},m(l,i){A(l,e,i),c(e,s)},p(l,i){i&128&&t!==(t=wt(l[7])+"")&&x(s,t)},d(l){l&&_(e)}}}function Mn(n){let e,t,s="Temple Ordinances Progress",l,i,a,o,r,v,u;return{c(){e=p("div"),t=p("small"),t.textContent=s,l=C(),i=p("div"),a=p("div"),o=C(),r=p("small"),v=B(n[5]),u=B("% complete"),this.h()},l(g){e=h(g,"DIV",{class:!0});var d=w(e);t=h(d,"SMALL",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-gwd70w"&&(t.textContent=s),l=M(d),i=h(d,"DIV",{class:!0,style:!0});var y=w(i);a=h(y,"DIV",{class:!0,role:!0,style:!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0}),w(a).forEach(_),y.forEach(_),o=M(d),r=h(d,"SMALL",{class:!0});var f=w(r);v=V(f,n[5]),u=V(f,"% complete"),f.forEach(_),d.forEach(_),this.h()},h(){m(t,"class","text-muted"),m(a,"class","progress-bar"),m(a,"role","progressbar"),vt(a,"width",Math.min(n[5],100)+"%"),m(a,"aria-valuenow",n[5]),m(a,"aria-valuemin","0"),m(a,"aria-valuemax","100"),m(i,"class","progress"),vt(i,"height","8px"),m(r,"class","text-muted"),m(e,"class","progress-section svelte-1runh9v")},m(g,d){A(g,e,d),c(e,t),c(e,l),c(e,i),c(i,a),c(e,o),c(e,r),c(r,v),c(r,u)},p(g,d){d&32&&vt(a,"width",Math.min(g[5],100)+"%"),d&32&&m(a,"aria-valuenow",g[5]),d&32&&x(v,g[5])},d(g){g&&_(e)}}}function Us(n){let e,t,s,l=n[0].year+"",i,a,o,r,v,u,g,d,y,f,T,k,L='<tr><th scope="col"></th> <th scope="col"><span class="d-flex justify-content-end">Goal</span></th> <th scope="col"><span class="d-flex justify-content-end">Actual</span></th></tr>',b,D,S,j,O='<span class="fw-lighter">Baptisms</span>',H,R,W,F=pt(n[0].baptisms_goal)+"",z,ne,I,pe,le,Q,Me='<span class="fw-lighter">Family Sealing</span>',Ye,se,fe,je=pt(n[0].family_sealings_goal)+"",de,Le,Ee,ge,re,_e,Ne='<span class="fw-lighter">Temple Ordinances</span>',Ae,Pe,be,ie=pt(n[0].temple_ordinances_goal)+"",me,ze,Z,$,Y,U,Xe='<span class="fw-lighter">Names Prepared for Temple Ordinances</span>',Ke,J,tt='<span class="d-flex justify-content-end">--</span>',Oe,oe,Ce,ee,Ve,ue,$e,xe,bt,Qe,Se,it,ct,ut,Dt,he=!n[8]&&Tn(),E=!n[8]&&Dn(),N=!n[8]&&kn(n),X=!n[8]&&En(n),ae=n[5]!==null&&n[0].temple_ordinances_goal&&Mn(n);return{c(){e=p("div"),t=p("div"),s=B("Ward Mission Goal "),i=B(l),a=C(),o=p("span"),r=B("("),v=B(n[6]),u=B(")"),g=C(),d=p("div"),y=p("div"),f=p("div"),T=p("table"),k=p("thead"),k.innerHTML=L,b=C(),D=p("tbody"),S=p("tr"),j=p("td"),j.innerHTML=O,H=C(),R=p("td"),W=p("span"),z=B(F),ne=C(),I=p("td"),he&&he.c(),pe=C(),le=p("tr"),Q=p("td"),Q.innerHTML=Me,Ye=C(),se=p("td"),fe=p("span"),de=B(je),Le=C(),Ee=p("td"),E&&E.c(),ge=C(),re=p("tr"),_e=p("td"),_e.innerHTML=Ne,Ae=C(),Pe=p("td"),be=p("span"),me=B(ie),ze=C(),Z=p("td"),N&&N.c(),$=C(),Y=p("tr"),U=p("td"),U.innerHTML=Xe,Ke=C(),J=p("td"),J.innerHTML=tt,Oe=C(),oe=p("td"),X&&X.c(),Ce=C(),ae&&ae.c(),ee=C(),Ve=p("div"),ue=p("button"),$e=B("Submit your temple activity"),bt=C(),Qe=p("div"),Se=p("button"),it=B("See all submissions"),this.h()},l(ve){e=h(ve,"DIV",{class:!0});var te=w(e);t=h(te,"DIV",{class:!0});var Be=w(t);s=V(Be,"Ward Mission Goal "),i=V(Be,l),a=M(Be),o=h(Be,"SPAN",{class:!0});var Je=w(o);r=V(Je,"("),v=V(Je,n[6]),u=V(Je,")"),Je.forEach(_),Be.forEach(_),g=M(te),d=h(te,"DIV",{class:!0});var ce=w(d);y=h(ce,"DIV",{class:!0});var Ie=w(y);f=h(Ie,"DIV",{class:!0});var Vt=w(f);T=h(Vt,"TABLE",{class:!0});var kt=w(T);k=h(kt,"THEAD",{"data-svelte-h":!0}),G(k)!=="svelte-mx78dg"&&(k.innerHTML=L),b=M(kt),D=h(kt,"TBODY",{});var nt=w(D);S=h(nt,"TR",{});var ft=w(S);j=h(ft,"TD",{"data-svelte-h":!0}),G(j)!=="svelte-14gdsdh"&&(j.innerHTML=O),H=M(ft),R=h(ft,"TD",{});var Bt=w(R);W=h(Bt,"SPAN",{class:!0});var jt=w(W);z=V(jt,F),jt.forEach(_),Bt.forEach(_),ne=M(ft),I=h(ft,"TD",{});var Ht=w(I);he&&he.l(Ht),Ht.forEach(_),ft.forEach(_),pe=M(nt),le=h(nt,"TR",{});var dt=w(le);Q=h(dt,"TD",{"data-svelte-h":!0}),G(Q)!=="svelte-1wbe9hz"&&(Q.innerHTML=Me),Ye=M(dt),se=h(dt,"TD",{});var Ut=w(se);fe=h(Ut,"SPAN",{class:!0});var Rt=w(fe);de=V(Rt,je),Rt.forEach(_),Ut.forEach(_),Le=M(dt),Ee=h(dt,"TD",{});var Wt=w(Ee);E&&E.l(Wt),Wt.forEach(_),dt.forEach(_),ge=M(nt),re=h(nt,"TR",{});var _t=w(re);_e=h(_t,"TD",{"data-svelte-h":!0}),G(_e)!=="svelte-19hzl8h"&&(_e.innerHTML=Ne),Ae=M(_t),Pe=h(_t,"TD",{});var qt=w(Pe);be=h(qt,"SPAN",{class:!0});var Ft=w(be);me=V(Ft,ie),Ft.forEach(_),qt.forEach(_),ze=M(_t),Z=h(_t,"TD",{});var Gt=w(Z);N&&N.l(Gt),Gt.forEach(_),_t.forEach(_),$=M(nt),Y=h(nt,"TR",{});var mt=w(Y);U=h(mt,"TD",{"data-svelte-h":!0}),G(U)!=="svelte-ul3utp"&&(U.innerHTML=Xe),Ke=M(mt),J=h(mt,"TD",{"data-svelte-h":!0}),G(J)!=="svelte-1pgevhv"&&(J.innerHTML=tt),Oe=M(mt),oe=h(mt,"TD",{});var Yt=w(oe);X&&X.l(Yt),Yt.forEach(_),mt.forEach(_),nt.forEach(_),kt.forEach(_),Vt.forEach(_),Ce=M(Ie),ae&&ae.l(Ie),ee=M(Ie),Ve=h(Ie,"DIV",{class:!0});var Xt=w(Ve);ue=h(Xt,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var zt=w(ue);$e=V(zt,"Submit your temple activity"),zt.forEach(_),Xt.forEach(_),bt=M(Ie),Qe=h(Ie,"DIV",{class:!0});var $t=w(Qe);Se=h($t,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var xt=w(Se);it=V(xt,"See all submissions"),xt.forEach(_),$t.forEach(_),Ie.forEach(_),ce.forEach(_),te.forEach(_),this.h()},h(){m(o,"class","text-muted fw-light"),m(t,"class","card-header svelte-1runh9v"),m(W,"class","d-flex justify-content-end"),m(fe,"class","d-flex justify-content-end"),m(be,"class","d-flex justify-content-end"),m(T,"class","table"),m(f,"class","table-responsive"),m(ue,"class","btn btn-sm btn-primary w-100"),m(ue,"type","button"),m(ue,"data-bs-toggle","offcanvas"),m(ue,"data-bs-target",xe="#"+n[1]),m(ue,"aria-controls",n[1]),m(Ve,"class","d-block"),m(Se,"class","btn btn-sm btn-link w-100"),m(Se,"type","button"),m(Se,"data-bs-toggle","offcanvas"),m(Se,"data-bs-target",ct="#"+n[1]),m(Se,"aria-controls",n[1]),m(Qe,"class","d-block"),m(y,"class","d-flex flex-column gap-2"),m(d,"class","card-body"),m(e,"class","card")},m(ve,te){A(ve,e,te),c(e,t),c(t,s),c(t,i),c(t,a),c(t,o),c(o,r),c(o,v),c(o,u),c(e,g),c(e,d),c(d,y),c(y,f),c(f,T),c(T,k),c(T,b),c(T,D),c(D,S),c(S,j),c(S,H),c(S,R),c(R,W),c(W,z),c(S,ne),c(S,I),he&&he.m(I,null),c(D,pe),c(D,le),c(le,Q),c(le,Ye),c(le,se),c(se,fe),c(fe,de),c(le,Le),c(le,Ee),E&&E.m(Ee,null),c(D,ge),c(D,re),c(re,_e),c(re,Ae),c(re,Pe),c(Pe,be),c(be,me),c(re,ze),c(re,Z),N&&N.m(Z,null),c(D,$),c(D,Y),c(Y,U),c(Y,Ke),c(Y,J),c(Y,Oe),c(Y,oe),X&&X.m(oe,null),c(y,Ce),ae&&ae.m(y,null),c(y,ee),c(y,Ve),c(Ve,ue),c(ue,$e),c(y,bt),c(y,Qe),c(Qe,Se),c(Se,it),ut||(Dt=[He(ue,"click",function(){Qt(n[2])&&n[2].apply(this,arguments)}),He(Se,"click",function(){Qt(n[3])&&n[3].apply(this,arguments)})],ut=!0)},p(ve,[te]){n=ve,te&1&&l!==(l=n[0].year+"")&&x(i,l),te&64&&x(v,n[6]),te&1&&F!==(F=pt(n[0].baptisms_goal)+"")&&x(z,F),n[8]?he&&(he.d(1),he=null):he||(he=Tn(),he.c(),he.m(I,null)),te&1&&je!==(je=pt(n[0].family_sealings_goal)+"")&&x(de,je),n[8]?E&&(E.d(1),E=null):E||(E=Dn(),E.c(),E.m(Ee,null)),te&1&&ie!==(ie=pt(n[0].temple_ordinances_goal)+"")&&x(me,ie),n[8]?N&&(N.d(1),N=null):N?N.p(n,te):(N=kn(n),N.c(),N.m(Z,null)),n[8]?X&&(X.d(1),X=null):X?X.p(n,te):(X=En(n),X.c(),X.m(oe,null)),n[5]!==null&&n[0].temple_ordinances_goal?ae?ae.p(n,te):(ae=Mn(n),ae.c(),ae.m(y,ee)):ae&&(ae.d(1),ae=null),te&2&&xe!==(xe="#"+n[1])&&m(ue,"data-bs-target",xe),te&2&&m(ue,"aria-controls",n[1]),te&2&&ct!==(ct="#"+n[1])&&m(Se,"data-bs-target",ct),te&2&&m(Se,"aria-controls",n[1])},i:K,o:K,d(ve){ve&&_(e),he&&he.d(),E&&E.d(),N&&N.d(),X&&X.d(),ae&&ae.d(),ut=!1,It(Dt)}}}function Rs(n,e){const[t,s,l]=n.split("-").map(Number),[i,a,o]=e.split("-").map(Number),r=new Date(t,s-1,l),v=new Date(i,a-1,o),u=r.toLocaleDateString("en-US",{month:"short"}),g=v.toLocaleDateString("en-US",{month:"short"});return`${u} to ${g}`}function wt(n){return n.toLocaleString("en-US")}function pt(n){return n!==null?wt(n):"--"}function Ws(n,e,t){let s,l,i,a,o,r,v,{goal:u}=e,{drawerId:g}=e,{onSubmitClick:d}=e,{onViewResultsClick:y}=e;const{stores:{data:f,loading:T}}=At();return Ze(n,f,k=>t(12,r=k)),Ze(n,T,k=>t(8,v=k)),n.$$set=k=>{"goal"in k&&t(0,u=k.goal),"drawerId"in k&&t(1,g=k.drawerId),"onSubmitClick"in k&&t(2,d=k.onSubmitClick),"onViewResultsClick"in k&&t(3,y=k.onViewResultsClick)},n.$$.update=()=>{n.$$.dirty&4097&&t(11,s=us(r,u.start_date,u.end_date)),n.$$.dirty&2048&&t(4,l=fs(s)),n.$$.dirty&2048&&t(7,i=ds(s)),n.$$.dirty&1&&t(6,a=Rs(u.start_date,u.end_date)),n.$$.dirty&17&&t(5,o=u.temple_ordinances_goal&&u.temple_ordinances_goal>0?Math.round(l/u.temple_ordinances_goal*100):null)},[u,g,d,y,l,o,a,i,v,f,T,s,r]}class qs extends Fe{constructor(e){super(),Ge(this,e,Ws,Us,qe,{goal:0,drawerId:1,onSubmitClick:2,onViewResultsClick:3})}}function Cn(n,e,t){const s=n.slice();return s[19]=e[t],s}function Sn(n){let e,t;return e=new ws({props:{drawerId:n[7],minDate:n[5]?.start_date,maxDate:n[5]?.end_date}}),{c(){De(e.$$.fragment)},l(s){Te(e.$$.fragment,s)},m(s,l){we(e,s,l),t=!0},p(s,l){const i={};l&32&&(i.minDate=s[5]?.start_date),l&32&&(i.maxDate=s[5]?.end_date),e.$set(i)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){ye(e,s)}}}function In(n){let e,t;return e=new Hs({}),{c(){De(e.$$.fragment)},l(s){Te(e.$$.fragment,s)},m(s,l){we(e,s,l),t=!0},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){ye(e,s)}}}function Fs(n){let e,t,s,l=n[0]==="form"&&Sn(n),i=n[0]==="results"&&In();return{c(){l&&l.c(),e=C(),i&&i.c(),t=lt()},l(a){l&&l.l(a),e=M(a),i&&i.l(a),t=lt()},m(a,o){l&&l.m(a,o),A(a,e,o),i&&i.m(a,o),A(a,t,o),s=!0},p(a,o){a[0]==="form"?l?(l.p(a,o),o&1&&P(l,1)):(l=Sn(a),l.c(),P(l,1),l.m(e.parentNode,e)):l&&(Ue(),q(l,1,1,()=>{l=null}),Re()),a[0]==="results"?i?o&1&&P(i,1):(i=In(),i.c(),P(i,1),i.m(t.parentNode,t)):i&&(Ue(),q(i,1,1,()=>{i=null}),Re())},i(a){s||(P(l),P(i),s=!0)},o(a){q(l),q(i),s=!1},d(a){a&&(_(e),_(t)),l&&l.d(a),i&&i.d(a)}}}function Gs(n){let e,t=[],s=new Map,l,i=We(n[3]);const a=o=>o[19].id;for(let o=0;o<i.length;o+=1){let r=Cn(n,i,o),v=a(r);s.set(v,t[o]=Nn(v,r))}return{c(){e=p("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=h(o,"DIV",{class:!0});var r=w(e);for(let v=0;v<t.length;v+=1)t[v].l(r);r.forEach(_),this.h()},h(){m(e,"class","row g-3")},m(o,r){A(o,e,r);for(let v=0;v<t.length;v+=1)t[v]&&t[v].m(e,null);l=!0},p(o,r){r&6282&&(i=We(o[3]),Ue(),t=Rn(t,r,a,1,o,i,s,e,Wn,Nn,null,Cn),Re())},i(o){if(!l){for(let r=0;r<i.length;r+=1)P(t[r]);l=!0}},o(o){for(let r=0;r<t.length;r+=1)q(t[r]);l=!1},d(o){o&&_(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function Ys(n){let e,t='<h5 class="alert-heading">No Goals Configured</h5> <p class="mb-0">No ward mission goals have been configured yet. Please contact an admin to set up goals.</p>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(s){e=h(s,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),G(e)!=="svelte-1t5x616"&&(e.innerHTML=t),this.h()},h(){m(e,"class","alert alert-info"),m(e,"role","alert")},m(s,l){A(s,e,l)},p:K,i:K,o:K,d(s){s&&_(e)}}}function Xs(n){let e,t='<div class="spinner-border" role="status"><span class="visually-hidden">Loading goals...</span></div>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(s){e=h(s,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-l6n904"&&(e.innerHTML=t),this.h()},h(){m(e,"class","text-center py-5")},m(s,l){A(s,e,l)},p:K,i:K,o:K,d(s){s&&_(e)}}}function Ln(n){let e,t,s;return{c(){e=p("button"),this.h()},l(l){e=h(l,"BUTTON",{style:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0}),w(e).forEach(_),this.h()},h(){vt(e,"display","none"),m(e,"data-bs-toggle","offcanvas"),m(e,"data-bs-target","#"+n[7]),m(e,"aria-controls",n[7])},m(l,i){A(l,e,i),n[16](e),t||(s=He(e,"click",n[11]),t=!0)},p:K,d(l){l&&_(e),n[16](null),t=!1,s()}}}function Nn(n,e){let t,s,l,i,a;s=new qs({props:{goal:e[19],drawerId:e[7],onSubmitClick:e[11],onViewResultsClick:e[12]}});let o=e[19]===e[3][0]&&Ln(e);return{key:n,first:null,c(){t=p("div"),De(s.$$.fragment),l=C(),o&&o.c(),i=C(),this.h()},l(r){t=h(r,"DIV",{class:!0});var v=w(t);Te(s.$$.fragment,v),l=M(v),o&&o.l(v),i=M(v),v.forEach(_),this.h()},h(){m(t,"class","col-12"),this.first=t},m(r,v){A(r,t,v),we(s,t,null),c(t,l),o&&o.m(t,null),c(t,i),a=!0},p(r,v){e=r;const u={};v&8&&(u.goal=e[19]),s.$set(u),e[19]===e[3][0]?o?o.p(e,v):(o=Ln(e),o.c(),o.m(t,i)):o&&(o.d(1),o=null)},i(r){a||(P(s.$$.fragment,r),a=!0)},o(r){q(s.$$.fragment,r),a=!1},d(r){r&&_(t),ye(s),o&&o.d()}}}function zs(n){let e,t,s,l,i,a;e=new qn({props:{placement:n[2],title:n[4],id:n[7],$$slots:{default:[Fs]},$$scope:{ctx:n}}});const o=[Xs,Ys,Gs],r=[];function v(u,g){return u[6]?0:u[3].length===0?1:2}return s=v(n),l=r[s]=o[s](n),{c(){De(e.$$.fragment),t=C(),l.c(),i=lt()},l(u){Te(e.$$.fragment,u),t=M(u),l.l(u),i=lt()},m(u,g){we(e,u,g),A(u,t,g),r[s].m(u,g),A(u,i,g),a=!0},p(u,[g]){const d={};g&4&&(d.placement=u[2]),g&16&&(d.title=u[4]),g&4194337&&(d.$$scope={dirty:g,ctx:u}),e.$set(d);let y=s;s=v(u),s===y?r[s].p(u,g):(Ue(),q(r[y],1,1,()=>{r[y]=null}),Re(),l=r[s],l?l.p(u,g):(l=r[s]=o[s](u),l.c()),P(l,1),l.m(i.parentNode,i))},i(u){a||(P(e.$$.fragment,u),P(l),a=!0)},o(u){q(e.$$.fragment,u),q(l),a=!1},d(u){u&&(_(t),_(i)),ye(e,u),r[s].d(u)}}}function $s(n,e,t){let s,l,i,a,o,r="form",v=Fn(),u="end",g,d=!1;const{actions:{reload:y}}=At(),{stores:{activeGoals:f,loading:T,currentGoalPeriod:k},actions:{reload:L}}=Gn();Ze(n,f,O=>t(15,i=O)),Ze(n,T,O=>t(6,o=O)),Ze(n,k,O=>t(5,a=O));let b=null;function D(){t(0,r="form")}function S(){t(0,r="results")}An(async()=>{await Promise.all([L(),y()]);const O=new URLSearchParams(window.location.search);t(14,b=O.get("log-temple-activity"))});function j(O){st[O?"unshift":"push"](()=>{g=O,t(1,g)})}return n.$$.update=()=>{n.$$.dirty&24578&&b&&b==="yes"&&g&&!d&&(g.click(),t(13,d=!0)),n.$$.dirty&1&&t(2,u=r==="form"?"end":"start"),n.$$.dirty&1&&t(4,s=r==="form"?"Temple Activity":"Temple Activity Results"),n.$$.dirty&32768&&t(3,l=(()=>{const O=new Date().toISOString().split("T")[0];return i.filter(H=>H.start_date<=O&&H.end_date>=O)})())},[r,g,u,l,s,a,o,v,f,T,k,D,S,d,b,i,j]}class il extends Fe{constructor(e){super(),Ge(this,e,$s,zs,qe,{})}}export{al as S,ol as W,il as a,ll as b,rl as i};
