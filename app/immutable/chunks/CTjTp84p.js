const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DO0djbQe.js","./Cpj98o6Y.js"])))=>i.map(i=>d[i]);
import{t as P,j as Ft,k as Rt,K as Ra,bb as Wa,L as Wt,Y as $a,ac as Ba,b1 as ja,a_ as za,N as qa,G as ot,p as ia,ai as q,w as W,aj as la,c as _,r as m,a as ca,d as n,E as I,as as Za,f as at,u as x,D as v,s as Y,ap as Ka,R as Ge,F as it}from"./DkHtKwEy.js";import{b as $t,d as Va,f as T,a as S,c as Ga}from"./B190dNFg.js";import{_ as Qa}from"./CmsKOCeN.js";import"./NZTpNUN0.js";import"./69_IOA4Y.js";import{w as $e,g as Bt,r as ua,d as Re,o as Ja,a as Xa}from"./DUiJaq3B.js";import{p as ve,i as A,e as be,s as re,b as en,a as tn}from"./DJ88wS1R.js";import{e as da,i as an}from"./CKczAFpg.js";import{s as yt}from"./RbvCTQKu.js";import{t as wt,s as E,d as fa,p as Be,u as Ve,i as ke,C as jt,A as xt,e as Ne,D as nn,j as Dt}from"./QovpK0Tv.js";import{i as ma}from"./CrhaOPk_.js";import{S as Qe}from"./Bw6YQPR3.js";import{v as zt,D as qt}from"./C9Kt7cls.js";import{b as rn}from"./Cf6qqcEk.js";import{b as sn}from"./DO_vVYAf.js";import{f as on}from"./Ptlq2h_H.js";import{R as ln}from"./BAcKYJta.js";import{e as We}from"./BRGgKo3a.js";import{a as cn}from"./CvcX06G8.js";import{s as un,i as dn}from"./CDdiVZED.js";function zr(e,t,a=!1,r=!1,o=!1){var s=e,d="";P(()=>{var f=Ra;if(d===(d=t()??"")){Ft&&Rt();return}if(f.nodes!==null&&(Wa(f.nodes.start,f.nodes.end),f.nodes=null),d!==""){if(Ft){Wt.data;for(var y=Rt(),D=y;y!==null&&(y.nodeType!==$a||y.data!=="");)D=y,y=Ba(y);if(y===null)throw ja(),za;$t(Wt,D),s=qa(y);return}var O=d+"";a?O=`<svg>${O}</svg>`:r&&(O=`<math>${O}</math>`);var k=Va(O);if((a||r)&&(k=ot(k)),$t(ot(k),k.lastChild),a||r)for(;ot(k);)s.before(ot(k));else s.before(k)}})}function tt(e,t){const a=t*7;return cn(e,a)}function lt(e,t){const a=+wt(e),[r,o]=[+wt(t.start),+wt(t.end)].sort((s,d)=>s-d);return a>=r&&a<=o}function fn(e,t){const a=bn(t);return"formatToParts"in a?pn(a,e):_n(a,e)}const mn={year:0,month:1,day:2,hour:3,minute:4,second:5};function pn(e,t){try{const a=e.formatToParts(t),r=[];for(let o=0;o<a.length;o++){const s=mn[a[o].type];s!==void 0&&(r[s]=parseInt(a[o].value,10))}return r}catch(a){if(a instanceof RangeError)return[NaN];throw a}}function _n(e,t){const a=e.format(t),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(a);return[parseInt(r[3],10),parseInt(r[1],10),parseInt(r[2],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10)]}const Ct={},Zt=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),vn=Zt==="06/25/2014, 00:00:00"||Zt==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";function bn(e){return Ct[e]||(Ct[e]=vn?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Ct[e]}function Et(e,t,a,r,o,s,d){const f=new Date(0);return f.setUTCFullYear(e,t,a),f.setUTCHours(r,o,s,d),f}const Kt=36e5,hn=6e4,St={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Ut(e,t,a){if(!e)return 0;let r=St.timezoneZ.exec(e);if(r)return 0;let o,s;if(r=St.timezoneHH.exec(e),r)return o=parseInt(r[1],10),Vt(o)?-(o*Kt):NaN;if(r=St.timezoneHHMM.exec(e),r){o=parseInt(r[2],10);const d=parseInt(r[3],10);return Vt(o,d)?(s=Math.abs(o)*Kt+d*hn,r[1]==="+"?-s:s):NaN}if(wn(e)){t=new Date(t||Date.now());const d=a?t:gn(t),f=It(d,e);return-(a?f:yn(t,f,e))}return NaN}function gn(e){return Et(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function It(e,t){const a=fn(e,t),r=Et(a[0],a[1]-1,a[2],a[3]%24,a[4],a[5],0).getTime();let o=e.getTime();const s=o%1e3;return o-=s>=0?s:1e3+s,r-o}function yn(e,t,a){let o=e.getTime()-t;const s=It(new Date(o),a);if(t===s)return t;o-=s-t;const d=It(new Date(o),a);return s===d?s:Math.max(s,d)}function Vt(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const Gt={};function wn(e){if(Gt[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Gt[e]=!0,!0}catch{return!1}}function Qt(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const pa=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Tt=36e5,Jt=6e4,xn=2,K={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:pa};function Mt(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const a=t.additionalDigits==null?xn:Number(t.additionalDigits);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const r=Dn(e),{year:o,restDateString:s}=Cn(r.date,a),d=Sn(s,o);if(d===null||isNaN(d.getTime()))return new Date(NaN);if(d){const f=d.getTime();let y=0,D;if(r.time&&(y=Tn(r.time),y===null||isNaN(y)))return new Date(NaN);if(r.timeZone||t.timeZone){if(D=Ut(r.timeZone||t.timeZone,new Date(f+y)),isNaN(D))return new Date(NaN)}else D=Qt(new Date(f+y)),D=Qt(new Date(f+y+D));return new Date(f+y+D)}else return new Date(NaN)}function Dn(e){const t={};let a=K.dateTimePattern.exec(e),r;if(a?(t.date=a[1],r=a[3]):(a=K.datePattern.exec(e),a?(t.date=a[1],r=a[2]):(t.date=null,r=e)),r){const o=K.timeZone.exec(r);o?(t.time=r.replace(o[1],""),t.timeZone=o[1].trim()):t.time=r}return t}function Cn(e,t){if(e){const a=K.YYY[t],r=K.YYYYY[t];let o=K.YYYY.exec(e)||r.exec(e);if(o){const s=o[1];return{year:parseInt(s,10),restDateString:e.slice(s.length)}}if(o=K.YY.exec(e)||a.exec(e),o){const s=o[1];return{year:parseInt(s,10)*100,restDateString:e.slice(s.length)}}}return{year:null}}function Sn(e,t){if(t===null)return null;let a,r,o;if(!e||!e.length)return a=new Date(0),a.setUTCFullYear(t),a;let s=K.MM.exec(e);if(s)return a=new Date(0),r=parseInt(s[1],10)-1,ea(t,r)?(a.setUTCFullYear(t,r),a):new Date(NaN);if(s=K.DDD.exec(e),s){a=new Date(0);const d=parseInt(s[1],10);return In(t,d)?(a.setUTCFullYear(t,0,d),a):new Date(NaN)}if(s=K.MMDD.exec(e),s){a=new Date(0),r=parseInt(s[1],10)-1;const d=parseInt(s[2],10);return ea(t,r,d)?(a.setUTCFullYear(t,r,d),a):new Date(NaN)}if(s=K.Www.exec(e),s)return o=parseInt(s[1],10)-1,ta(o)?Xt(t,o):new Date(NaN);if(s=K.WwwD.exec(e),s){o=parseInt(s[1],10)-1;const d=parseInt(s[2],10)-1;return ta(o,d)?Xt(t,o,d):new Date(NaN)}return null}function Tn(e){let t,a,r=K.HH.exec(e);if(r)return t=parseFloat(r[1].replace(",",".")),kt(t)?t%24*Tt:NaN;if(r=K.HHMM.exec(e),r)return t=parseInt(r[1],10),a=parseFloat(r[2].replace(",",".")),kt(t,a)?t%24*Tt+a*Jt:NaN;if(r=K.HHMMSS.exec(e),r){t=parseInt(r[1],10),a=parseInt(r[2],10);const o=parseFloat(r[3].replace(",","."));return kt(t,a,o)?t%24*Tt+a*Jt+o*1e3:NaN}return null}function Xt(e,t,a){t=t||0,a=a||0;const r=new Date(0);r.setUTCFullYear(e,0,4);const o=r.getUTCDay()||7,s=t*7+a+1-o;return r.setUTCDate(r.getUTCDate()+s),r}const kn=[31,28,31,30,31,30,31,31,30,31,30,31],Nn=[31,29,31,30,31,30,31,31,30,31,30,31];function _a(e){return e%400===0||e%4===0&&e%100!==0}function ea(e,t,a){if(t<0||t>11)return!1;if(a!=null){if(a<1)return!1;const r=_a(e);if(r&&a>Nn[t]||!r&&a>kn[t])return!1}return!0}function In(e,t){if(t<1)return!1;const a=_a(e);return!(a&&t>366||!a&&t>365)}function ta(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function kt(e,t,a){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||a!=null&&(a<0||a>=60))}function aa(e,t,a){e=Mt(e,a);const r=Ut(t,e,!0),o=new Date(e.getTime()-r),s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}function Mn(e,t,a){if(typeof e=="string"&&!e.match(pa))return Mt(e,{...a,timeZone:t});e=Mt(e,a);const r=Et(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()).getTime(),o=Ut(t,new Date(r));return new Date(r+o)}const Yt=$e([]);let ue=null;async function Ie(){return ue||(ue=(async()=>{const{data:e,error:t}=await E.from("calendar_events").select("*").order("start_time",{ascending:!0});if(t)throw ue=null,t;const a=e||[];return Yt.set(a),setTimeout(()=>{ue=null},100),a})(),ue)}async function va(e){let t=Bt(Yt);return t.length||(await Ie(),t=Bt(Yt)),t.find(a=>a.id===e)}async function Yn(e){const{data:t,error:a}=await E.from("calendar_events").insert([e]).select();if(a)throw a;return ue=null,await Ie(),t?t[0]:void 0}async function On(e){const{data:t,error:a}=await E.from("calendar_events").insert(e).select();if(a)throw a;return ue=null,await Ie(),t??[]}async function ct(e,t){const{data:a,error:r}=await E.from("calendar_events").update(t).eq("id",e).select();if(r)throw r;return ue=null,await Ie(),a?a[0]:void 0}async function En(e){const t=await va(e),{error:a}=await E.from("calendar_events").delete().eq("id",e);if(a)throw a;t?.attachments&&t.attachments.length>0&&await At(t.attachments),ue=null,await Ie()}const Un={bishop:{approval:"bishop_approval",timestamp:"bishop_approval_at",userId:"bishop_approval_by_user_id"},first_counselor:{approval:"first_counselor_approval",timestamp:"first_counselor_approval_at",userId:"first_counselor_approval_by_user_id"},second_counselor:{approval:"second_counselor_approval",timestamp:"second_counselor_approval_at",userId:"second_counselor_approval_by_user_id"}};async function ba(e,t,a,r){const o=Un[t],s=a?new Date().toISOString():null;return ct(e,{[o.approval]:a,[o.timestamp]:s,[o.userId]:a?r??null:null})}async function ha(e){return ct(e,{is_published:!0})}async function ga(e){return ct(e,{is_published:!1})}async function An(e=new Date){const t=e.toISOString(),{data:a,error:r}=await E.from("calendar_events").select("*").lt("start_time",t).eq("event_type","calendar_event");if(r)throw r;if(!a||a.length===0)return{deleted:0,skipped:0};const o=[],s=[];for(const f of a){if(f.recurrence_rule&&(!f.recurrence_end_date||f.recurrence_end_date&&new Date(f.recurrence_end_date)>=e)){s.push(f);continue}o.push(f)}let d=0;if(o.length>0){const f=o.map(y=>y.id).filter(y=>y!==void 0);if(f.length>0){const{data:y,error:D}=await E.from("calendar_events").delete().in("id",f).select("id");if(D)throw D;d=y?.length??0;for(const O of o)O.attachments&&O.attachments.length>0&&await At(O.attachments)}}return ue=null,await Ie(),{deleted:d,skipped:s.length}}async function Pn(e,t){const a=e.name.split(".").pop()||"bin",r=t||"temp",s=`${crypto.randomUUID()}.${a}`,d=`${r}/${s}`,{error:f}=await E.storage.from("event-attachments").upload(d,e,{cacheControl:"3600",upsert:!1});if(f)throw f;const{data:{publicUrl:y}}=E.storage.from("event-attachments").getPublicUrl(d);return{id:crypto.randomUUID(),name:e.name,url:y,type:e.type,size:e.size,uploadedAt:new Date().toISOString()}}async function Ln(e){const{error:t}=await E.storage.from("event-attachments").remove([e]);if(t)throw t}function ya(e){const t=e.match(/event-attachments\/(.+)$/);return t?t[1]:""}async function At(e){if(!e||e.length===0)return;const t=e.map(a=>ya(a.url)).filter(a=>a);if(t.length>0){const{error:a}=await E.storage.from("event-attachments").remove(t);if(a)throw a}}const qr=Object.freeze(Object.defineProperty({__proto__:null,createCalendarEvent:Yn,createCalendarEvents:On,deleteCalendarEvent:En,deleteEventAttachment:Ln,deleteEventAttachments:At,deletePastCalendarEvents:An,extractStoragePath:ya,getAllCalendarEvents:Ie,getCalendarEvent:va,publishCalendarEvent:ha,unpublishCalendarEvent:ga,updateBishopricApproval:ba,updateCalendarEvent:ct,uploadEventAttachment:Pn},Symbol.toStringTag,{value:"Module"})),Hn={all:{label:"All",key:"",sort_index:0,color_number:0},public:{label:"Public",key:"PUB",sort_index:0,color_number:1},church:{label:"Church",key:"CHU",sort_index:0,color_number:2},stake:{label:"Stake",key:"STK",sort_index:0,color_number:3},ward:{label:"Ward",key:"WRD",sort_index:1,color_number:4},reliefSociety:{label:"Relief Society",key:"RES",sort_index:2,color_number:5},eldersQuorum:{label:"Elders Quorum",key:"ELQ",sort_index:3,color_number:6},youth:{label:"Youth",key:"YOU",sort_index:4,color_number:7},youngWomen:{label:"Young Women",key:"YOW",sort_index:4,color_number:8},youngWomenPearls:{label:"Young Women | Pearls",key:"YWP",sort_index:5,color_number:9},youngWomenRubies:{label:"Young Women | Rubies",key:"YWR",sort_index:6,color_number:10},youngWomenDiamonds:{label:"Young Women | Diamonds",key:"YWD",sort_index:7,color_number:11},aaronicPriesthood:{label:"Young Men",key:"YOM",sort_index:8,color_number:12},aaronicPriesthoodDeacons:{label:"Young Men | Deacons",key:"YMD",sort_index:9,color_number:13},aaronicPriesthoodTeachers:{label:"Young Men | Teachers",key:"YMT",sort_index:10,color_number:14},aaronicPriesthoodPriests:{label:"Young Men | Priests",key:"YMP",sort_index:11,color_number:15},primary:{label:"Primary",key:"PRI",sort_index:12,color_number:16},primaryNursery:{label:"Primary | Nursery",key:"PRN",sort_index:13,color_number:17},primarySunbeams:{label:"Primary | Sunbeams",key:"PRS",sort_index:14,color_number:18},primaryCTR:{label:"Primary | CTR",key:"PRC",sort_index:15,color_number:19},primaryValiant:{label:"Primary | Valiant",key:"PRV",sort_index:16,color_number:20},sundaySchool:{label:"Sunday School",key:"SUS",sort_index:17,color_number:21}},Ot=Object.values(Hn).sort((e,t)=>e.sort_index-t.sort_index),Zr=e=>e?Ot.find(t=>t.key===e):void 0,na={bishop:"Bishop",first_counselor:"1st Counselor",second_counselor:"2nd Counselor"},Pt=e=>{let t=0;return e.bishop_approval==="YES"&&t++,e.first_counselor_approval==="YES"&&t++,e.second_counselor_approval==="YES"&&t++,t},Fn=e=>Pt(e)>0,Rn=e=>e.is_published?"published":Pt(e)>0?"approved":e.bishop_approval==="NO"||e.first_counselor_approval==="NO"||e.second_counselor_approval==="NO"?"needs_review":"pending";let nt=null;const Wn=e=>e.replace(/<[^>]*>/g,"").toLowerCase(),ra=(e,t)=>{if(!t.trim())return!0;const a=t.toLowerCase(),r=(e.title||"").toLowerCase(),o=Wn(e.description||""),s=(e.location||"").toLowerCase();return r.includes(a)||o.includes(a)||s.includes(a)},Kr=(e,t)=>{if(!t.trim()||!e)return sa(e||"");const a=sa(e),r=new RegExp(`(${wa(t)})`,"gi");return a.replace(r,"<mark>$1</mark>")},Vr=(e,t)=>{if(!t.trim()||!e)return e||"";const a=new RegExp(`(${wa(t)})`,"gi");return e.replace(/(<[^>]*>)|([^<]+)/g,(r,o,s)=>o||(s?s.replace(a,"<mark>$1</mark>"):r))},sa=e=>{const t=typeof document<"u"?document.createElement("div"):null;return t?(t.textContent=e,t.innerHTML):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},wa=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),$n=fa()??null,Bn=ua(!1),Nt=$n?.stores.authenticated??Bn,jn=()=>{const e=$e(!1),t=$e([]),a=$e([]),r=$e(""),o=$e(""),s=$e(!1),d=(p,g)=>!(!p.is_published||!g&&p.is_public===!1),f=Re([a,Nt],([p,g])=>{const N=new Date,L=We(tt(N,3),{weekStartsOn:1}),l=p.filter(b=>b?.meta_data?.category?.length).filter(b=>d(b,g)).filter(b=>{if(b.event_type==="calendar_event"){const H=b.start_time?Be(b.start_time):null;return H?lt(H,{start:N,end:L}):!1}return!0}).map(b=>Ot.find(H=>H.key===b.meta_data?.category)).filter(b=>b!==void 0);return Array.from(new Set(l))}),y=Re([r],([p])=>Ot.find(g=>g.key===p)),D=Re([a,r,o,Nt],([p,g,N,L])=>p.filter(l=>l.event_type==="calendar_event").filter(l=>{const b=l?.meta_data;return g&&b?b?.category===g:!0}).filter(l=>ra(l,N)).filter(l=>d(l,L)).filter(l=>{const b=l.start_time?Be(l.start_time):null,H=un();return b?dn(b,H)||b.getTime()>=H.getTime():!1})),O=Re([a,r,o,Nt],([p,g,N,L])=>p.filter(l=>l.event_type==="announcement").filter(l=>{const b=l?.meta_data;return g&&b?b?.category===g:!0}).filter(l=>ra(l,N)).filter(l=>d(l,L))),k=Re([D],([p])=>p.filter(g=>{const N=g.start_time?Be(g.start_time):null;return N?lt(N,{start:Ve(new Date,{weekStartsOn:1}),end:We(new Date,{weekStartsOn:1})}):!1})),V=()=>{const p=Ve(new Date,{weekStartsOn:1}),g=We(new Date,{weekStartsOn:1});return`${ke(p,"MMM d").toUpperCase()} – ${ke(g,"MMM d").toUpperCase()}`},de=Re([D],([p])=>{const g=tt(Ve(new Date,{weekStartsOn:1}),1),N=We(g,{weekStartsOn:1});return p.filter(L=>{const l=L.start_time?Be(L.start_time):null;return l?lt(l,{start:g,end:N}):!1})}),fe=()=>{const p=tt(Ve(new Date,{weekStartsOn:1}),1),g=We(p,{weekStartsOn:1});return`${ke(p,"MMM d").toUpperCase()} – ${ke(g,"MMM d").toUpperCase()}`},he=Re([D],([p])=>{const g=tt(Ve(new Date,{weekStartsOn:1}),2),N=We(g,{weekStartsOn:1});return p.filter(L=>{const l=L.start_time?Be(L.start_time):null;return l?lt(l,{start:g,end:N}):!1})}),Me=()=>{const p=tt(Ve(new Date,{weekStartsOn:1}),2),g=We(p,{weekStartsOn:1});return`${ke(p,"MMM d").toUpperCase()} – ${ke(g,"MMM d").toUpperCase()}`},je=p=>{const g=[],N=new Date,L=new Date;L.setFullYear(N.getFullYear()+1);for(const l of p)if(l.recurrence_rule&&l.start_time&&l.end_time)try{const b=ln.fromString(l.recurrence_rule),H=l.recurrence_end_date?b.all():b.between(N,L,!0),Ye=new Date(l.start_time),me=new Date(l.end_time).getTime()-Ye.getTime(),G=aa(Ye,xt),Z=G.getHours(),oe=G.getMinutes(),Oe=G.getSeconds(),Ee=G.getMilliseconds(),ye=l.recurrence_exceptions||[],C=l.recurrence_overrides||{};H.forEach((Q,Ue)=>{const we=aa(Q,xt),M=new Date(we);M.setHours(Z,oe,Oe,Ee);const ie=Mn(M,xt),Ce=ie,qe=new Date(ie.getTime()+me),Se=ke(Q,"yyyy-MM-dd"),U=C[Se];if(ye.includes(Se)&&!U)return;const $={...l,id:void 0,start_time:Ce.toISOString(),end_time:qe.toISOString(),meta_data:{category:l.meta_data?.category||"",...l.meta_data,recurring_instance:!0,recurring_parent_id:l.id,recurring_instance_index:Ue}};U&&(U.title!==void 0&&($.title=U.title),U.description!==void 0&&($.description=U.description),U.location!==void 0&&($.location=U.location),U.start_time!==void 0&&($.start_time=U.start_time),U.end_time!==void 0&&($.end_time=U.end_time),U.is_all_day!==void 0&&($.is_all_day=U.is_all_day),U.meta_data!==void 0&&($.meta_data={...$.meta_data,...U.meta_data})),g.push($)})}catch(b){console.error("Failed to expand recurring event:",l.id,b),g.push(l)}else g.push(l);return g},ze=p=>p.length?je(p).map(N=>({...N,start_time:N?.start_time?jt(N.start_time):void 0,end_time:N.end_time?jt(N.end_time):void 0})):[];return nt={stores:{ready:e,data:t,dbData:a,announcements:O,calendarEvents:D,calendarEventsThisWeek:k,calendarEventsNextWeek:de,calendarEventsNextNextWeek:he,currentCategories:f,categoryFilter:r,searchQuery:o,currentCategoryFilter:y,weeksExpanded:s},actions:{reload:async()=>{e.set(!1);const p=await Ie();a.set(ze(p)),e.set(!0)},calendarEventsThisWeekLabel:V,calendarEventsNextWeekLabel:fe,calendarEventsNextNextWeekLabel:Me}},nt},Gr=()=>nt?.stores&&Object.keys(nt.stores).length>0?nt:jn();var zn=T('<div class="d-flex justify-content-center py-3"><!></div>'),qn=T('<div class="text-muted text-center py-3 small">No messages yet</div>'),Zn=T('<div class="message-meta text-muted mt-1 text-end svelte-16a2g1f"><div> </div> <div> </div></div>'),Kn=T('<div class="message-meta text-muted mt-1 text-end svelte-16a2g1f"> </div>'),Vn=T('<i class="bi bi-trash"></i>'),Gn=T('<button type="button" class="btn btn-link btn-sm text-danger p-0 mt-1 delete-btn d-block ms-auto svelte-16a2g1f" title="Delete message"><!></button>'),Qn=T('<div><div><div class="message-text svelte-16a2g1f"> </div> <!> <!></div></div>'),Jn=T('<i class="bi bi-send"></i>'),Xn=T('<div class="messages-container svelte-16a2g1f"><!></div> <div class="input-area d-flex gap-2 pt-2 svelte-16a2g1f"><textarea class="form-control svelte-16a2g1f" rows="2" placeholder="Type a message..."></textarea> <button type="button" class="btn btn-primary btn-sm align-self-end" title="Send message"><!></button></div>',1),er=T("<div><!></div>");function oa(e,t){ia(t,!1);let a=ve(t,"comments",24,()=>[]),r=ve(t,"currentUserId",8),o=ve(t,"onSend",8),s=ve(t,"onDelete",8),d=ve(t,"loading",8,!1),f=ve(t,"disabled",8,!1),y=ve(t,"fullHeight",8,!1),D=I(""),O=I(!1),k=I(null),V=I();function de(){n(V)&&requestAnimationFrame(()=>{Za(V,n(V).scrollTop=n(V).scrollHeight)})}function fe(l){try{return on(Be(l),{addSuffix:!0})}catch{return""}}function he(l){return l.user_id===r()}async function Me(){const l=n(D).trim();if(!(!l||n(O)||f())){v(O,!0);try{await o()(l),v(D,""),de()}catch(b){console.error("Failed to send message:",b)}finally{v(O,!1)}}}async function je(l){if(!(n(k)||f())){v(k,l);try{await s()(l)}catch(b){console.error("Failed to delete message:",b)}finally{v(k,null)}}}function ze(l){l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),Me())}q(()=>W(a()),()=>{a().length&&de()}),la(),ma();var c=er();let p;var g=_(c);{var N=l=>{var b=zn(),H=_(b);Qe(H,{size:"sm"}),m(b),S(l,b)},L=l=>{var b=Xn(),H=at(b),Ye=_(H);{var ge=C=>{var Q=qn();S(C,Q)},me=C=>{var Q=Ga(),Ue=at(Q);da(Ue,1,a,we=>we.id,(we,M)=>{const ie=Ge(()=>(n(M),x(()=>he(n(M)))));var Ce=Qn();let qe;var Se=_(Ce);let U;var $=_(Se),ut=_($,!0);m($);var Je=Y($,2);{var Ae=J=>{var F=Zn(),xe=_(F),Le=_(xe,!0);m(xe);var Ze=Y(xe,2),se=_(Ze,!0);m(Ze),m(F),P(Te=>{re(Le,(n(M),x(()=>n(M).user_display_name))),re(se,Te)},[()=>(n(M),x(()=>fe(n(M).created_at)))]),S(J,F)},Pe=J=>{var F=Kn(),xe=_(F,!0);m(F),P(Le=>re(xe,Le),[()=>(n(M),x(()=>fe(n(M).created_at)))]),S(J,F)};A(Je,J=>{n(ie)?J(Pe,!1):J(Ae)})}var rt=Y(Je,2);{var dt=J=>{var F=Gn(),xe=_(F);{var Le=se=>{Qe(se,{size:"xs"})},Ze=se=>{var Te=Vn();S(se,Te)};A(xe,se=>{n(k),n(M),x(()=>n(k)===n(M).id)?se(Le):se(Ze,!1)})}m(F),P(()=>F.disabled=(n(k),n(M),x(()=>n(k)===n(M).id))),be("click",F,()=>je(n(M).id)),S(J,F)};A(rt,J=>{n(ie)&&J(dt)})}m(Se),m(Ce),P(()=>{qe=Ne(Ce,1,"d-flex mb-2",null,qe,{"justify-content-end":n(ie),"justify-content-start":!n(ie)}),U=Ne(Se,1,"message-bubble svelte-16a2g1f",null,U,{own:n(ie),other:!n(ie)}),re(ut,(n(M),x(()=>n(M).message)))}),S(we,Ce)}),S(C,Q)};A(Ye,C=>{W(a()),x(()=>a().length===0)?C(ge):C(me,!1)})}m(H),sn(H,C=>v(V,C),()=>n(V));var G=Y(H,2),Z=_(G);Ka(Z);var oe=Y(Z,2),Oe=_(oe);{var Ee=C=>{Qe(C,{size:"xs"})},ye=C=>{var Q=Jn();S(C,Q)};A(Oe,C=>{n(O)?C(Ee):C(ye,!1)})}m(oe),m(G),P(C=>{Z.disabled=f()||n(O),oe.disabled=C},[()=>(W(f()),n(O),n(D),x(()=>f()||n(O)||!n(D).trim()))]),rn(Z,()=>n(D),C=>v(D,C)),be("keydown",Z,ze),be("click",oe,Me),S(l,b)};A(g,l=>{d()?l(N):l(L,!1)})}m(c),P(()=>p=Ne(c,1,"chat-thread d-flex flex-column svelte-16a2g1f",null,p,{"chat-thread-full":y()})),S(e,c),ca()}async function tr(e){const{data:t,error:a}=await E.from("event_bishopric_comments").select("*").eq("event_id",e).order("created_at",{ascending:!0});if(a)throw a;return t??[]}async function ar(e,t,a,r){const{data:o,error:s}=await E.from("event_bishopric_comments").insert([{event_id:e,user_id:t,user_display_name:a,message:r}]).select().single();if(s)throw s;return o}async function nr(e){const{error:t}=await E.from("event_bishopric_comments").delete().eq("id",e);if(t)throw t}async function rr(e){const{data:t,error:a}=await E.from("event_submitter_comments").select("*").eq("event_id",e).order("created_at",{ascending:!0});if(a)throw a;return t??[]}async function sr(e,t,a,r){const{data:o,error:s}=await E.from("event_submitter_comments").insert([{event_id:e,user_id:t,user_display_name:a,message:r}]).select().single();if(s)throw s;return o}async function or(e){const{error:t}=await E.from("event_submitter_comments").delete().eq("id",e);if(t)throw t}var ir=T("<span> </span>"),lr=T('<div class="alert alert-info mb-0" role="alert">Save this event or announcement before requesting bishopric approvals.</div>'),cr=T('<span class="badge bg-secondary-subtle text-secondary-emphasis"> </span>'),ur=T('<span class="badge bg-secondary-subtle text-secondary-emphasis"> </span>'),dr=T('<div class="card"><button type="button" class="btn btn-link text-start text-decoration-none d-flex align-items-center gap-3 p-3 w-100 chat-toggle svelte-rko3uy"><i class="bi bi-chat-dots"></i> <div class="d-flex flex-column align-items-start"><span class="fw-semibold">Bishopric Discussion</span> <small class="text-muted">Private notes between bishopric members</small></div> <div class="ms-auto d-flex align-items-center gap-2"><!> <i class="bi bi-chevron-right"></i></div></button></div> <!> <div class="card"><button type="button" class="btn btn-link text-start text-decoration-none d-flex align-items-center gap-3 p-3 w-100 chat-toggle svelte-rko3uy"><i class="bi bi-chat-left-dots"></i> <div class="d-flex flex-column align-items-start"><span class="fw-semibold">Discussion with Submitter</span> <small class="text-muted"> </small></div> <div class="ms-auto d-flex align-items-center gap-2"><!> <i class="bi bi-chevron-right"></i></div></button></div> <!>',1),fr=T('<small class="text-muted"> </small>'),mr=T("<span><!></span>"),pr=T('<div class="decision-buttons d-grid gap-2 gap-md-3 svelte-rko3uy"><button type="button"><i class="bi bi-check-circle-fill"></i> <div><div class="action-label svelte-rko3uy">Approve</div> <small class="text-muted">Vote to approve</small></div></button> <button type="button"><i class="bi bi-pencil-square"></i> <div><div class="action-label svelte-rko3uy">Request Changes</div> <small class="text-muted">Ask submitter to revise</small></div></button> <button type="button"><i class="bi bi-hourglass-split"></i> <div><div class="action-label svelte-rko3uy">Mark Pending</div> <small class="text-muted">No decision yet</small></div></button> <!></div>'),_r=T("<span> </span>"),vr=T('<div class="list-group-item"><div class="d-flex flex-column gap-2"><div><div class="fw-semibold"> </div> <!></div> <div><!></div></div></div>'),br=T('<i class="bi bi-globe-americas"></i>'),hr=T('<button type="button" class="btn btn-outline-secondary w-100 d-flex align-items-center justify-content-center gap-2"><!> Unpublish</button>'),gr=T('<i class="bi bi-globe"></i>'),yr=T('<small class="text-muted text-center">At least one approval required to publish</small>'),wr=T('<button type="button" class="btn btn-success w-100 d-flex align-items-center justify-content-center gap-2"><!> Publish to Ward</button> <!>',1),xr=T('<div class="card-footer text-danger small"> </div>'),Dr=T('<!> <div class="card"><div class="list-group list-group-flush"></div> <div class="publish-section d-flex flex-column gap-2 p-3 svelte-rko3uy"><div class="d-flex justify-content-between align-items-center"><span class="text-muted small fw-semibold"> </span></div> <!></div> <!></div>',1),Cr=T('<div class="d-flex flex-column gap-3"><div class="d-flex flex-wrap align-items-center justify-content-between gap-2"><h3 class="h5 mb-0">Bishopric Approval</h3> <!></div> <!></div>');function Qr(e,t){ia(t,!1);const a=()=>en(H,"$currentUserStore",r),[r,o]=tn(),s=I(),d=I(),f=I(),y=I(),D=I(),O=I(),k=I(),V=I(),de=I(),fe=I(),he=I(),Me=I(),je=I(),ze=I();let c=ve(t,"eventItem",12),p=ve(t,"disabled",8,!1),g=ve(t,"reloadEvents",8,null);const N={bishop:"bishopric-bishop",first_counselor:"bishopric-first-counselor",second_counselor:"bishopric-second-counselor"},L={pending:{text:"Pending Approval",class:"bg-warning-subtle text-warning-emphasis"},approved:{text:"Approved",class:"bg-success-subtle text-success-emphasis"},needs_review:{text:"Needs Review",class:"bg-info-subtle text-info-emphasis"},published:{text:"Published",class:"bg-primary-subtle text-primary-emphasis"}},l=fa()??null,b=ua(nn),H=l?.stores.currentUser??b,Ye=["bishop","first_counselor","second_counselor"];let ge=I(""),me=I(null),G=I(!1),Z=I([]),oe=I(!1),Oe=!1;const Ee=`bishopric-chat-${zt()}`;let ye=I(null),C=I([]),Q=I(!1),Ue=!1;const we=`submitter-chat-${zt()}`;let M=null;Ja(async()=>{typeof window<"u"&&(M=(await Qa(()=>import("./DO0djbQe.js").then(u=>u.o),__vite__mapDeps([0,1]),import.meta.url)).default)});function ie(){if(!M)return;const i=document.getElementById(Ee);if(!i)return;M.getOrCreateInstance(i).show()}function Ce(){if(!M)return;const i=document.getElementById(we);if(!i)return;M.getOrCreateInstance(i).show()}function qe(i){const u=N[i];return n(s)?.roles?.includes(u)??!1}function Se(i){if(!i)return null;try{return ke(Be(i),"MMM d, yyyy 'at' h:mm a")}catch(u){return console.error("Failed to format timestamp",u),null}}async function U(){typeof g()=="function"&&await g()()}async function $(i,u){if(c()?.id){v(ge,""),v(me,i);try{const w=await ba(c().id,i,u,n(s)?.id);w&&c({...c(),bishop_approval:w.bishop_approval,first_counselor_approval:w.first_counselor_approval,second_counselor_approval:w.second_counselor_approval,bishop_approval_at:w.bishop_approval_at,first_counselor_approval_at:w.first_counselor_approval_at,second_counselor_approval_at:w.second_counselor_approval_at,bishop_approval_by_user_id:w.bishop_approval_by_user_id,first_counselor_approval_by_user_id:w.first_counselor_approval_by_user_id,second_counselor_approval_by_user_id:w.second_counselor_approval_by_user_id,is_published:w.is_published}),await U()}catch(w){console.error("Failed to update approval",w),v(ge,"Unable to update approval. Please try again.")}finally{v(me,null)}}}async function ut(i){await $(i,null)}async function Je(){if(c()?.id){v(ge,""),v(G,!0);try{const i=n(O)?await ga(c().id):await ha(c().id);i&&c({...c(),is_published:i.is_published}),await U()}catch(i){console.error("Failed to update publish status",i),v(ge,"Unable to update publish status. Please try again.")}finally{v(G,!1)}}}let Ae=null,Pe=null;function rt(){v(Z,[]),Oe=!1,v(oe,!1),v(C,[]),Ue=!1,v(Q,!1)}Xa(()=>{J(),se()});function dt(i){const u=i??c()?.id??null;if(Ae||!u)return;const w=typeof window<"u"?localStorage.getItem("authToken"):null;w&&E.realtime.setAuth(w),Ae=E.channel(`bishopric-comments-${u}`).on("postgres_changes",{event:"*",schema:"public",table:"event_bishopric_comments",filter:`event_id=eq.${u}`},()=>{F(u)}).subscribe()}function J(){Ae&&(E.removeChannel(Ae),Ae=null)}async function F(i){const u=i??c()?.id??null;if(u){Oe||v(oe,!0);try{const w=await tr(u);u===(c()?.id??null)&&(v(Z,w),Oe=!0)}catch(w){console.error("Failed to load bishopric comments:",w)}finally{u===(c()?.id??null)&&v(oe,!1)}}}async function xe(i){if(!c()?.id||!n(s)?.id)return;const u=n(s).displayName||n(s).username||"Unknown";await ar(c().id,n(s).id,u,i),await F()}async function Le(i){await nr(i),await F()}function Ze(i){const u=i??c()?.id??null;if(Pe||!u)return;const w=typeof window<"u"?localStorage.getItem("authToken"):null;w&&E.realtime.setAuth(w),Pe=E.channel(`submitter-comments-${u}`).on("postgres_changes",{event:"*",schema:"public",table:"event_submitter_comments",filter:`event_id=eq.${u}`},()=>{Te(u)}).subscribe()}function se(){Pe&&(E.removeChannel(Pe),Pe=null)}async function Te(i){const u=i??c()?.id??null;if(u){Ue||v(Q,!0);try{const w=await rr(u);u===(c()?.id??null)&&(v(C,w),Ue=!0)}catch(w){console.error("Failed to load submitter comments:",w)}finally{u===(c()?.id??null)&&v(Q,!1)}}}async function xa(i){if(!c()?.id||!n(s)?.id)return;const u=n(s).displayName||n(s).username||"Unknown";await sr(c().id,n(s).id,u,i),await Te()}async function Da(i){await or(i),await Te()}function Ca(i){return i==="YES"?{text:"Approved",class:"bg-success-subtle text-success-emphasis"}:i==="NO"?{text:"Requested Changes",class:"bg-info-subtle text-info-emphasis"}:{text:"No Input Yet",class:"bg-secondary-subtle text-secondary-emphasis"}}const ft="btn btn-sm action-btn w-100 text-start d-flex align-items-center gap-2";function Sa(i){return`${ft} ${i==="YES"?"btn-success text-white":"btn-outline-success"}`}function Ta(i){return`${ft} ${i==="NO"?"btn-info text-dark":"btn-outline-info"}`}function ka(i){const u=i==null;return`${ft} ${u?"btn-secondary text-white":"btn-outline-secondary"}`}q(()=>a(),()=>{v(s,a())}),q(()=>W(c()),()=>{v(d,Rn(c()))}),q(()=>n(d),()=>{v(f,L[n(d)])}),q(()=>W(c()),()=>{v(y,Pt(c()))}),q(()=>W(c()),()=>{v(D,Fn(c()))}),q(()=>W(c()),()=>{v(O,c()?.is_published??!1)}),q(()=>W(c()),()=>{v(k,{bishop:c()?.bishop_approval,first_counselor:c()?.first_counselor_approval,second_counselor:c()?.second_counselor_approval})}),q(()=>W(c()),()=>{v(V,{bishop:c()?.bishop_approval_at,first_counselor:c()?.first_counselor_approval_at,second_counselor:c()?.second_counselor_approval_at})}),q(()=>n(s),()=>{v(de,n(s)?.roles?.includes("bishopric-bishop")??!1)}),q(()=>n(s),()=>{v(fe,n(s)?.roles?.includes("bishopric-first-counselor")??!1)}),q(()=>n(s),()=>{v(he,n(s)?.roles?.includes("bishopric-second-counselor")??!1)}),q(()=>(n(de),n(fe),n(he)),()=>{v(Me,n(de)||n(fe)||n(he))}),q(()=>(n(de),n(fe),n(he)),()=>{v(je,n(de)?Ye:Ye.filter(i=>i==="bishop"||i==="first_counselor"&&n(fe)||i==="second_counselor"&&n(he)))}),q(()=>(W(c()),n(ye)),()=>{const i=c()?.id??null;i&&i!==n(ye)?(v(ye,i),rt(),J(),se(),F(i),Te(i),dt(i),Ze(i)):!i&&n(ye)!==null&&(v(ye,null),rt(),J(),se())}),q(()=>W(c()),()=>{v(ze,c()?.meta_data?.submitted_by_name??"Submitter")}),la(),ma();var mt=Cr(),pt=_(mt),Na=Y(_(pt),2);{var Ia=i=>{var u=ir(),w=_(u,!0);m(u),P(()=>{Ne(u,1,(n(f),x(()=>`badge ${n(f).class}`)),"svelte-rko3uy"),re(w,(n(f),x(()=>n(f).text)))}),S(i,u)};A(Na,i=>{W(c()),x(()=>c()?.id)&&i(Ia)})}m(pt);var Ma=Y(pt,2);{var Ya=i=>{var u=lr();S(i,u)},Oa=i=>{var u=Dr(),w=at(u);{var Ea=B=>{var h=dr(),R=at(h),le=_(R),pe=Y(_(le),4),X=_(pe);{var He=z=>{var ne=cr(),Fe=_(ne,!0);m(ne),P(()=>re(Fe,(n(Z),x(()=>n(Z).length)))),S(z,ne)};A(X,z=>{n(Z),x(()=>n(Z).length>0)&&z(He)})}it(2),m(pe),m(le),m(R);var Ke=Y(R,2);{let z=Ge(()=>(W(c()),x(()=>c()?.title||"Event")));qt(Ke,{get id(){return Ee},subtitle:"Discussion",get title(){return n(z)},className:"chat-drawer-stacked",bodyClass:"overflow-hidden d-flex flex-column",children:(ne,Fe)=>{{let De=Ge(()=>(n(s),x(()=>n(s)?.id??-1)));oa(ne,{get comments(){return n(Z)},get currentUserId(){return n(De)},onSend:xe,onDelete:Le,get loading(){return n(oe)},fullHeight:!0,get disabled(){return p()}})}},$$slots:{default:!0}})}var j=Y(Ke,2),ce=_(j),Xe=Y(_(ce),2),st=Y(_(Xe),2),ht=_(st,!0);m(st),m(Xe);var te=Y(Xe,2),ee=_(te);{var ae=z=>{var ne=ur(),Fe=_(ne,!0);m(ne),P(()=>re(Fe,(n(C),x(()=>n(C).length)))),S(z,ne)};A(ee,z=>{n(C),x(()=>n(C).length>0)&&z(ae)})}it(2),m(te),m(ce),m(j);var _e=Y(j,2);{let z=Ge(()=>(W(c()),x(()=>c()?.title||"Event")));qt(_e,{get id(){return we},subtitle:"Discussion with Submitter",get title(){return n(z)},className:"chat-drawer-stacked",bodyClass:"overflow-hidden d-flex flex-column",children:(ne,Fe)=>{{let De=Ge(()=>(n(s),x(()=>n(s)?.id??-1)));oa(ne,{get comments(){return n(C)},get currentUserId(){return n(De)},onSend:xa,onDelete:Da,get loading(){return n(Q)},fullHeight:!0,get disabled(){return p()}})}},$$slots:{default:!0}})}P(()=>{yt(le,"aria-controls",Ee),yt(ce,"aria-controls",we),re(ht,n(ze))}),be("click",le,ie),be("click",ce,Ce),S(B,h)};A(w,B=>{n(Me)&&B(Ea)})}var Lt=Y(w,2),_t=_(Lt);da(_t,5,()=>n(je),an,(B,h)=>{var R=vr(),le=_(R),pe=_(le),X=_(pe),He=_(X,!0);m(X);var Ke=Y(X,2);{var j=te=>{var ee=fr(),ae=_(ee,!0);m(ee),P(_e=>re(ae,_e),[()=>(n(V),n(h),x(()=>Se(n(V)[n(h)])))]),S(te,ee)};A(Ke,te=>{n(V),n(h),x(()=>n(V)[n(h)])&&te(j)})}m(pe);var ce=Y(pe,2),Xe=_(ce);{var st=te=>{var ee=pr(),ae=_(ee),_e=Y(ae,2),z=Y(_e,2),ne=Y(z,2);{var Fe=De=>{var et=mr(),gt=_(et);Qe(gt,{size:"xs"}),m(et),S(De,et)};A(ne,De=>{n(me)===n(h)&&De(Fe)})}m(ee),P((De,et,gt)=>{Ne(ae,1,De,"svelte-rko3uy"),ae.disabled=p()||n(me)===n(h),Ne(_e,1,et,"svelte-rko3uy"),_e.disabled=p()||n(me)===n(h),Ne(z,1,gt,"svelte-rko3uy"),z.disabled=p()||n(me)===n(h)},[()=>Dt((n(k),n(h),x(()=>Sa(n(k)[n(h)])))),()=>Dt((n(k),n(h),x(()=>Ta(n(k)[n(h)])))),()=>Dt((n(k),n(h),x(()=>ka(n(k)[n(h)]))))]),be("click",ae,()=>$(n(h),"YES")),be("click",_e,()=>$(n(h),"NO")),be("click",z,()=>ut(n(h))),S(te,ee)},ht=te=>{const ee=Ge(()=>(n(k),n(h),x(()=>Ca(n(k)[n(h)]))));var ae=_r(),_e=_(ae,!0);m(ae),P(()=>{Ne(ae,1,(W(n(ee)),x(()=>`badge ${n(ee).class}`)),"svelte-rko3uy"),re(_e,(W(n(ee)),x(()=>n(ee).text)))}),S(te,ae)};A(Xe,te=>{n(h),x(()=>qe(n(h)))?te(st):te(ht,!1)})}m(ce),m(le),m(R),P(()=>re(He,(W(na),n(h),x(()=>na[n(h)])))),S(B,R)}),m(_t);var vt=Y(_t,2),bt=_(vt),Ht=_(bt),Ua=_(Ht);m(Ht),m(bt);var Aa=Y(bt,2);{var Pa=B=>{var h=hr(),R=_(h);{var le=X=>{Qe(X,{size:"xs"})},pe=X=>{var He=br();S(X,He)};A(R,X=>{n(G)?X(le):X(pe,!1)})}it(),m(h),P(()=>h.disabled=p()||n(G)),be("click",h,Je),S(B,h)},La=B=>{var h=wr(),R=at(h),le=_(R);{var pe=j=>{Qe(j,{size:"xs"})},X=j=>{var ce=gr();S(j,ce)};A(le,j=>{n(G)?j(pe):j(X,!1)})}it(),m(R);var He=Y(R,2);{var Ke=j=>{var ce=yr();S(j,ce)};A(He,j=>{n(D)||j(Ke)})}P(()=>{R.disabled=p()||n(G)||!n(D),yt(R,"title",n(D)?"":"At least one approval required to publish")}),be("click",R,Je),S(B,h)};A(Aa,B=>{n(O)?B(Pa):B(La,!1)})}m(vt);var Ha=Y(vt,2);{var Fa=B=>{var h=xr(),R=_(h,!0);m(h),P(()=>re(R,n(ge))),S(B,h)};A(Ha,B=>{n(ge)&&B(Fa)})}m(Lt),P(()=>re(Ua,`Approvals: ${n(y)??""} of 3`)),S(i,u)};A(Ma,i=>{W(c()),x(()=>!c()?.id)?i(Ya):i(Oa,!1)})}m(mt),S(e,mt),ca(),o()}export{Qr as B,Hn as C,Ot as D,Rn as a,Zr as b,On as c,An as d,tt as e,Mn as f,Gr as g,zr as h,Pt as i,Kr as j,Vr as k,ya as l,Ln as m,En as n,va as o,ct as p,Yn as q,rr as r,oa as s,aa as t,Pn as u,or as v,sr as w,qr as x};
