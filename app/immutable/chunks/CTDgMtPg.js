import{a as j,t as q}from"./DtCfv1Xo.js";import{r as z}from"./Is0eQybD.js";function E(n){return n?.length!==void 0?n:Array.from(n)}function F(n,c){n.d(1),c.delete(n.key)}function G(n,c){q(n,1,1,()=>{c.delete(n.key)})}function H(n,c,M,B,v,_,d,S,m,x,h,A){let i=n.length,o=_.length,a=i;const r={};for(;a--;)r[n[a].key]=a;const l=[],w=new Map,u=new Map,g=[];for(a=o;a--;){const e=A(v,_,a),t=M(e);let s=d.get(t);s?g.push(()=>s.p(e,c)):(s=x(t,e),s.c()),w.set(t,l[a]=s),t in r&&u.set(t,Math.abs(a-r[t]))}const p=new Set,k=new Set;function y(e){j(e,1),e.m(S,h),d.set(e.key,e),h=e.first,o--}for(;i&&o;){const e=l[o-1],t=n[i-1],s=e.key,f=t.key;e===t?(h=e.first,i--,o--):w.has(f)?!d.has(s)||p.has(s)?y(e):k.has(f)?i--:u.get(s)>u.get(f)?(k.add(s),y(e)):(p.add(f),i--):(m(t,d),i--)}for(;i--;){const e=n[i];w.has(e.key)||m(e,d)}for(;o;)y(l[o-1]);return z(g),l}export{F as d,E as e,G as o,H as u};
