import{s as ee,v as X,d as m,x as te,l as D,b as n,i as ae,m as s,F as G,e as b,f as v,p as T,h as F,j as S,t as P,k as Y,S as Z}from"./Bm9csavu.js";import{S as le,i as ne}from"./BbQ5hygM.js";import{w as se}from"./DjCpEevZ.js";import{U as i,g as re}from"./DYJAE3B_.js";function oe(e){let l,t,r,c,h,_,E,o,y,f,C,j,I,a,B,O,A,M,g,U,R,q,H;return{c(){l=S("div"),t=S("div"),r=S("div"),c=S("div"),h=S("h5"),_=P(e[0]),E=Y(),o=S("button"),y=Y(),f=S("div"),C=S("p"),j=P(e[1]),I=Y(),a=S("div"),B=S("button"),O=P(e[2]),M=Y(),g=S("button"),U=P(e[4]),this.h()},l(u){l=b(u,"DIV",{class:!0,tabindex:!0});var d=v(l);t=b(d,"DIV",{class:!0});var Q=v(t);r=b(Q,"DIV",{class:!0});var L=v(r);c=b(L,"DIV",{class:!0});var V=v(c);h=b(V,"H5",{class:!0});var W=v(h);_=T(W,e[0]),W.forEach(m),E=F(V),o=b(V,"BUTTON",{type:!0,class:!0,"aria-label":!0});var $=v(o);$.forEach(m),V.forEach(m),y=F(L),f=b(L,"DIV",{class:!0});var z=v(f);C=b(z,"P",{});var J=v(C);j=T(J,e[1]),J.forEach(m),z.forEach(m),I=F(L),a=b(L,"DIV",{class:!0});var w=v(a);B=b(w,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0});var K=v(B);O=T(K,e[2]),K.forEach(m),M=F(w),g=b(w,"BUTTON",{type:!0,class:!0});var N=v(g);U=T(N,e[4]),N.forEach(m),w.forEach(m),L.forEach(m),Q.forEach(m),d.forEach(m),this.h()},h(){n(h,"class","modal-title"),n(o,"type","button"),n(o,"class","btn-close"),n(o,"aria-label",e[2]),n(c,"class","modal-header"),n(f,"class","modal-body"),n(B,"type","button"),n(B,"class",A="btn "+e[3]+" svelte-ydpc16"),n(B,"data-bs-dismiss","modal"),n(g,"type","button"),n(g,"class",R="btn "+e[5]+" svelte-ydpc16"),n(a,"class","modal-footer"),n(r,"class","modal-content"),n(t,"class","modal-dialog"),n(l,"class","modal svelte-ydpc16"),n(l,"tabindex","-1")},m(u,d){ae(u,l,d),s(l,t),s(t,r),s(r,c),s(c,h),s(h,_),s(c,E),s(c,o),s(r,y),s(r,f),s(f,C),s(C,j),s(r,I),s(r,a),s(a,B),s(B,O),s(a,M),s(a,g),s(g,U),q||(H=[G(o,"click",e[8]),G(B,"click",e[9]),G(g,"click",e[10])],q=!0)},p(u,[d]){d&1&&D(_,u[0]),d&4&&n(o,"aria-label",u[2]),d&2&&D(j,u[1]),d&4&&D(O,u[2]),d&8&&A!==(A="btn "+u[3]+" svelte-ydpc16")&&n(B,"class",A),d&16&&D(U,u[4]),d&32&&R!==(R="btn "+u[5]+" svelte-ydpc16")&&n(g,"class",R)},i:X,o:X,d(u){u&&m(l),q=!1,te(H)}}}function ce(e,l,t){let{title:r=""}=l,{message:c=""}=l,{rejectButtonLabel:h="No"}=l,{rejectButtonCSS:_="btn-secondary"}=l,{confirmButtonLabel:E="Yes"}=l,{confirmButtonCSS:o="btn-primary"}=l,{callback:y}=l;function f(a){y(a)}const C=()=>f(!1),j=()=>f(!1),I=()=>f(!0);return e.$$set=a=>{"title"in a&&t(0,r=a.title),"message"in a&&t(1,c=a.message),"rejectButtonLabel"in a&&t(2,h=a.rejectButtonLabel),"rejectButtonCSS"in a&&t(3,_=a.rejectButtonCSS),"confirmButtonLabel"in a&&t(4,E=a.confirmButtonLabel),"confirmButtonCSS"in a&&t(5,o=a.confirmButtonCSS),"callback"in a&&t(7,y=a.callback)},[r,c,h,_,E,o,f,y,C,j,I]}class ie extends le{constructor(l){super(),ne(this,l,ce,oe,ee,{title:0,message:1,rejectButtonLabel:2,rejectButtonCSS:3,confirmButtonLabel:4,confirmButtonCSS:5,callback:7})}}let x;function he(e){const l=document.createElement("div");document.body.appendChild(l);const t={title:"Are you sure?",message:"Are you sure you want to do that?  You will not be able to undo this.",callback:()=>{console.log("callback")}};e.title&&(t.title=e.title),e.message&&(t.message=e.message),e.rejectButtonLabel&&(t.rejectButtonLabel=e.rejectButtonLabel),e.rejectButtonCSS&&(t.rejectButtonCSS=e.rejectButtonCSS),e.confirmButtonLabel&&(t.confirmButtonLabel=e.confirmButtonLabel),e.confirmButtonCSS&&(t.confirmButtonCSS=e.confirmButtonCSS),t.callback=r=>{console.log("Confirm result:",r),x.$destroy(),document.body.removeChild(l),e.callback&&typeof e.callback=="function"&&e.callback(r)},x=new ie({target:l,props:t})}var ue=(e=>(e.EditSacramentProgram="edit-sacrament-program",e.EditDBCalendarEvent="edit-calendar-events",e.EditMemberListItem="edit-member-list-item",e.ViewDBMemberListItem="view-db-member-list-item",e.UseCallings="use-callings",e))(ue||{});const de=[{name:"edit-sacrament-program",roles:[i.Root,i.Admin],turnedOn:!0},{name:"edit-calendar-events",roles:[i.Root,i.Admin,i.Primary,i.ReliefSociety,i.EldersQuorum,i.YoungWomen,i.SundaySchool],turnedOn:!0},{name:"view-db-member-list-item",roles:[i.Root,i.Admin],turnedOn:!0},{name:"edit-member-list-item",roles:[i.Root,i.Admin],turnedOn:!0},{name:"use-callings",roles:[i.Root],turnedOn:!0}],{stores:{currentUser:p}}=re();let k=null;const me=()=>{const e=se(de);return k={stores:{featureFlags:e,currentUser:p},actions:{featureIsEnabled:t=>{const c=Z(e).find(o=>o.name===t);if(!c)return!1;const _=Z(p).role;return!!c.roles.find(o=>o===_)&&c.turnedOn}}},k},Be=()=>k?.stores&&Object.keys(k.stores).length>0&&k?.actions&&Object.keys(k.actions).length>0?k:me();export{ue as F,he as c,Be as g};
