import{s as Ye,r as bt,n as oe,j as De,b as rt,o as gt}from"./scheduler.NVaRV7ke.js";import{S as Ze,i as Qe,e as m,s as V,n as X,c as we,b as h,d as D,p as K,g as M,f as v,q as J,h as Te,j as u,y as Z,k as H,r as o,D as Q,m as Se,C as z,u as be,t as le,a as ne,l as Ne,w as Et,v as kt,z as We,x as Ct,A as Nt,H as Vt,F as Mt}from"./index.BDNOK2Ei.js";import{g as It,F as yt}from"./feature-flag.state.CNg_sSXu.js";import{t as Dt,f as ve,p as Pe,e as tt}from"./Header.DihtgF8T.js";import{S as wt}from"./Spinner.qPIGQQYh.js";import{g as Tt,t as He,u as At,c as Lt,d as Bt,A as Pt}from"./announcements.data.BCrENHZE.js";import{t as Ke,D as Ht,v as Ut}from"./Drawer.OjZind50.js";import{c as Ft}from"./confirm.service.CzyjCzSE.js";import{A as Ue,B as ot}from"./app.state.CpSnVk-Y.js";import{p as ut}from"./parse.MEn28jWS.js";function Ot(n,e){const t=Dt(n);return t.setHours(e),t}function Rt(n,e){const t=Dt(n);return t.setMinutes(e),t}function ft(n){let e,t,l="Start time*",s,a,c,f,r,p,k="End time*",g,d,i,b,w;return{c(){e=m("div"),t=m("div"),t.textContent=l,s=V(),a=m("input"),f=V(),r=m("div"),p=m("div"),p.textContent=k,g=V(),d=m("input"),this.h()},l(_){e=h(_,"DIV",{class:!0});var E=D(e);t=h(E,"DIV",{"data-svelte-h":!0}),K(t)!=="svelte-gzi1xn"&&(t.textContent=l),s=M(E),a=h(E,"INPUT",{name:!0,type:!0,step:!0,class:!0}),E.forEach(v),f=M(_),r=h(_,"DIV",{class:!0});var U=D(r);p=h(U,"DIV",{"data-svelte-h":!0}),K(p)!=="svelte-ig3ngi"&&(p.textContent=k),g=M(U),d=h(U,"INPUT",{name:!0,type:!0,step:!0,class:!0}),U.forEach(v),this.h()},h(){u(a,"name",c=n[1]+"-start-time"),u(a,"type","time"),u(a,"step",900),u(a,"class","form-control"),a.disabled=n[6],a.required=!0,Z(a,"is-invalid",n[3]),u(e,"class","d-flex flex-column gap-2"),u(d,"name",i=n[1]+"-end-time"),u(d,"type","time"),u(d,"step",900),u(d,"class","form-control"),d.disabled=n[6],d.required=!0,Z(d,"is-invalid",n[2]),u(r,"class","d-flex flex-column gap-2")},m(_,E){H(_,e,E),o(e,t),o(e,s),o(e,a),n[29](a),Q(a,n[16]),H(_,f,E),H(_,r,E),o(r,p),o(r,g),o(r,d),n[32](d),Q(d,n[14]),b||(w=[z(a,"focus",n[30]),z(a,"input",n[31]),z(d,"focus",n[33]),z(d,"input",n[34])],b=!0)},p(_,E){E[0]&2&&c!==(c=_[1]+"-start-time")&&u(a,"name",c),E[0]&64&&(a.disabled=_[6]),E[0]&65536&&Q(a,_[16]),E[0]&8&&Z(a,"is-invalid",_[3]),E[0]&2&&i!==(i=_[1]+"-end-time")&&u(d,"name",i),E[0]&64&&(d.disabled=_[6]),E[0]&16384&&Q(d,_[14]),E[0]&4&&Z(d,"is-invalid",_[2])},d(_){_&&(v(e),v(f),v(r)),n[29](null),n[32](null),b=!1,bt(w)}}}function jt(n){let e,t="<span>Delete</span>",l,s;return{c(){e=m("button"),e.innerHTML=t,this.h()},l(a){e=h(a,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1bw2173"&&(e.innerHTML=t),this.h()},h(){u(e,"class","btn btn-danger position-relative")},m(a,c){H(a,e,c),l||(s=z(e,"click",n[19]),l=!0)},p:oe,d(a){a&&v(e),l=!1,s()}}}function qt(n){let e,t="Create";return{c(){e=m("span"),e.textContent=t},l(l){e=h(l,"SPAN",{"data-svelte-h":!0}),K(e)!=="svelte-1wf0js6"&&(e.textContent=t)},m(l,s){H(l,e,s)},d(l){l&&v(e)}}}function zt(n){let e,t="Save";return{c(){e=m("span"),e.textContent=t},l(l){e=h(l,"SPAN",{"data-svelte-h":!0}),K(e)!=="svelte-l126tb"&&(e.textContent=t)},m(l,s){H(l,e,s)},d(l){l&&v(e)}}}function ct(n){let e,t='<span class="visually-hidden">Item not saved</span>';return{c(){e=m("span"),e.innerHTML=t,this.h()},l(l){e=h(l,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1g0a6ie"&&(e.innerHTML=t),this.h()},h(){u(e,"class","position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle")},m(l,s){H(l,e,s)},d(l){l&&v(e)}}}function Gt(n){let e,t,l,s="Title*",a,c,f,r,p,k="Event title. i.e. Ward Conference, Ward BBQ Night",g,d,i,b="Date*",w,_,E,U,C,T,S,P,A,L,j,$,ue,se,F,x,_e="Description",Ve,R,ge,Me,ae,Fe="Describe the event to the best of your knowledge",Ae,Y,fe,Oe="Location",Le,q,Ee,Be,ie,Re="Location can be physical or virtual",N,B,ee,me=n[13].message+"",ke,ce,Xe,he,pe,Je,$e,te,xe,O,et,lt,G=!n[0].is_all_day&&ft(n);pe=new wt({props:{size:"xs"}});let re=n[18]&&jt(n);function St(I,y){return I[18]?zt:qt}let je=St(n)(n),W=n[17]&&ct();return{c(){e=m("div"),t=m("div"),l=m("div"),l.textContent=s,a=V(),c=m("input"),r=V(),p=m("small"),p.textContent=k,g=V(),d=m("div"),i=m("div"),i.textContent=b,w=V(),_=m("input"),U=V(),C=m("div"),T=m("div"),S=m("input"),A=V(),L=m("label"),j=X("All Day Event"),ue=V(),G&&G.c(),se=V(),F=m("div"),x=m("div"),x.textContent=_e,Ve=V(),R=m("textarea"),Me=V(),ae=m("small"),ae.textContent=Fe,Ae=V(),Y=m("div"),fe=m("div"),fe.textContent=Oe,Le=V(),q=m("input"),Be=V(),ie=m("small"),ie.textContent=Re,N=V(),B=m("div"),ee=m("small"),ke=X(me),Xe=V(),he=m("span"),we(pe.$$.fragment),Je=V(),re&&re.c(),$e=V(),te=m("button"),je.c(),xe=V(),W&&W.c(),this.h()},l(I){e=h(I,"DIV",{class:!0});var y=D(e);t=h(y,"DIV",{class:!0});var Ce=D(t);l=h(Ce,"DIV",{"data-svelte-h":!0}),K(l)!=="svelte-1w3dtko"&&(l.textContent=s),a=M(Ce),c=h(Ce,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),r=M(Ce),p=h(Ce,"SMALL",{class:!0,"data-svelte-h":!0}),K(p)!=="svelte-gvb7m1"&&(p.textContent=k),Ce.forEach(v),g=M(y),d=h(y,"DIV",{class:!0});var qe=D(d);i=h(qe,"DIV",{"data-svelte-h":!0}),K(i)!=="svelte-1992pd0"&&(i.textContent=b),w=M(qe),_=h(qe,"INPUT",{name:!0,type:!0,class:!0,placeholder:!0}),qe.forEach(v),U=M(y),C=h(y,"DIV",{});var nt=D(C);T=h(nt,"DIV",{class:!0});var ze=D(T);S=h(ze,"INPUT",{class:!0,type:!0,id:!0}),A=M(ze),L=h(ze,"LABEL",{class:!0,for:!0});var st=D(L);j=J(st,"All Day Event"),st.forEach(v),ze.forEach(v),nt.forEach(v),ue=M(y),G&&G.l(y),se=M(y),F=h(y,"DIV",{class:!0});var Ie=D(F);x=h(Ie,"DIV",{"data-svelte-h":!0}),K(x)!=="svelte-1x8itd0"&&(x.textContent=_e),Ve=M(Ie),R=h(Ie,"TEXTAREA",{name:!0,class:!0}),D(R).forEach(v),Me=M(Ie),ae=h(Ie,"SMALL",{class:!0,"data-svelte-h":!0}),K(ae)!=="svelte-bky2ve"&&(ae.textContent=Fe),Ie.forEach(v),Ae=M(y),Y=h(y,"DIV",{class:!0});var ye=D(Y);fe=h(ye,"DIV",{"data-svelte-h":!0}),K(fe)!=="svelte-szqbut"&&(fe.textContent=Oe),Le=M(ye),q=h(ye,"INPUT",{name:!0,type:!0,class:!0}),Be=M(ye),ie=h(ye,"SMALL",{class:!0,"data-svelte-h":!0}),K(ie)!=="svelte-1drtb8l"&&(ie.textContent=Re),ye.forEach(v),N=M(y),B=h(y,"DIV",{class:!0});var de=D(B);ee=h(de,"SMALL",{class:!0});var at=D(ee);ke=J(at,me),at.forEach(v),Xe=M(de),he=h(de,"SPAN",{});var it=D(he);Te(pe.$$.fragment,it),it.forEach(v),Je=M(de),re&&re.l(de),$e=M(de),te=h(de,"BUTTON",{class:!0});var Ge=D(te);je.l(Ge),xe=M(Ge),W&&W.l(Ge),Ge.forEach(v),de.forEach(v),y.forEach(v),this.h()},h(){u(c,"name",f=n[1]+"-title"),u(c,"type","text"),u(c,"class","form-control"),u(c,"placeholder","Event title"),c.disabled=n[6],c.required=!0,Z(c,"is-invalid",n[5]),u(p,"class","fw-lighter fst-italic"),u(t,"class","d-flex flex-column gap-2"),u(_,"name",E=n[1]+"-start-time"),u(_,"type","date"),u(_,"class","form-control"),u(_,"placeholder","Event title"),_.disabled=n[6],_.required=!0,Z(_,"is-invalid",n[3]),u(d,"class","d-flex flex-column gap-2"),u(S,"class","form-check-input"),u(S,"type","checkbox"),u(S,"id",P=n[1]+"-all-day-check"),u(L,"class","form-check-label"),u(L,"for",$=n[1]+"-all-day-check"),u(T,"class","form-check d-flex align-items-center gap-2"),u(R,"name",ge=n[1]+"-description"),u(R,"class","form-control"),R.disabled=n[6],Z(R,"is-invalid",n[4]),u(ae,"class","fw-lighter fst-italic"),u(F,"class","d-flex flex-column gap-2"),u(q,"name",Ee=n[1]+"-location"),u(q,"type","text"),u(q,"class","form-control"),q.disabled=n[6],u(ie,"class","fw-lighter fst-italic"),u(Y,"class","d-flex flex-column gap-2"),u(ee,"class",ce="fw-lighter fst-italic text-"+n[13].type),Z(he,"d-none",!n[6]),u(te,"class","btn btn-primary position-relative"),u(B,"class","d-flex justify-content-end align-items-center gap-2 flex-row"),u(e,"class","d-flex flex-column gap-4")},m(I,y){H(I,e,y),o(e,t),o(t,l),o(t,a),o(t,c),n[22](c),Q(c,n[0].title),o(t,r),o(t,p),o(e,g),o(e,d),o(d,i),o(d,w),o(d,_),n[25](_),Q(_,n[15]),o(e,U),o(e,C),o(C,T),o(T,S),S.checked=n[0].is_all_day,o(T,A),o(T,L),o(L,j),o(e,ue),G&&G.m(e,null),o(e,se),o(e,F),o(F,x),o(F,Ve),o(F,R),n[35](R),Q(R,n[0].description),o(F,Me),o(F,ae),o(e,Ae),o(e,Y),o(Y,fe),o(Y,Le),o(Y,q),n[38](q),Q(q,n[0].location),o(Y,Be),o(Y,ie),o(e,N),o(e,B),o(B,ee),o(ee,ke),o(B,Xe),o(B,he),Se(pe,he,null),o(B,Je),re&&re.m(B,null),o(B,$e),o(B,te),je.m(te,null),o(te,xe),W&&W.m(te,null),O=!0,et||(lt=[z(c,"focus",n[23]),z(c,"input",n[24]),z(_,"focus",n[26]),z(_,"input",n[27]),z(S,"change",n[28]),z(R,"focus",n[36]),z(R,"input",n[37]),z(q,"focus",n[39]),z(q,"input",n[40]),z(te,"click",n[20])],et=!0)},p(I,y){(!O||y[0]&2&&f!==(f=I[1]+"-title"))&&u(c,"name",f),(!O||y[0]&64)&&(c.disabled=I[6]),y[0]&1&&c.value!==I[0].title&&Q(c,I[0].title),(!O||y[0]&32)&&Z(c,"is-invalid",I[5]),(!O||y[0]&2&&E!==(E=I[1]+"-start-time"))&&u(_,"name",E),(!O||y[0]&64)&&(_.disabled=I[6]),y[0]&32768&&Q(_,I[15]),(!O||y[0]&8)&&Z(_,"is-invalid",I[3]),(!O||y[0]&2&&P!==(P=I[1]+"-all-day-check"))&&u(S,"id",P),y[0]&1&&(S.checked=I[0].is_all_day),(!O||y[0]&2&&$!==($=I[1]+"-all-day-check"))&&u(L,"for",$),I[0].is_all_day?G&&(G.d(1),G=null):G?G.p(I,y):(G=ft(I),G.c(),G.m(e,se)),(!O||y[0]&2&&ge!==(ge=I[1]+"-description"))&&u(R,"name",ge),(!O||y[0]&64)&&(R.disabled=I[6]),y[0]&1&&Q(R,I[0].description),(!O||y[0]&16)&&Z(R,"is-invalid",I[4]),(!O||y[0]&2&&Ee!==(Ee=I[1]+"-location"))&&u(q,"name",Ee),(!O||y[0]&64)&&(q.disabled=I[6]),y[0]&1&&q.value!==I[0].location&&Q(q,I[0].location),(!O||y[0]&8192)&&me!==(me=I[13].message+"")&&be(ke,me),(!O||y[0]&8192&&ce!==(ce="fw-lighter fst-italic text-"+I[13].type))&&u(ee,"class",ce),(!O||y[0]&64)&&Z(he,"d-none",!I[6]),I[18]&&re.p(I,y),I[17]?W||(W=ct(),W.c(),W.m(te,null)):W&&(W.d(1),W=null)},i(I){O||(le(pe.$$.fragment,I),O=!0)},o(I){ne(pe.$$.fragment,I),O=!1},d(I){I&&v(e),n[22](null),n[25](null),G&&G.d(),n[35](null),n[38](null),Ne(pe),re&&re.d(),je.d(),W&&W.d(),et=!1,bt(lt)}}}function Kt(n,e,t){let l,s,a,c,f,r,p,k,g,{name:d=""}=e,{eventItem:i=ot}=e;const{actions:{reload:b}}=Tt();let w=!1,_=i.id,E,U,C,T,S,P,A={message:"",type:"info"},L={title:"",description:"",start_time:"",end_time:"",location:"",is_all_day:!1};const j=(N,B=0,ee="info")=>{t(13,A.message=N,A),t(13,A.type=ee,A),B&&setTimeout(()=>{t(13,A.message="",A)},B)},$=async()=>{if(!_){j("ID is not defined",0,"danger");return}try{await Bt(_),await b(),Ke("set_calendar_event_success","interaction","Delete Calendar Event Successful",1),setTimeout(()=>{t(6,w=!1),t(21,L={...i,id:_}),j("Event Deleted",3e3,"success"),t(0,i=ot)},800)}catch(N){Ke("set_calendar_event_failed","interaction","Delete Calendar Event Failed",1),setTimeout(()=>{t(6,w=!1),console.error("Save failed:",N),j("Failed to save event. Please try again.",7e3,"danger")},800)}},ue=()=>{t(6,w=!0),Ft({title:"Delete Confirmation",message:"Are you sure you want to do this?  You won't be able to undo this.",confirmButtonLabel:"Yes",confirmButtonCSS:"btn-danger",callback:N=>{N?$():t(6,w=!1)}})},se=async()=>{if(!l){j("Sorry nothing has changed, therefore, there is nothing to save.",7e3);return}if(!g){let B=[];s&&B.push("Title is invalid"),a&&B.push("Description is invalid"),c&&B.push("Start time is invalid"),f&&B.push("End time is invalid"),j(B.join(". ")+".  Please address accordingly.",0,"danger");return}if(w)return;j("Saving ..."),t(6,w=!0);const N=(B,ee)=>{const[me,ke]=ee.split(":").map(Number);let ce=Ot(B,me);return ce=Rt(ce,ke),ce};try{const B={title:i.title,description:i.description,start_time:N(ut(r,"yyyy-MM-dd",new Date),p).toISOString(),end_time:N(ut(r,"yyyy-MM-dd",new Date),k).toISOString(),location:i.location,is_all_day:i.is_all_day};_?await At(_,B):await Lt(B),await b(),Ke("set_calendar_event_success","interaction",`Set Calendar Event Successful ${i.title}`,1),setTimeout(()=>{t(6,w=!1),t(21,L={...i,id:_}),j("Saved",3e3,"success")},800)}catch(B){Ke("set_calendar_event_failed","interaction",`Set Calendar Event Failed ${i.title}`,1),setTimeout(()=>{t(6,w=!1),console.error("Save failed:",B),j("Failed to save event. Please try again.",7e3,"danger")},800)}};function F(N){De[N?"unshift":"push"](()=>{E=N,t(7,E)})}const x=()=>E.select();function _e(){i.title=this.value,t(0,i)}function Ve(N){De[N?"unshift":"push"](()=>{C=N,t(9,C)})}const R=()=>C.select();function ge(){r=this.value,t(15,r),t(0,i)}function Me(){i.is_all_day=this.checked,t(0,i)}function ae(N){De[N?"unshift":"push"](()=>{T=N,t(10,T)})}const Fe=()=>T.select();function Ae(){p=this.value,t(16,p),t(0,i)}function Y(N){De[N?"unshift":"push"](()=>{S=N,t(11,S)})}const fe=()=>S.select();function Oe(){k=this.value,t(14,k),t(0,i)}function Le(N){De[N?"unshift":"push"](()=>{U=N,t(8,U)})}const q=()=>U.select();function Ee(){i.description=this.value,t(0,i)}function Be(N){De[N?"unshift":"push"](()=>{P=N,t(12,P)})}const ie=()=>P.select();function Re(){i.location=this.value,t(0,i)}return n.$$set=N=>{"name"in N&&t(1,d=N.name),"eventItem"in N&&t(0,i=N.eventItem)},n.$$.update=()=>{n.$$.dirty[0]&2097153&&t(17,l=L.title!==i.title||L.start_time!==i.start_time||L.end_time!==i.end_time||L.location!==i.location||L.is_all_day!==i.is_all_day),n.$$.dirty[0]&1&&t(5,s=i.title===""),n.$$.dirty[0]&1&&t(3,c=i.start_time===""),n.$$.dirty[0]&1&&t(2,f=i.end_time===""),n.$$.dirty[0]&1&&t(15,r=ve(He(Pe(i.start_time),Ue),"yyyy-MM-dd")),n.$$.dirty[0]&1&&t(16,p=ve(He(Pe(i.start_time),Ue),"HH:mm")),n.$$.dirty[0]&1&&t(14,k=ve(He(Pe(i.end_time),Ue),"HH:mm")),n.$$.dirty[0]&60&&(g=!s&&!a&&!c&&!f)},t(4,a=!1),[i,d,f,c,a,s,w,E,U,C,T,S,P,A,k,r,p,l,_,ue,se,L,F,x,_e,Ve,R,ge,Me,ae,Fe,Ae,Y,fe,Oe,Le,q,Ee,Be,ie,Re]}class Wt extends Ze{constructor(e){super(),Qe(this,e,Kt,Gt,Ye,{name:1,eventItem:0},null,[-1,-1])}}function dt(n,e,t){const l=n.slice();return l[16]=e[t],l}function Yt(n){let e,t;return e=new Wt({props:{eventItem:n[3],name:"calendar-event-item-form"}}),{c(){we(e.$$.fragment)},l(l){Te(e.$$.fragment,l)},m(l,s){Se(e,l,s),t=!0},p(l,s){const a={};s&8&&(a.eventItem=l[3]),e.$set(a)},i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){Ne(e,l)}}}function Zt(n){let e,t;return e=new wt({}),{c(){we(e.$$.fragment)},l(l){Te(e.$$.fragment,l)},m(l,s){Se(e,l,s),t=!0},p:oe,i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){Ne(e,l)}}}function Qt(n){let e;function t(a,c){return a[5]?.length?Jt:Xt}let l=t(n),s=l(n);return{c(){s.c(),e=We()},l(a){s.l(a),e=We()},m(a,c){s.m(a,c),H(a,e,c)},p(a,c){l===(l=t(a))&&s?s.p(a,c):(s.d(1),s=l(a),s&&(s.c(),s.m(e.parentNode,e)))},i:oe,o:oe,d(a){a&&v(e),s.d(a)}}}function Xt(n){let e,t="There are no events logged";return{c(){e=m("div"),e.textContent=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-10lllm0"&&(e.textContent=t),this.h()},h(){u(e,"class","card-body")},m(l,s){H(l,e,s)},p:oe,d(l){l&&v(e)}}}function Jt(n){let e,t,l,s,a,c,f,r,p,k=tt(n[5]),g=[];for(let d=0;d<k.length;d+=1)g[d]=vt(dt(n,k,d));return{c(){e=m("div"),t=m("button"),l=m("i"),s=X(`
					Add New Calendar Event`),c=V(),f=m("ul");for(let d=0;d<g.length;d+=1)g[d].c();this.h()},l(d){e=h(d,"DIV",{class:!0});var i=D(e);t=h(i,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var b=D(t);l=h(b,"I",{class:!0}),D(l).forEach(v),s=J(b,`
					Add New Calendar Event`),b.forEach(v),i.forEach(v),c=M(d),f=h(d,"UL",{class:!0});var w=D(f);for(let _=0;_<g.length;_+=1)g[_].l(w);w.forEach(v),this.h()},h(){u(l,"class","bi bi-plus"),u(t,"class","btn btn-sm btn-secondary"),u(t,"type","button"),u(t,"data-bs-toggle","offcanvas"),u(t,"data-bs-target",a="#"+n[0]),u(t,"aria-controls",n[0]),u(e,"class","card-body"),u(f,"class","list-group list-group-flush")},m(d,i){H(d,e,i),o(e,t),o(t,l),o(t,s),H(d,c,i),H(d,f,i);for(let b=0;b<g.length;b+=1)g[b]&&g[b].m(f,null);r||(p=z(t,"click",n[11]),r=!0)},p(d,i){if(i&1&&a!==(a="#"+d[0])&&u(t,"data-bs-target",a),i&1&&u(t,"aria-controls",d[0]),i&1827){k=tt(d[5]);let b;for(b=0;b<k.length;b+=1){const w=dt(d,k,b);g[b]?g[b].p(w,i):(g[b]=vt(w),g[b].c(),g[b].m(f,null))}for(;b<g.length;b+=1)g[b].d(1);g.length=k.length}},d(d){d&&(v(e),v(c),v(f)),Ct(g,d),r=!1,p()}}}function _t(n){let e,t=n[9](n[16].start_time)+"",l,s,a=n[9](n[16].end_time)+"",c;return{c(){e=m("span"),l=X(t),s=X(" to "),c=X(a),this.h()},l(f){e=h(f,"SPAN",{class:!0});var r=D(e);l=J(r,t),s=J(r," to "),c=J(r,a),r.forEach(v),this.h()},h(){u(e,"class","d-block")},m(f,r){H(f,e,r),o(e,l),o(e,s),o(e,c)},p(f,r){r&32&&t!==(t=f[9](f[16].start_time)+"")&&be(l,t),r&32&&a!==(a=f[9](f[16].end_time)+"")&&be(c,a)},d(f){f&&v(e)}}}function mt(n){let e,t=n[16].description+"",l;return{c(){e=m("span"),l=X(t),this.h()},l(s){e=h(s,"SPAN",{class:!0});var a=D(e);l=J(a,t),a.forEach(v),this.h()},h(){u(e,"class","d-block small")},m(s,a){H(s,e,a),o(e,l)},p(s,a){a&32&&t!==(t=s[16].description+"")&&be(l,t)},d(s){s&&v(e)}}}function ht(n){let e,t=n[16].location+"",l;return{c(){e=m("em"),l=X(t),this.h()},l(s){e=h(s,"EM",{class:!0});var a=D(e);l=J(a,t),a.forEach(v),this.h()},h(){u(e,"class","d-block small fw-lighter")},m(s,a){H(s,e,a),o(e,l)},p(s,a){a&32&&t!==(t=s[16].location+"")&&be(l,t)},d(s){s&&v(e)}}}function pt(n){let e,t,l,s,a;function c(){return n[12](n[16])}return{c(){e=m("button"),t=m("i"),this.h()},l(f){e=h(f,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0});var r=D(e);t=h(r,"I",{class:!0}),D(t).forEach(v),r.forEach(v),this.h()},h(){u(t,"class","bi bi-pencil"),u(e,"class","btn btn-sm btn-secondary"),u(e,"type","button"),u(e,"data-bs-toggle","offcanvas"),u(e,"data-bs-target",l="#"+n[0]),u(e,"aria-controls",n[0])},m(f,r){H(f,e,r),o(e,t),s||(a=z(e,"click",c),s=!0)},p(f,r){n=f,r&1&&l!==(l="#"+n[0])&&u(e,"data-bs-target",l),r&1&&u(e,"aria-controls",n[0])},d(f){f&&v(e),s=!1,a()}}}function vt(n){let e,t,l,s,a,c=n[8](n[16].start_time)+"",f,r,p,k,g=n[16].title+"",d,i,b,w,_,E,U,C=!n[16].is_all_day&&_t(n),T=n[16].description&&mt(n),S=n[16].location&&ht(n),P=n[1]&&pt(n);return{c(){e=m("li"),t=m("div"),l=m("div"),s=m("div"),a=m("strong"),f=X(c),r=V(),p=m("div"),k=m("strong"),d=X(g),i=V(),C&&C.c(),b=V(),T&&T.c(),w=V(),S&&S.c(),_=V(),E=m("div"),P&&P.c(),U=V(),this.h()},l(A){e=h(A,"LI",{class:!0});var L=D(e);t=h(L,"DIV",{class:!0});var j=D(t);l=h(j,"DIV",{class:!0});var $=D(l);s=h($,"DIV",{style:!0});var ue=D(s);a=h(ue,"STRONG",{});var se=D(a);f=J(se,c),se.forEach(v),ue.forEach(v),r=M($),p=h($,"DIV",{});var F=D(p);k=h(F,"STRONG",{});var x=D(k);d=J(x,g),x.forEach(v),i=M(F),C&&C.l(F),b=M(F),T&&T.l(F),w=M(F),S&&S.l(F),F.forEach(v),$.forEach(v),_=M(j),E=h(j,"DIV",{});var _e=D(E);P&&P.l(_e),_e.forEach(v),j.forEach(v),U=M(L),L.forEach(v),this.h()},h(){Nt(s,"width","85px"),u(l,"class","d-flex flex-sm-column flex-md-row flex-xl-row flex-lg-row gap-3"),u(t,"class","d-flex justify-content-between"),u(e,"class","list-group-item")},m(A,L){H(A,e,L),o(e,t),o(t,l),o(l,s),o(s,a),o(a,f),o(l,r),o(l,p),o(p,k),o(k,d),o(p,i),C&&C.m(p,null),o(p,b),T&&T.m(p,null),o(p,w),S&&S.m(p,null),o(t,_),o(t,E),P&&P.m(E,null),o(e,U)},p(A,L){L&32&&c!==(c=A[8](A[16].start_time)+"")&&be(f,c),L&32&&g!==(g=A[16].title+"")&&be(d,g),A[16].is_all_day?C&&(C.d(1),C=null):C?C.p(A,L):(C=_t(A),C.c(),C.m(p,b)),A[16].description?T?T.p(A,L):(T=mt(A),T.c(),T.m(p,w)):T&&(T.d(1),T=null),A[16].location?S?S.p(A,L):(S=ht(A),S.c(),S.m(p,null)):S&&(S.d(1),S=null),A[1]?P?P.p(A,L):(P=pt(A),P.c(),P.m(E,null)):P&&(P.d(1),P=null)},d(A){A&&v(e),C&&C.d(),T&&T.d(),S&&S.d(),P&&P.d()}}}function $t(n){let e,t,l,s,a="Calendar Events",c,f,r,p;e=new Ht({props:{title:n[2],id:n[0],$$slots:{default:[Yt]},$$scope:{ctx:n}}});const k=[Qt,Zt],g=[];function d(i,b){return i[4]?0:1}return f=d(n),r=g[f]=k[f](n),{c(){we(e.$$.fragment),t=V(),l=m("div"),s=m("div"),s.textContent=a,c=V(),r.c(),this.h()},l(i){Te(e.$$.fragment,i),t=M(i),l=h(i,"DIV",{class:!0});var b=D(l);s=h(b,"DIV",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-1on85xs"&&(s.textContent=a),c=M(b),r.l(b),b.forEach(v),this.h()},h(){u(s,"class","card-header"),u(l,"class","card")},m(i,b){Se(e,i,b),H(i,t,b),H(i,l,b),o(l,s),o(l,c),g[f].m(l,null),p=!0},p(i,[b]){const w={};b&4&&(w.title=i[2]),b&1&&(w.id=i[0]),b&524296&&(w.$$scope={dirty:b,ctx:i}),e.$set(w);let _=f;f=d(i),f===_?g[f].p(i,b):(Et(),ne(g[_],1,1,()=>{g[_]=null}),kt(),r=g[f],r?r.p(i,b):(r=g[f]=k[f](i),r.c()),le(r,1),r.m(l,null))},i(i){p||(le(e.$$.fragment,i),le(r),p=!0)},o(i){ne(e.$$.fragment,i),ne(r),p=!1},d(i){i&&(v(t),v(l)),Ne(e,i),g[f].d()}}}let xt="New Calendar Event",el="Edit Calendar Event";function tl(n,e,t){let l,s;const{actions:{featureIsEnabled:a}}=It(),{stores:{ready:c,dbData:f},actions:{reload:r}}=Tt();rt(n,c,C=>t(4,l=C)),rt(n,f,C=>t(5,s=C));const p={title:"Event",description:"",start_time:ve(new Date,"yyyy-MM-dd"),end_time:ve(new Date,"yyyy-MM-dd"),location:"",is_all_day:!0};let{formId:k=Ut()}=e,g=!1,d="",i={...p};gt(async()=>{t(1,g=a(yt.EditDBCalendarEvent)),await r()});const b=C=>{const T=Pe(C),S=He(T,Ue);return ve(S,"MMM, dd")},w=C=>{const T=Pe(C),S=He(T,Ue);return ve(S,"h:mm aa")},_=(C=void 0)=>{C?(t(2,d=el),t(3,i=C)):(t(2,d=xt),t(3,i={...p}))},E=()=>_(),U=C=>_(C);return n.$$set=C=>{"formId"in C&&t(0,k=C.formId)},[k,g,d,i,l,s,c,f,b,w,_,E,U]}class ll extends Ze{constructor(e){super(),Qe(this,e,tl,$t,Ye,{formId:0})}}function nl(n,e,t){const l=n.slice();return l[0]=e[t],l}function sl(n){let e,t,l,s=n[0].when+"",a,c,f,r=n[0].title+"",p,k,g,d,i,b=n[0].details+"",w;return{c(){e=m("li"),t=m("strong"),l=m("small"),a=X(s),c=m("br"),f=V(),p=X(r),k=m("br"),g=V(),d=m("em"),i=new Vt(!1),w=V(),this.h()},l(_){e=h(_,"LI",{class:!0});var E=D(e);t=h(E,"STRONG",{});var U=D(t);l=h(U,"SMALL",{});var C=D(l);a=J(C,s),C.forEach(v),U.forEach(v),c=h(E,"BR",{}),f=M(E),p=J(E,r),k=h(E,"BR",{}),g=M(E),d=h(E,"EM",{class:!0});var T=D(d);i=Mt(T,!1),T.forEach(v),w=M(E),E.forEach(v),this.h()},h(){i.a=null,u(d,"class","small fw-lighter"),u(e,"class","list-group-item")},m(_,E){H(_,e,E),o(e,t),o(t,l),o(l,a),o(e,c),o(e,f),o(e,p),o(e,k),o(e,g),o(e,d),i.m(b,d),o(e,w)},p:oe,d(_){_&&v(e)}}}function al(n){let e,t,l="Announcements",s,a,c=tt(Pt),f=[];for(let r=0;r<c.length;r+=1)f[r]=sl(nl(n,c,r));return{c(){e=m("div"),t=m("div"),t.textContent=l,s=V(),a=m("ul");for(let r=0;r<f.length;r+=1)f[r].c();this.h()},l(r){e=h(r,"DIV",{class:!0});var p=D(e);t=h(p,"DIV",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-rw6gj3"&&(t.textContent=l),s=M(p),a=h(p,"UL",{class:!0});var k=D(a);for(let g=0;g<f.length;g+=1)f[g].l(k);k.forEach(v),p.forEach(v),this.h()},h(){u(t,"class","card-header"),u(a,"class","list-group list-group-flush"),u(e,"class","card")},m(r,p){H(r,e,p),o(e,t),o(e,s),o(e,a);for(let k=0;k<f.length;k+=1)f[k]&&f[k].m(a,null)},p:oe,i:oe,o:oe,d(r){r&&v(e),Ct(f,r)}}}class il extends Ze{constructor(e){super(),Qe(this,e,null,al,Ye,{})}}function rl(n){let e,t;return e=new il({}),{c(){we(e.$$.fragment)},l(l){Te(e.$$.fragment,l)},m(l,s){Se(e,l,s),t=!0},i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){Ne(e,l)}}}function ol(n){let e,t;return e=new ll({}),{c(){we(e.$$.fragment)},l(l){Te(e.$$.fragment,l)},m(l,s){Se(e,l,s),t=!0},i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){Ne(e,l)}}}function ul(n){let e,t,l,s;const a=[ol,rl],c=[];function f(r,p){return r[0]?0:1}return e=f(n),t=c[e]=a[e](n),{c(){t.c(),l=We()},l(r){t.l(r),l=We()},m(r,p){c[e].m(r,p),H(r,l,p),s=!0},p(r,[p]){let k=e;e=f(r),e!==k&&(Et(),ne(c[k],1,1,()=>{c[k]=null}),kt(),t=c[e],t||(t=c[e]=a[e](r),t.c()),le(t,1),t.m(l.parentNode,l))},i(r){s||(le(t),s=!0)},o(r){ne(t),s=!1},d(r){r&&v(l),c[e].d(r)}}}function fl(n,e,t){const{actions:{featureIsEnabled:l}}=It();let s=!1;return gt(async()=>{t(0,s=l(yt.ViewDBCalendarEvents))}),[s]}class Cl extends Ze{constructor(e){super(),Qe(this,e,fl,ul,Ye,{})}}export{Cl as C};
